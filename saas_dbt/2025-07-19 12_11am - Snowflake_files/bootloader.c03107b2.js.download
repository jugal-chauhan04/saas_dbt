(()=>{var e={129:function(e,t){t.defaults={},t.set=function(e,r,o){var a=o||{},n=t.defaults,s=a.expires||n.expires,i=a.domain||n.domain,l=void 0!==a.path?a.path:void 0!==n.path?n.path:"/",c=void 0!==a.secure?a.secure:n.secure,u=void 0!==a.httponly?a.httponly:n.httponly,d=void 0!==a.samesite?a.samesite:n.samesite,p=s?new Date("number"==typeof s?new Date().getTime()+864e5*s:s):0;document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+r.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(p&&p.getTime()>=0?";expires="+p.toUTCString():"")+(i?";domain="+i:"")+(l?";path="+l:"")+(c?";secure":"")+(u?";httponly":"")+(d?";samesite="+d:"")},t.get=function(e){for(var t=document.cookie.split(";");t.length;){var r=t.pop(),o=r.indexOf("=");if(o=o<0?r.length:o,decodeURIComponent(r.slice(0,o).replace(/^\s+/,""))===e)return decodeURIComponent(r.slice(o+1))}return null},t.erase=function(e,r){t.set(e,"",{expires:-1,domain:r&&r.domain,path:r&&r.path,secure:0,httponly:0})},t.all=function(){for(var e={},t=document.cookie.split(";");t.length;){var r=t.pop(),o=r.indexOf("=");o=o<0?r.length:o,e[decodeURIComponent(r.slice(0,o).replace(/^\s+/,""))]=decodeURIComponent(r.slice(o+1))}return e}},112:function(e,t,r){"use strict";var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))(function(a,n){function s(e){try{l(o.next(e))}catch(e){n(e)}}function i(e){try{l(o.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?a(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,i)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var r,o,a,n,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return n={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function i(n){return function(i){var l=[n,i];if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(a=2&l[0]?o.return:l[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,l[1])).done)return a;switch(o=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,o=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){s=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){s.label=l[1];break}if(6===l[0]&&s.label<a[1]){s.label=a[1],a=l;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(l);break}a[2]&&s.ops.pop(),s.trys.pop();continue}l=t.call(e,s)}catch(e){l=[6,e],o=0}finally{r=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotRetryableError=t.RetryError=t.notEmpty=t.customizeRetry=t.customizeDecorator=t.retryDecorator=t.retry=t.wait=t.defaultRetryConfig=void 0;var i=r(741),l=function(e,t){return t},c=function(e,t){return e*t},u=function(e,t){return Math.pow(t,e)};function d(e){return n(this,void 0,void 0,function(){return s(this,function(t){return[2,new Promise(function(t){return setTimeout(t,e)})]})})}function p(e,r){return n(this,void 0,void 0,function(){var o;return s(this,function(a){return o=Object.assign({},t.defaultRetryConfig,r),[2,i.timeout(o.timeout,function(t){return function(e,t,r){return n(this,void 0,void 0,function(){var o,a,n,i,p,f,m;return s(this,function(s){switch(s.label){case 0:switch(t.backoff){case"EXPONENTIAL":a=u;break;case"FIXED":a=l;break;case"LINEAR":a=c;break;default:a=t.backoff}n="INFINITELY"===t.retries?Number.MAX_SAFE_INTEGER:t.retries,i=0,s.label=1;case 1:if(!(i<=n))return[3,8];s.label=2;case 2:return s.trys.push([2,4,,5]),[4,e()];case 3:if(p=s.sent(),t.until(p))return[2,p];return t.logger("Until condition not met by "+p),[3,5];case 4:if(f=s.sent(),!t.retryIf(f))throw f;if(f.name===w.name)throw new h("Met not retryable error. Last error: "+f,f);return o=f,t.logger("Retry failed: "+f.message),[3,5];case 5:return[4,d((m=a(i+1,t.delay))>t.maxBackOff?t.maxBackOff:m)];case 6:if(s.sent(),r())return[3,8];s.label=7;case 7:return i++,[3,1];case 8:throw new h("All retries failed. Last error: "+o,o)}})})}(e,o,t)})]})})}function f(e,t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return p(function(){return e.apply(void 0,r)},t)}}t.defaultRetryConfig={backoff:"FIXED",delay:100,logger:function(){},maxBackOff:3e5,retries:10,timeout:6e4,until:function(){return!0},retryIf:function(){return!0}},t.wait=d,t.retry=p,t.retryDecorator=f,t.customizeDecorator=function(e){return function(t,r){return f(t,Object.assign({},e,r))}},t.customizeRetry=function(e){return function(t,r){return p(t,Object.assign({},e,r))}},t.notEmpty=function(e){return Array.isArray(e)?e.length>0:null!=e};var h=function(e){function t(t,r){var o=e.call(this,t)||this;return o.lastError=r,o}return a(t,e),t}(Error);t.RetryError=h;var m=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.message=e,Error.apply(this,t)};m.prototype=Error();var w=function(e){function t(t){var r=e.call(this,t)||this;return Object.defineProperty(r,"name",{value:r.constructor.name}),r}return a(t,e),t}(m);t.NotRetryableError=w},741:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeout=void 0,t.timeout=function(e,t){if("INFINITELY"===e)return t(function(){return!1});var r=!1,o=function(){return r};return new Promise(function(a,n){var s=setTimeout(function(){r=!0,n(Error("Timeout after "+e+"ms"))},e);t(o).then(function(e){a(e),clearTimeout(s)},function(e){n(e),clearTimeout(s)})})}}},t={};function r(o){var a=t[o];if(void 0!==a)return a.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,r),n.exports}r.rv=()=>"1.3.9",r.ruid="bundler=rspack@1.3.9",(()=>{"use strict";let e,t;var o=r(112);let a=window.numeracy||{};Object.defineProperty(window,"numeracy",{get:()=>a,set:e=>(Object.assign(a,e),a),configurable:!0});let n=window.pageParams||{};Object.defineProperty(window,"pageParams",{get:()=>n,set:e=>(Object.assign(n,e),n),configurable:!0});let s={num:-1,time:"2025-07-15T00:19:21.754Z",version:"250714-4-113ef626500",appServerUrl:""};window.build=s,a.clientVersion=s.version,a.appServerUrl=s.appServerUrl,a.injectableAfterLoad=!0;let i={retries:1,delay:10,timeout:"INFINITELY"},l="csrfToken",{setCsrfToken:c,getCsrfToken:u}=function(){let e=(()=>{try{let e=sessionStorage.getItem(l);if(!e)return{};return JSON.parse(e)}catch{return{}}})();return{setCsrfToken:function(t,r){e[t]=r,sessionStorage.setItem(l,JSON.stringify(e))},getCsrfToken:function(t){return e[t]}}}();var d=r(129);let p="snowflakeContext",f="authparams";async function h(e){let{appServerUrl:t,authToken:r}=e;try{let e={};r&&(e["X-Coldbrew-User-Token"]=r);let o=new URL(`${t}/v1/set-cookie`),a=await fetch(o.toString(),{method:"GET",credentials:"include",headers:e});if(!a.ok)return!1;let n=await a.json();return!0===n.success}catch(e){return!1}}let m=async e=>{let t=e.searchParams.get(f),r=d.get(t||f),o=new URLSearchParams(e.hash.replace(/^#/u,"")).get(f),a=null;if(r)try{a=JSON.parse(atob(r))}catch(e){a=null}if(null===a&&o)try{a=JSON.parse(atob(o))}catch(e){return null}return(null==a?void 0:a.authToken)&&(null==a?void 0:a.appServerUrl)&&await h({appServerUrl:a.appServerUrl,authToken:a.authToken}),a},w=e=>{let t=sessionStorage.getItem(p)??d.get(p);return t?e[t]??null:null},g=e=>{let[t,r,o]=e.pathname.split("/").map(e=>e.toLowerCase());return[o,r]},v=(e,t)=>{let[r,o]=g(e),a=null;for(let e in t){var n,s;let i=t[e],l=null==(n=i.account)?void 0:n.toLowerCase(),c=null==(s=i.region)?void 0:s.toLowerCase();l===r&&c===o&&(!a||i.updated&&i.updated>(a.updated??0))&&(a=i)}return a},y=e=>{let[t,r,o]=e.pathname.split("/").map(e=>e.toLowerCase());return[r,o]},b=(e,t)=>{let[r,o]=y(e),a=null;for(let e in t){var n,s;let i=t[e],l=null==(n=i.snowflakeOrgName)?void 0:n.toLowerCase(),c=null==(s=i.accountAlias)?void 0:s.toLowerCase();l===r&&c===o&&(!a||i.updated&&i.updated>(a.updated??0))&&(a=i)}return a},k=(e,t)=>b(e,t)??v(e,t);function S(e,t){return`${e}::${t}`}let P=e=>S(e.username,e.url),U=async e=>{if("LOGIN_FAILED"===new URLSearchParams(window.location.search).get("error"))return null;let t=JSON.parse(localStorage.getItem("loggedInAccounts")??"{}"),r=w(t),o=await m(e)??function(e,t){return!e||t&&(e.region===t.region&&e.account===t.account||e.snowflakeOrgName===t.snowflakeOrgName&&e.accountAlias===t.accountAlias)?t:e}(k(e,t),r);if(o){r!==o&&(sessionStorage.removeItem("currentrole"),sessionStorage.removeItem("currentsecondaryroles"));let e=P(o);sessionStorage.setItem(p,e),d.set(p,e)}return o};function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e){let{args:t,observableName:r}=e;a.bootstrapFetches=a.bootstrapFetches||{},a.bootstrapFetches.observableFetches=a.bootstrapFetches.observableFetches||{fetches:[]};let o=window.localStorage.getItem("pinnedVersion");if(o){(1===t.length||null==t[1])&&(t[1]={});let e=t[1],r=new Headers(e.headers);r.set("X-Pinned-Version",o),e.headers=r}let n=fetch(...t);return a.bootstrapFetches.observableFetches.fetches.push({args:t,response:n,datadogName:`prefetch_bootstrap__${r}`,absolutePath:new URL(t[0].toString(),document.baseURI).href}),n}class C extends Error{constructor(e,t,r=[],o=0){super(e),I(this,"code",void 0),I(this,"details",void 0),I(this,"httpStatus",void 0),this.name="ConnectError",this.code=t,this.details=r,this.httpStatus=o}}let O="x-snowflake-beach";class N{static create(e,t){return N.instance||(N.instance=new N(e,t)),N.instance}static getInstance(){if(!N.instance)throw Error("BootloaderConnectFetchClient not initialized. Call create() first.");return N.instance}async call(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{observableName:o}=r,a=async()=>{let r={headers:{"Content-Type":"application/json","Connect-Protocol-Version":"1"}};for(let e of[this.authInterceptor,this.beachInterceptor,this.requestIdInterceptor])await e(r);return await T({args:[`${this.baseUrl}${e}`,{method:"POST",headers:r.headers,body:JSON.stringify(t)}],observableName:"pep_connect_fetch"+(o?`_${o}`:"")})},n=await a();if(!n.ok){if(401===n.status){try{await this.bootloaderPepTokenService.refreshToken()}catch(t){let e=t instanceof Error?t.message:String(t);throw new C(`[unauthenticated] Failed to refresh token: ${e}`,"unauthenticated",[],401)}if((n=await a()).ok)return n.json()}let e={};try{e=await n.json()}catch{}throw new C(e.message||`HTTP error ${n.status}`,e.code||"unknown",e.details||[],n.status)}return n.json()}static _resetForTests(){N.instance=void 0}constructor(e,t){I(this,"bootloaderPepTokenService",void 0),I(this,"baseUrl",void 0),I(this,"authInterceptor",void 0),I(this,"requestIdInterceptor",void 0),I(this,"beachInterceptor",void 0),this.bootloaderPepTokenService=t,this.authInterceptor=async e=>{let t;try{t=await this.bootloaderPepTokenService.getToken(),e.headers.Authorization=`Bearer ${t}`}catch(t){let e=t instanceof Error?t.message:String(t);throw new C(`[unauthenticated] Failed to get token: ${e}`,"unauthenticated",[],401)}},this.requestIdInterceptor=e=>{let t="undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():null;t&&(e.headers["x-snowflake-request-id"]=t)},this.beachInterceptor=e=>{let t=localStorage.getItem("pepBeachBackendVersion"),r=localStorage.getItem("pepBeachCanary");t?e.headers[O]=`beach-${t}`:r&&(e.headers[O]="canary")},this.baseUrl=e().appServerUrl,this.bootloaderPepTokenService=t}}I(N,"instance",void 0);let _=e=>`1#${encodeURIComponent(e)}`,R=e=>!/[^\u0000-\u00ff]/g.test(e),E=[".privatelink.testdns.snowflakecomputing.com",".privatelink.snowflakecomputing.com",".privatelink.int.snowflakecomputing.com",".privatelink.int.snowflake.local",".privatelink.snowflake.local",".privatelink.snowflake.snowsaas.cn",".privatelink.snowflakecomputing.com.cn",".privatelink.snowflakecomputing.cn"];function x(e){return""!==(E.find(t=>null==e?void 0:e.endsWith(t))||"")}let F={userId:"X-Numeracy-UserId",clientVersion:"X-Numeracy-Client-Version",privateLinkHost:"X-Snowflake-Privatelink-Host",snowflakeContext:"X-Snowflake-Context",encodedSnowflakeContext:"X-Snowflake-Context-Encoded",snowflakeRole:"X-Snowflake-Role",encodedSnowflakeRole:"X-Snowflake-Role-Encoded",csrfToken:"X-CSRF-Token",encodedSnowflakeSecondaryRoles:"X-Snowflake-Secondary-Roles-Encoded"};function j(e,t,r,o){let n={...r??{}},s={...n.headers??{}};if(n.credentials="include",null!=t&&(s[F.userId]=`${t}`),a.clientVersion&&(s[F.clientVersion]=a.clientVersion),x(window.location.hostname)&&(s[F.privateLinkHost]=window.location.origin),e.userKey&&(s[F.snowflakeContext]=e.userKey),e.csrfToken&&(s[F.csrfToken]=e.csrfToken),e.decodedUserKey)try{s[F.encodedSnowflakeContext]=_(e.decodedUserKey)}catch(e){null==o||o.error(e,{message:"Failed to generate x-snowflake-context-encoded"})}if(e.role){R(e.role)&&(s[F.snowflakeRole]=e.role);try{s[F.encodedSnowflakeRole]=_(e.role)}catch(e){null==o||o.error(e,{message:"Failed to generate x-snowflake-role-encoded"})}}if(e.secondaryRoles)try{s[F.encodedSnowflakeSecondaryRoles]=_(e.secondaryRoles)}catch(e){null==o||o.error(e,{message:"Failed to generate X-Snowflake-Secondary-Roles-Encoded"})}return[n,s]}class ${static create(e){return $.instance||($.instance=new $(e)),$.instance}static getInstance(){if(!$.instance)throw Error("BootloaderPepTokenService not initialized. Call create() first.");return $.instance}async fetchToken(){let[e,t]=j(this.getRequestContext(),void 0,{method:"POST",credentials:"include"},console),r=await T({args:[`${this.getRequestContext().appServerUrl}/v1/token`,{...e,headers:t}],observableName:"fetch_pep_token"});if(!r.ok)throw Error(`Failed to fetch token: ${r.statusText}`);return(await r.json()).token}async getToken(){return this.cachedToken?this.cachedToken:this.refreshToken()}refreshToken(){return this.tokenPromise||(this.tokenPromise=(async()=>{try{let e=await this.fetchToken();return this.cachedToken=e,e}finally{this.tokenPromise=void 0}})()),this.tokenPromise}static _resetForTests(){$.instance=void 0}constructor(e){I(this,"getRequestContext",void 0),I(this,"cachedToken",void 0),I(this,"tokenPromise",void 0),this.getRequestContext=e}}I($,"instance",void 0);let D={isLaunchShadowEnabled:()=>"preprod.app.snowflake.com"===window.location.hostname||window.location.hostname.includes(".apps-beach.")},B=Symbol.for("_sf_fetchLaunchDataPromise");async function A(){return N.getInstance().call("/pep.launch.v1.LaunchService/GetLaunchData",{},{observableName:"fetch_launch_data"})}function L(e){return S(decodeURIComponent(escape(e.username)),e.url)}function V(e,t){var r,o;return{appServerUrl:(null==t||null==(r=t.PageParams)?void 0:r.appServerUrl)||e.appServerUrl,userKey:P(e),decodedUserKey:L(e),role:sessionStorage.getItem("currentrole")??void 0,csrfToken:null==t||null==(o=t.PageParams)?void 0:o.csrfToken}}function M(e){return null==e?"_default":"number"==typeof e?e.toString():e}function q(e){let t=M(e);return window.localStorage.getItem(`_clientVersionOverride_${t}`)}let X=/^([0-9a-z_]*[\w-]*-)?([df][0-9a-zA-Z]+(?::[^@]+)?)$/u,W=e=>(e||"").split("-").slice(-1)[0],K=()=>!!window.location.hash&&window.location.hash.startsWith("#/"),z="bootstrapData",H=new class{set(e){this.data=e;try{sessionStorage.setItem(z,JSON.stringify(e))}catch(e){console.error(`Failed to store bootstrap data in session storage: ${e}`)}}get(){if(!this.data){let e=sessionStorage.getItem(z);e&&(this.data=JSON.parse(e))}return structuredClone(this.data)}setUser(e){let t=this.get();t&&(t.User=e,this.set(t))}constructor(){I(this,"data",void 0)}},J=e=>{var t;return e.Org&&e.User?S(e.User.username,e.Org.url):(null==(t=e.PageParams)?void 0:t.appServerUrl)?`_::${e.PageParams.appServerUrl}`:null};class Y{}I(Y,"Namespace","cachedBootstrapData");class G{async get(e){let t=G.getCacheKey(e),r=await this.cachedBoostrapDataStorage.get(t);return r?G.isCacheable(r)?r:(await this.cachedBoostrapDataStorage.delete(t),null):null}async set(e){let t=J(e);if(t&&G.isCacheable(e))try{await this.cachedBoostrapDataStorage.set(G.getCacheKey(t),this.createCachedBootstrapResponse(e))}catch(e){console.error(`Failed to store bootstrap data in storage: ${e}`)}finally{await this.cachedBoostrapDataStorage.garbageCollect()}}static isCacheable(e){var t,r;return null==(r=e.Org)||null==(t=r.settings)||!t.isPolaris}static getCacheKey(e){return[Y.Namespace,d.get("snowflake_apps_channel")||"main",d.get("snowflake_apps_channel_staging")||"_",e].join("::")}createCachedBootstrapResponse(e){let t={UpdatedAt:Date.now(),BuildVersion:e.BuildVersion,PageParams:e.PageParams};return e.Org&&(t.Org={settings:{isPolaris:e.Org.settings.isPolaris,snowflakeFeatures:e.Org.settings.snowflakeFeatures},account:e.Org.account,url:e.Org.url}),e.User&&(t.User={availableRoles:e.User.availableRoles,avatar:e.User.avatar,canModifyParameters:e.User.canModifyParameters,email:e.User.email,id:e.User.id,name:e.User.name,settings:e.User.settings,username:e.User.username,gsCreatedOn:e.User.gsCreatedOn,firstName:e.User.firstName,lastName:e.User.lastName}),t}constructor(e){I(this,"cachedBoostrapDataStorage",void 0),this.cachedBoostrapDataStorage=e}}let Z=e=>S(e.username,e.url);class Q extends Y{async set(e,t){try{await this.executeInDatabase(async r=>{let o=r.transaction(Q.ObjectStoreName,"readwrite").objectStore(Q.ObjectStoreName);await this.requestToPromise(o.put({key:e,response:t}))})}catch(e){console.error("Unable to add data to the database.",e)}}async get(e){try{return await this.executeInDatabase(async t=>{let r=t.transaction(Q.ObjectStoreName,"readonly").objectStore(Q.ObjectStoreName),o=await this.requestToPromise(r.get(e));return o&&o.response.UpdatedAt>this.twoWeeksAgo()?o.response:null})}catch(e){return console.error("Unable to retrieve data from the database.",e),null}}async delete(e){try{await this.executeInDatabase(async t=>{let r=t.transaction(Q.ObjectStoreName,"readwrite").objectStore(Q.ObjectStoreName);await this.requestToPromise(r.delete(e))})}catch(e){console.error("Unable to delete data from the database.",e)}}async garbageCollect(){try{await this.executeInDatabase(async e=>{let t=e.transaction(Q.ObjectStoreName,"readwrite").objectStore(Q.ObjectStoreName);for(let e of(await this.requestToPromise(t.getAll())))e.key.startsWith(Y.Namespace)&&e.response.UpdatedAt<=this.twoWeeksAgo()&&await this.requestToPromise(t.delete(e.key))}),this.cleanUpLocalStorage()}catch(e){console.log("Failed to invalidate stale caches.",e)}}cleanUpLocalStorage(){for(let e=0;e<localStorage.length;e++){let t=localStorage.key(e);null!=t&&t.startsWith(Y.Namespace)&&localStorage.removeItem(t)}}async executeInDatabase(e){let t=null;try{return t=await this.openDatabase(),await e(t)}finally{t&&t.close()}}openDatabase(){return new Promise((e,t)=>{let r=indexedDB.open(Q.DatabaseName,Q.DatabaseVersion);r.onerror=e=>{t(e)},r.onsuccess=t=>{e(t.target.result)},r.onupgradeneeded=e=>{let t=e.target.result;t.objectStoreNames.contains(Q.ObjectStoreName)||t.createObjectStore(Q.ObjectStoreName,{keyPath:"key"})}})}requestToPromise(e){return new Promise((t,r)=>{e.onsuccess=()=>t(e.result),e.onerror=()=>r(e.error)})}twoWeeksAgo(){return Date.now()-12096e5}}I(Q,"DatabaseName","CachedBootstrapData"),I(Q,"DatabaseVersion",1),I(Q,"ObjectStoreName","responses");let ee=async e=>{let t=await et(e);if(t){var r,o,a,n;window.sessionStorage.setItem("ddAppId",(null==t||null==(o=t.bootstrapResponse)||null==(r=o.PageParams)?void 0:r.ddAppId)??""),window.sessionStorage.setItem("ddClientToken",(null==(n=t.bootstrapResponse)||null==(a=n.PageParams)?void 0:a.ddClientToken)??"")}return t};async function et(e){let t=new G(new Q),r=await t.get(Z(e));return r?(H.set(r),a.bootstrapFetches||(a.bootstrapFetches={}),a.bootstrapFetches.bootstrapResponse=r,setTimeout(async()=>{await eo(e)},0),{bootstrapResponse:r,fromCache:!0}):{bootstrapResponse:await eo(e),fromCache:!1}}async function er(e){let t=await ea(e);return t&&(H.set(t),a.bootstrapFetches||(a.bootstrapFetches={}),a.bootstrapFetches.bootstrapResponse=t),t}async function eo(e){let t=await er(e);if(t){let e=new G(new Q);await e.set(t)}return t}async function ea(e){let t=e.appServerUrl,r=V(e);try{return await (0,o.retry)(async()=>{let e=await T({args:[`${t}/bootstrap?deferSync=true`,{credentials:"include",headers:{...j(r)[1]}}],observableName:"deployment_bootstrap"});if(!e.ok)throw Error(e.statusText);let o=await e.json();if(!o.BuildVersion)throw Error("No build version specified");let a=e.headers.get("X-Pinned-Version");return window.localStorage.setItem("pinnedVersion",a??""),o},i)}catch(e){return console.error(`Failed to get version from deployment: ${e}`),null}}async function en(r,o){var n,s,i,l,c,u,d;if((null==(n=r.PageParams)?void 0:n.enableBootstrapParametersPreloading)===!1)return;if(a.bootstrapFetches||(a.bootstrapFetches={}),a.bootstrapFetches.extendedBootstrapData=e,a.bootstrapFetches.guestBootstrapData=t,(null==(i=r.Org)||null==(s=i.settings)?void 0:s.snowflakeFeatures)&&(null==(c=r.User)||null==(l=c.settings)?void 0:l.snowflakeFeatures)){a.featureFlags={...r.Org.settings.snowflakeFeatures,...r.User.settings.snowflakeFeatures};return}if(!e&&!t)return;let p=performance.now(),f=new AbortController;try{for(let e of o)fetch(e,{signal:f.signal}).catch(()=>{});let r=e?await e:await t;return a.featureFlags=(null==r||null==(u=r.clientParameters)?void 0:u.reduce((e,t)=>{let{name:r,value:o}=t;return e[r]=o,e},{}))??{},r}finally{let e=performance.now()-p;(null==(d=window.bootloaderAnalytics)?void 0:d.extendedBootstrapCall)&&(window.bootloaderAnalytics.extendedBootstrapCall.blockingTime=e),f.abort("Received an initial bootstrap response, no need to preload scripts anymore")}}async function es(e,t){try{return await (0,o.retry)(async()=>{var r;let o=(null==t||null==(r=t.PageParams)?void 0:r.appServerUrl)||(null==e?void 0:e.appServerUrl)||(null==a?void 0:a.appServerUrl)||window.location.origin,n=await T({args:[`${o}/v0/guest/session/request/console/bootstrap-data-request?desc=parameters`,{credentials:"include",body:JSON.stringify({dataKinds:["CLIENT_PARAMS_INFO"]}),headers:{"x-snowflake-role":"PUBLIC","Content-Type":"application/json"},method:"POST"}],observableName:"deployment_extended_bootstrap_guest"});if(!n.ok)throw Error(n.statusText);return{clientParameters:(await n.json()).data.clientParamsInfo}},i)}catch(e){return console.error(`Failed to get extended bootstrap data from deployment: ${e}`),null}}async function ei(e,t){try{let r=V(e,t);return await (0,o.retry)(async()=>{let e=await T({args:[`${r.appServerUrl}/v0/fetch-extended-bootstrap-data`,{credentials:"include",headers:{...j(r)[1]},method:"POST"}],observableName:"deployment_extended_bootstrap"});if(!e.ok)throw Error(e.statusText);return await e.json()},i)}catch(e){return console.error(`Failed to get extended bootstrap data from deployment: ${e}`),null}}let el={NOT_FOUND:"404: Not Found"},ec=e=>{let{src:t,fetchPriority:r}=e;return(0,o.retry)(async()=>{let e=document.createElement("script"),o=new Promise((t,r)=>{e.onload=e=>t(e),e.onerror=(t,o,a,n,s)=>r(s||Error("string"==typeof t?t:`Error loading ${e.src}`))});e.src=t,e.defer=!0,r&&(e.fetchPriority=r),document.body.appendChild(e);try{await o}catch(t){var a;throw null==e||null==(a=e.parentNode)||a.removeChild(e),t}},i)},eu=e=>{let{src:t}=e;return(0,o.retry)(async()=>{let e=document.createElement("link"),r=new Promise((t,r)=>{e.onload=t,e.onerror=(t,o,a,n,s)=>r(s||Error("string"==typeof t?t:`Error loading ${e.href}`))});e.rel="stylesheet",e.href=t,document.body.appendChild(e);try{await r}catch(t){var o;throw null==e||null==(o=e.parentNode)||o.removeChild(e),t}},i)},ed=async e=>{let t,{version:r}=e;try{t=await (0,o.retry)(async()=>{let e=await T({args:[`/static/manifest-${r}.json`],observableName:"manifest"});if(!e.ok){if(404===e.status)throw new o.NotRetryableError(el.NOT_FOUND);throw Error(e.statusText)}return await e.json()},i)}catch(e){console.warn(`Failed to fetch build manifest: ${e}`)}return t},ep=e=>{let{buildManifest:t,entrypoint:r}=e;return(t.entrypoints[r]||[]).map(e=>`/static/${e}`)},ef=(e,t)=>{if("250714-4-113ef626500"===e.BuildVersion&&null!==t)return Promise.resolve(function(e){let t={appServerUrl:e.appServerUrl,userKey:P(e),decodedUserKey:L(e),role:sessionStorage.getItem("currentrole")??void 0},r=function(){let e=window.location.pathname;if(e.endsWith("/")&&(e=e.slice(0,-1)),!K())return e;let t=window.location.hash.split("/");if(2!==t.length)return e;let[r,o]=t;return o&&X.test(o)&&(e=e+"/"+W(o)),e}()+window.location.search,o=`/bootstrap${r}`,[a,n]=j(t,void 0,void 0,console);return{fetchResponse:T({args:[`${t.appServerUrl}${o}`,{...a,headers:n}],observableName:"app_bootstrap"}),path:o,requestContext:t}}(t))},eh=async(e,t)=>{var r;let o=q(null==e||null==(r=e.User)?void 0:r.id)||e.BuildVersion,n=function(e){var t;return(null==(t=e.Org)?void 0:t.settings.isPolaris)?"polaris":"numeracy"}(e),s=!t&&/^\/?$/iu.test(window.location.pathname);a.bootstrapFetches=a.bootstrapFetches||{};try{s||(a.bootstrapFetches.application=ef(e,t))}catch(e){a.bootstrapFetches.application=void 0,console.warn(`Failed to run bootstrap fetches: ${e}`)}let i=document.createComment(`License information for included third-party packages can be found at ${window.location.origin}/static/oss-licenses-${o}.json`);document.body.appendChild(i);let l=await ed({version:o});if(void 0===l)throw Error("Failed to load application");let c=[],u=ep({buildManifest:l,entrypoint:s?"signin":n}),d=[];for(let e of u)if(e.endsWith(".js")&&d.push(e),e.endsWith(".css")){let t=eu({src:e});c.push(t)}for(let t of(await en(e,d),d)){let e=ec({src:t});c.push(e)}return await Promise.all(c)},em=()=>{let e=`
  <style>
    body {
      margin: 0;
    }

    .global-app-error {
      font-family: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      height: 100vh;
      background-color: #f7f7f7ff;
    }

    .primary-error-message {
      color: #1e252fff;
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 0.5em;
    }

    .subtitle-error-message {
      color: #5d6a85ff;
      font-size: 16px;
      font-weight: 300;
      margin-top: 0;
      margin-bottom: 2em;
    }
  </style>
  <div class="global-app-error">
    <h1 class="primary-error-message">Something went wrong</h1>
    <h3 class="subtitle-error-message">Please refresh the page</h3>
  </div>
  `,t=document.getElementById("reactRoot");t?t.innerHTML=e:document.body.innerHTML=e},ew=async(r,o,a)=>{var n,s,i,l,u;let d=await U(a??new URL(window.location.href));!function(e){try{if(e&&D.isLaunchShadowEnabled()){let t=()=>V(e);$.create(t),N.create(t,$.getInstance()),(async()=>{try{let e=A();window[B]=e,await e}catch(e){console.error(`Failed to get launch data: ${e}`)}})()}}catch(e){console.error(`Failed to instantiate services for fetching launch data: ${e}`)}}(d);let p=(null==d?void 0:d.appServerUrl)?await ee(d):null,f=(null==p?void 0:p.bootstrapResponse)||null;(null==f||null==(n=f.PageParams)?void 0:n.appServerUrl)&&(null==f||null==(s=f.PageParams)?void 0:s.csrfToken)&&c(f.PageParams.appServerUrl,f.PageParams.csrfToken),function(r,o){var a,n;r&&(null==o||null==(a=o.PageParams)?void 0:a.csrfToken)&&(null==o||null==(n=o.PageParams)?void 0:n.enableBootstrapParametersPreloading)?(e=ei(r,o),t=void 0):("preprod.app.snowflake.com"===window.location.hostname||"app.snowflake.local"===window.location.hostname)&&.2>Math.random()?(t=es(r,o),e=void 0):(e=void 0,t=void 0)}(d,f),window.NUMERACY_VERSION_OVERRIDE&&function(e,t){let r=M(e);window.localStorage.setItem(`_clientVersionOverride_${r}`,t)}(null==f||null==(l=f.User)?void 0:l.id,window.NUMERACY_VERSION_OVERRIDE);let h=q(null==f||null==(i=f.User)?void 0:i.id);if(window.bootloaderAnalytics={versionAnalytics:{bootstrapAndBuiltinVersionMatch:(null==f?void 0:f.BuildVersion)===r,calledBootstrap:null!==f,versionOverrideEnabled:null!==h},bootstrapCall:{cacheHit:!!(null==p?void 0:p.fromCache)},extendedBootstrapCall:{blockingTime:void 0}},r.startsWith("PR-")){!function(e){let t=M(e);window.localStorage.removeItem(`_clientVersionOverride_${t}`)}(null==f||null==(u=f.User)?void 0:u.id),await o({...f,BuildVersion:r},d);return}return(null==f?void 0:f.BuildVersion)?void await o(f,d):await o({BuildVersion:r},d)};(async()=>{let e=Object.fromEntries(new URLSearchParams(window.location.search));if(function(){let e=window.location.hostname;return e.startsWith("ai.snowflake.")||e.startsWith("preprod.ai.snowflake.")||e.startsWith("si-")&&x(e)}()&&(document.title="Snowflake Intelligence"),e.numeracy_version_override&&(window.NUMERACY_VERSION_OVERRIDE=e.numeracy_version_override),"entrypoint_version_override"in e&&"250714-4-113ef626500"!==e.entrypoint_version_override){let t=await ed({version:e.entrypoint_version_override});if(void 0===t)throw Error("Failed to load application");let r=Object.keys(t).find(e=>e.startsWith("bootloader."));await ec({src:t[r].file});return}ew("250714-4-113ef626500",async function(e,t){try{await eh(e,t)}catch(e){console.error(`Failed to load application: ${e}`),em()}})})()})()})();