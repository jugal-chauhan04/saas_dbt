(self.webpackChunk_snowflake_nu_ui=self.webpackChunk_snowflake_nu_ui||[]).push([["13218"],{66891:function(e,t,n){var r={"./en.json":["180594","59793"],"./ja.json":["16635","26512"],"./fr.json":["813581","94263"]};function o(e){if(!n.o(r,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],o=t[0];return n.e(t[1]).then(function(){return n.t(o,19)})}o.keys=()=>Object.keys(r),o.id=66891,e.exports=o},724421:function(e,t,n){"use strict";n.d(t,{r:()=>a});var r=n(994547),o=n(791656),i=n(663008);let a=()=>{let e=sessionStorage.getItem("bootstrapData");return e||(o.tD.execute({action:"pep_session_storage_bootstrap_data_not_found"}),e=i.o.sync().executeSync({},{link:r.I}).data),e||o.tD.execute({action:"pep_bootstrap_data_not_found"}),e?JSON.parse(e):null}},24149:function(e,t,n){"use strict";n.d(t,{_:()=>a,x:()=>p});var r=n(847345),o=n(895125),i=n(463198);function a(e,t,{serialize:n=JSON.stringify,deserialize:o=JSON.parse}={}){let[s,l]=r.useState(()=>{let n=window.localStorage.getItem(e);return null!==n?o(n):"function"==typeof t?t():t}),u=r.useRef(e);return[s,(0,i.z)(t=>{l(r=>{let o="function"==typeof t?t(r):t,i=u.current;return i!==e&&window.localStorage.removeItem(i),u.current=e,window.localStorage.setItem(e,n(o)),o})})]}function s(e,t){window.dispatchEvent(new StorageEvent("storage",{key:e,newValue:t}))}let l=(e,t)=>{window.localStorage.setItem(e,t),s(e,t)},u=e=>{window.localStorage.removeItem(e),s(e,null)},c=e=>window.localStorage.getItem(e),d=e=>(window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)),g=()=>{throw Error("useLocalStorage is a client-only hook")};function p(e,t){let n=(0,o.useSyncExternalStore)(d,()=>c(e),g),i=(0,r.useMemo)(()=>{if(null===n)return null;try{return JSON.parse(n)}catch(e){return null}},[n]),a=(0,r.useMemo)(()=>null!=i,[i]),s=(0,r.useMemo)(()=>a?i:t,[a,t,i]),p=(0,r.useCallback)(()=>{u(e)},[e]),f=(0,r.useCallback)(t=>{try{null==t&&u(e);let n="function"==typeof t?t(s):t;null==n?u(e):l(e,JSON.stringify(n))}catch(e){console.warn(e)}},[e,s]);return{value:s,setValue:f,hasStoredValue:a,clear:p}}},318250:function(e,t,n){"use strict";n.d(t,{k:()=>E});var r=n(286204);n(847345);var o=n(314040),i=n(372366),a=n(801726),s=n(493076),l=n(242291),u=n(216381),c=n(173624),d=n(849036),g=n(293572),p=n(628155);let f={small:4,default:6,large:8},m=({percent:e,validationState:t})=>t===p.Yg.VALID?(0,r.jsx)(o.g,{marginLeft:8,children:(0,r.jsx)(u.J,{icon:"status-success"})}):t===p.Yg.INVALID||t===p.Yg.WARNING?(0,r.jsx)(o.g,{marginLeft:8,children:(0,r.jsx)(u.J,{icon:"status-error"})}):(0,r.jsx)(c.x,{marginLeft:8,children:`${e}%`}),E=(0,a.t)("ProgressBar",(e,t)=>{let{label:n,helperText:a,percent:u,size:c="default",borderRadius:E="20px",barColor:h=s.Q2.progressBar,placement:v="horizontal",validationState:S=p.Yg.NONE,showValue:_=!1,"aria-label":b,"aria-labelledby":I,...y}=e,R=(0,i.h)(),T=S===p.Yg.VALID?s.Q2.statusSuccessColor:S===p.Yg.INVALID||S===p.Yg.WARNING?s.Q2.bannerErrorIconColor:h;return(0,r.jsxs)(o.g,{display:"flex",flexDirection:"column",role:"progressbar","aria-label":b,"aria-labelledby":I,"aria-valuenow":u,"aria-describedby":a||S===p.Yg.INVALID||S===p.Yg.WARNING?R:void 0,"aria-errormessage":S===p.Yg.INVALID?R:void 0,width:"100%",overflow:"hidden",children:[(0,r.jsxs)(l.X,{align:"justify",children:[n&&(0,r.jsx)(g._,{marginBottom:8,children:n}),_&&"vertical"===v&&(0,r.jsx)(m,{percent:u,validationState:S})]}),(0,r.jsxs)(l.X,{verticalAlign:"middle",children:[(0,r.jsx)(o.g,{backgroundColor:s.Q2.progressBarBg,height:f[c],width:"100%",borderRadius:E,ref:t,overflow:"hidden","data-testid":"progressbar-track",...y,children:(0,r.jsx)(o.g,{transitionDuration:"1000ms",transitionTimingFunction:"ease-in-out",transitionProperty:"width",backgroundColor:T,width:`${Math.min(Math.max(0,u),100)}%`,height:"100%",borderRadius:E})}),_&&"horizontal"===v&&(0,r.jsx)(m,{percent:u,validationState:S})]}),a&&(0,r.jsx)(d.p,{text:a,value:null,validationState:S,id:R})]})})},613417:function(e,t,n){"use strict";function r(e){return t=>{let n=0,r=()=>{n=window.setTimeout(t.hideLayer,e)},o=()=>{window.clearTimeout(n)};return{onShow:()=>{var e,n;let i=null==(e=t.getContextElement())?void 0:e.current,a=null==(n=t.getRoot())?void 0:n.current;null==i||i.addEventListener("mouseenter",o),null==i||i.addEventListener("mouseleave",r),null==a||a.addEventListener("mouseenter",o),null==a||a.addEventListener("mouseleave",r)},onHide:()=>{var e,n;let i=null==(e=t.getContextElement())?void 0:e.current,a=null==(n=t.getRoot())?void 0:n.current;null==i||i.removeEventListener("mouseenter",o),null==i||i.removeEventListener("mouseleave",r),null==a||a.removeEventListener("mouseenter",o),null==a||a.removeEventListener("mouseleave",r),o()}}}}n.d(t,{T:()=>r,l:()=>o});let o=r(100)},788862:function(e,t,n){"use strict";n.d(t,{G:()=>i,g:()=>o});let r="ease",o=e=>{let t=e.getIsShown();return{onShow:()=>{var n;let o=null==(n=e.getRoot())?void 0:n.current;o&&(o.style.transitionProperty="",o.style.transitionDuration="",o.style.transitionTimingFunction="",o.style.opacity="0",window.setTimeout(()=>{t=!0,o.style.transitionProperty="opacity",o.style.transitionDuration="500ms",o.style.transitionTimingFunction=r,o.style.opacity="1"},0))},onBeforeHide:()=>{var n;return!t||(t=!1,i(null==(n=e.getRoot())?void 0:n.current,e.hideLayer),!1)}}},i=(e,t)=>{e&&(e.style.transitionProperty="opacity",e.style.transitionDuration="500ms",e.style.transitionTimingFunction=r,e.style.opacity="0"),setTimeout(()=>{t()},500)}},449790:function(e,t,n){"use strict";n.d(t,{J:()=>c});var r=n(286204),o=n(847345),i=n(314040),a=n(491002),s=n(544587),l=n(547405);function u(e,t,n){return Math.min(Math.max(e,t),n)}let c=(0,n(801726).t)("VirtualScroller",(e,t)=>{let{focusedIndex:n,itemsCount:c,renderItem:d,toleranceCount:g=10,itemHeight:p,height:f="100%",...m}=e,E=o.useRef(null),h=(0,a.N)(),v=g*p,S=[],_=0,b=0,I=0,y=0,R=0,T=0;if(E.current){let e=E.current.clientHeight;_=E.current.scrollTop-v,b=E.current.scrollTop+e+v,I=u(Math.floor(_/p),0,c),y=u(Math.ceil(b/p),0,c),R=E.current.scrollTop-.5*v,T=E.current.scrollTop+e+.5*v;for(let e=I;e<y;e++)S.push((0,r.jsx)("div",{role:"presentation",style:{height:p},children:d(e)},e))}o.useLayoutEffect(()=>{var e,t,r,o;if(!E.current||void 0===n)return;let i=E.current.clientHeight,a=Math.ceil(E.current.scrollTop/p),s=Math.floor((E.current.scrollTop+i)/p)-1;n<a?null==(e=(t=E.current).scrollTo)||e.call(t,{top:n*p}):n>s&&(null==(r=(o=E.current).scrollTo)||r.call(o,{top:(n+1)*p-i}))},[n]);let N=o.useCallback(()=>{E.current&&(E.current.scrollTop<R||E.current.scrollTop+E.current.clientHeight>T||T-R<=0)&&h()},[h,R,T]);return o.useEffect(()=>{N()}),(0,l.T)(N,100,!1),(0,r.jsxs)(i.g,{height:f,overflowY:"auto",willChange:"transform",onScroll:N,ref:(0,s.r)(E,t),tabIndex:0,...m,children:[(0,r.jsx)("div",{role:"presentation",style:{height:I*p}}),S,(0,r.jsx)("div",{role:"presentation",style:{height:(c-y)*p}})]})})},295722:function(e,t,n){"use strict";n.d(t,{FU:()=>c,GA:()=>s,S6:()=>r,Ye:()=>l,cF:()=>g,fm:()=>u,gc:()=>a,l0:()=>d,wm:()=>p});let r=new Proxy({STARTED:e=>e({id:"Started"}),SUSPENDED:e=>e({id:"Suspended"}),RESUMING:e=>e({id:"Resuming"}),SUSPENDING:e=>e({id:"Suspending"}),RESIZING:e=>e({id:"Resizing"}),ENABLED:e=>e({id:"Enabled"}),DISABLED:e=>e({id:"Disabled"})},{get:(e,t)=>t in e?e[t]:()=>t});var o,i,a=((o={}).standard="STANDARD",o.snowpark="SNOWPARK-OPTIMIZED",o.adaptive="ADAPTIVE",o);let s={STANDARD_GEN_1:"STANDARD_GEN_1",STANDARD_GEN_2:"STANDARD_GEN_2"},l={MEMORY_1X:"MEMORY_1X",MEMORY_1X_X86:"MEMORY_1X_X86",MEMORY_16X:"MEMORY_16X",MEMORY_16X_X86:"MEMORY_16X_X86",MEMORY_64X:"MEMORY_64X",MEMORY_64X_X86:"MEMORY_64X_X86"},u={"X-Small":e=>e({id:"1 credit/hour"}),Small:e=>e({id:"2 credits/hour"}),Medium:e=>e({id:"4 credits/hour"}),Large:e=>e({id:"8 credits/hour"}),"X-Large":e=>e({id:"16 credits/hour"}),"2X-Large":e=>e({id:"32 credits/hour"}),"3X-Large":e=>e({id:"64 credits/hour"}),"4X-Large":e=>e({id:"128 credits/hour"}),"5X-Large":e=>e({id:"256 credits/hour"}),"6X-Large":e=>e({id:"512 credits/hour"}),"7X-Large":e=>e({id:"1024 credits/hour"}),"8X-Large":e=>e({id:"2048 credits/hour"}),"9X-Large":e=>e({id:"4096 credits/hour"}),"10X-Large":e=>e({id:"8192 credits/hour"})},c={MEMORY_1X:{"X-Small":e=>e({id:"1 credit/hour"}),Small:e=>e({id:"2 credits/hour"}),Medium:e=>e({id:"4 credits/hour"}),Large:e=>e({id:"8 credits/hour"}),"X-Large":e=>e({id:"16 credits/hour"}),"2X-Large":e=>e({id:"32 credits/hour"}),"3X-Large":e=>e({id:"64 credits/hour"}),"4X-Large":e=>e({id:"128 credits/hour"}),"5X-Large":e=>e({id:"- credits/hour"}),"6X-Large":e=>e({id:"- credits/hour"})},MEMORY_1X_X86:{"X-Small":e=>e({id:"1.10 credit/hour"}),Small:e=>e({id:"2.20 credits/hour"}),Medium:e=>e({id:"4.40 credits/hour"}),Large:e=>e({id:"8.80 credits/hour"}),"X-Large":e=>e({id:"17.60 credits/hour"}),"2X-Large":e=>e({id:"35.20 credits/hour"}),"3X-Large":e=>e({id:"70.40 credits/hour"}),"4X-Large":e=>e({id:"140.80 credits/hour"}),"5X-Large":e=>e({id:"- credits/hour"}),"6X-Large":e=>e({id:"- credits/hour"})},MEMORY_16X:{"X-Small":e=>e({id:"1 credit/hour"}),Small:e=>e({id:"2 credits/hour"}),Medium:e=>e({id:"6 credits/hour"}),Large:e=>e({id:"12 credits/hour"}),"X-Large":e=>e({id:"24 credits/hour"}),"2X-Large":e=>e({id:"48 credits/hour"}),"3X-Large":e=>e({id:"96 credits/hour"}),"4X-Large":e=>e({id:"192 credits/hour"}),"5X-Large":e=>e({id:"384 credits/hour"}),"6X-Large":e=>e({id:"768 credits/hour"})},MEMORY_16X_X86:{"X-Small":e=>e({id:"1 credit/hour"}),Small:e=>e({id:"2 credits/hour"}),Medium:e=>e({id:"6.25 credits/hour"}),Large:e=>e({id:"12.50 credits/hour"}),"X-Large":e=>e({id:"25 credits/hour"}),"2X-Large":e=>e({id:"50 credits/hour"}),"3X-Large":e=>e({id:"100 credits/hour"}),"4X-Large":e=>e({id:"200 credits/hour"}),"5X-Large":e=>e({id:"- credits/hour"}),"6X-Large":e=>e({id:"- credits/hour"})},MEMORY_64X:{"X-Small":e=>e({id:"1 credit/hour"}),Small:e=>e({id:"2 credits/hour"}),Medium:e=>e({id:"6 credits/hour"}),Large:e=>e({id:"15 credits/hour"}),"X-Large":e=>e({id:"30 credits/hour"}),"2X-Large":e=>e({id:"60 credits/hour"}),"3X-Large":e=>e({id:"120 credits/hour"}),"4X-Large":e=>e({id:"240 credits/hour"}),"5X-Large":e=>e({id:"- credits/hour"}),"6X-Large":e=>e({id:"- credits/hour"})},MEMORY_64X_X86:{"X-Small":e=>e({id:"1 credit/hour"}),Small:e=>e({id:"2 credits/hour"}),Medium:e=>e({id:"6.25 credits/hour"}),Large:e=>e({id:"16 credits/hour"}),"X-Large":e=>e({id:"32 credits/hour"}),"2X-Large":e=>e({id:"64 credits/hour"}),"3X-Large":e=>e({id:"128 credits/hour"}),"4X-Large":e=>e({id:"256 credits/hour"}),"5X-Large":e=>e({id:"- credits/hour"}),"6X-Large":e=>e({id:"- credits/hour"})}},d={Medium:e=>e({id:"6 credits/hour"}),Large:e=>e({id:"12 credits/hour"}),"X-Large":e=>e({id:"24 credits/hour"}),"2X-Large":e=>e({id:"48 credits/hour"}),"3X-Large":e=>e({id:"96 credits/hour"}),"4X-Large":e=>e({id:"192 credits/hour"}),"5X-Large":e=>e({id:"384 credits/hour"}),"6X-Large":e=>e({id:"768 credits/hour"})};var g=((i={})[i["X-Small"]=1]="X-Small",i[i.Small=2]="Small",i[i.Medium=4]="Medium",i[i.Large=8]="Large",i[i["X-Large"]=16]="X-Large",i[i["2X-Large"]=32]="2X-Large",i[i["3X-Large"]=64]="3X-Large",i[i["4X-Large"]=128]="4X-Large",i[i["5X-Large"]=256]="5X-Large",i[i["6X-Large"]=512]="6X-Large",i[i["7X-Large"]=1024]="7X-Large",i[i["8X-Large"]=2048]="8X-Large",i[i["9X-Large"]=4096]="9X-Large",i[i["10X-Large"]=8192]="10X-Large",i);function p(e,t){return e===t?0:g[e]<g[t]?-1:1}},17009:function(e,t,n){"use strict";n.d(t,{ox:()=>o});var r,o=((r={}).AccountNameMissing="AccountNameMissing",r.ExchangeNotFound="ExchangeNotFound",r.ListingNameAlreadyExists="ListingNameAlreadyExists",r.ListingCannotDeletePublished="ListingCannotDeletePublished",r.ListingCannotMonetizePublished="ListingCannotMonetizePublished",r.ListingCannotUnmonetizePublished="ListingCannotUnmonetizePublished",r.ListingTitleCharacterLimitExceeded="ListingTitleCharacterLimitExceeded",r.ListingMissingProfile="ListingMissingProfile",r.ListingSubTitleCharacterLimitExceeded="ListingSubTitleCharacterLimitExceeded",r.ListingDescriptionCharacterLimitExceeded="ListingDescriptionCharacterLimitExceeded",r.ListingGlobalNameNotFound="ListingGlobalNameNotFound",r.ListingNoRegionsProvided="ListingNoRegionsProvided",r.ListingInvalidRegion="ListingInvalidRegion",r.ExampleValidationError="ExampleValidationError",r.ExampleValidationNoExamples="ExampleValidationNoExamples",r.ExampleValidationNoShare="ExampleValidationNoShare",r.MemberErrorAdding="MemberErrorAdding",r.MemberErrorUpdating="MemberErrorUpdating",r.ProviderProfileErrorUploadingImage="ProviderProfileErrorUploadingImage",r.ProviderProfileNotFound="ProviderProfileNotFound",r.ProviderProfileImageTooLarge="ProviderProfileImageTooLarge",r.ProviderProfileInUse="ProviderProfileInUse",r.ErrorBootstrap="ErrorBootstrap",r.ErrorValidatingEmail="ErrorValidatingEmail",r.SharingFailed="SharingFailed",r.SharingNotPermitted="SharingNotPermitted",r.CouldNotAccessListing="CouldNotAccessListing",r.NotSupportedSchema="NotSupportedSchema",r.ShareAlreadyAttachedToListing="ShareAlreadyAttachedToListing",r.NotFound="NotFound",r.BodyTooLarge="BodyTooLarge",r.FailedToParseJSON="FailedToParseJSON",r.FailedToRefreshAcceptanceDetails="FailedToRefreshAcceptanceDetails",r.InvalidRegionAllError="InvalidRegionAllError",r.FailedToParseBillingEntity="FailedToParseBillingEntity",r.SecurableNotFound="SecurableNotFound",r.DuplicateSecurablesFound="DuplicateSecurablesFound",r.UserLoggedOut="USER_LOGGED_OUT",r.NetPolicyFailed="NET_POLICY_FAILED",r.NotProvisioned="NOT_PROVISIONED",r.DxNotAdmin="DX_NOT_ADMIN",r.InvalidHeader="INVALID_HEADER",r.TrialSuspended="TRIAL_SUSPENDED",r.WrongCommand="WRONG_COMMAND",r.LoginFailed="LOGIN_FAILED",r.ResultsNotFound="RESULTS_NOT_FOUND",r.CountryCodeMissing="CountryCodeMissing",r.NoPurchasePrivilege="NoPurchasePrivilege",r.StripeKeyMissing="StripeKeyMissing",r.StripeKeyInvalid="StripeKeyInvalid",r.StripeIdMissing="StripeIdMissing",r.StripeError="StripeError",r.StripeInvalidCountryCode="StripeInvalidCountryCode",r.StripeErrorGettingPaymentMethod="StripeErrorGettingPaymentMethod",r)},818146:function(e,t,n){"use strict";n.d(t,{m7:()=>u,zO:()=>l});let r=/^[a-z]+[0-9a-z_]*/i,o=e=>e.split(" ").reduce((e,t)=>(e[t]=!0,e),{}),i=e=>e.reduce((e,t)=>(e[t]=!0,e),{});class a{isEqual(e){return e&&this.start===e.start&&this.end===e.end}constructor(e,t){this.start=e,this.end=t}}class s{isEqual(e,t=!1){return e&&this.val===e.val&&(t||this.loc.isEqual(e.loc))}constructor(e,t){this.loc=e,this.val=t}}class l extends s{constructor(e){super(new a(e.start,e.end),e.string.slice(1))}}function u(e,t){let n=null;if("postgres"===e?n=p:"snowflake"===e&&(n=f),n)if(!t)return n;else{var r;let e;return r=n,e=t.id,t&&(e+="-with-info"),{...r,id:e,keywords:i(t.keywords.map(e=>e.name)),client:i(t.functions.map(e=>e.name)),databaseInfo:t}}return null}let c={":":function(e,t){if(":"===e.peek())return e.next(),"cast";if(!e.match(r))return null;if(0===e.column())return"filter";let n=e.string.slice(e.start-1,e.start);return/[=\s\u00a0\(,]/.test(n)?"filter":null},",":d,";":d};function d(e,t){return"punctuation"}function g(e,t){var n;return n=t.tokenize,t.tokenize=function(e,t){for(;null!=e.next();)if(e.eat('"')){t.tokenize=n;break}return"variable-2"},t.tokenize(e,t)}let p={id:"postgres",...{name:"sql",builtin:o("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money nchar numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable ODBCdotTableQuoted decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")},keywords:o("abort absolute access action add admin after aggregate all also alter always analyse analyze and any array as asc assertion assignment asymmetric at attribute authorization backward before begin between binary both by cache called cascade cascaded case cast catalog chain characteristics check checkpoint class close cluster coalesce collate collation column comment comments commit committed concurrently configuration connection constraint constraints content continue conversion copy cost create cross csv current current_catalog current_date current_role current_schema current_time current_timestamp current_user cursor cycle data database day deallocate dec declare default defaults deferrable deferred definer delete delimiter delimiters desc dictionary disable discard distinct do document domain drop each else enable encoding encrypted end enum escape except exclude excluding exclusive execute exists explain extension external extract family fetch first following for force foreign forward freeze from full function functions global grant granted greatest group handler having header hold hour identity if ilike immediate immutable implicit in including increment index indexes inherit inherits initially inline inner inout input insensitive insert instead intersect into invoker is isnull isolation join key key word label language large last lc_collate lc_ctype leading least left level like limit listen load local localtime localtimestamp location lock mapping match maxvalue minute minvalue mode month move name names national natural next no none not nothing notify notnull nowait nullif nulls object of off offset oids on only operator option options or order out outer over overlaps overlay owned owner parser partial partition passing password placing plans position preceding prepare prepared preserve primary prior privileges procedural procedure quote range read reassign recheck recursive ref references reindex relative release rename repeatable replace replica reset restart restrict returning returns revoke right role rollback row rows rule savepoint schema scroll search second security select sequence sequences serializable server session session_user set setof share show similar simple some stable standalone start statement statistics stdin stdout storage strict strip substring symmetric sysid system table tables tablespace temp template temporary then to trailing transaction treat trigger trim truncate trusted type unbounded uncommitted unencrypted union unique unlisten unlogged until update user using vacuum valid validate validator value values variadic verbose version view volatile when where whitespace window with work wrapper write xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlparse xmlpi xmlroot xmlserialize year yes"),hooks:{'"':g,".":function(e){return!!e.match(/^"[\w\d_]+"/)&&"variable-2"},...c}},f={id:"snowflake",name:"sql",builtin:o("number decimal numeric int integer bigint smallint float float4 float8 double precision real varchar char character string text binary varbinary boolean date timestamp_ltz timestamp_ntz timestamp_tz variant object array"),support:o("ODBCdotTable doubleQuote commentSlashSlash"),hooks:{$:function(e,t){if(e.eat("$")){var n;return n=t.tokenize,t.tokenize=function(e,t){let r;for(;null!=(r=e.next());){if("$"===r&&e.eat("$")){t.tokenize=n;break}e.eat("\\&")}return"string"},t.tokenize(e,t)}},'"':g,...c}}},648735:function(e,t,n){"use strict";n.d(t,{m:()=>s,p:()=>l});var r=n(635237),o=n(731651),i=n(249387);let a=r.z.object({workspace:r.z.union([r.z.any(),r.z.null()])}),s=(0,o.SB)({workspace:null}).syncable("ai.globalContext",a),l=(0,i.M)({name:"ai.syncGlobalContextToShell",input:a,provides:r.z.void()})},671633:function(e,t,n){"use strict";n.d(t,{m:()=>u});var r=n(700577),o=n(847345),i=n(134110),a=n(396215);let s=e=>(e.metaKey||e.ctrlKey)&&e.shiftKey&&"i"===e.key.toLowerCase(),l=e=>e?null:{type:i.wh.Copilot,data:{entryType:i.kU.Unknown}},u=()=>{let[e,t]=(0,a.T)(),n=(0,o.useCallback)(()=>{t(l(e))},[t,e]);(0,o.useEffect)(()=>{if(!r.i._DP_PEP_AI_EVERYWHERE())return;let e=e=>{s(e)&&(e.preventDefault(),n())};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[n])}},134110:function(e,t,n){"use strict";n.d(t,{OC:()=>g,ik:()=>p,kU:()=>d,mE:()=>u,wh:()=>c});var r,o,i=n(731651),a=n(635237),s=n(249387),l=n(724421);let u=()=>{var e,t;let n=null==(t=(0,l.r)())||null==(e=t.User)?void 0:e.id;return`panelState-${n}`};var c=((r={}).Copilot="Copilot",r),d=((o={}).Unknown="Unknown",o.Workspace="Workspace",o.Streamlit="Streamlit",o.Notebook="Notebook",o);let g=(0,i.SB)(null).syncable("ai.panelState",a.z.union([a.z.object({type:a.z.nativeEnum(c),data:a.z.object({entryType:a.z.nativeEnum(d)})}),a.z.null()])),p=(0,s.M)({name:"ai.syncPanelStateToShell",input:a.z.union([a.z.object({type:a.z.nativeEnum(c),data:a.z.object({entryType:a.z.nativeEnum(d)})}),a.z.null()]),provides:a.z.void()})},396215:function(e,t,n){"use strict";n.d(t,{T:()=>i});var r=n(134110),o=n(847345);function i(){let[e,t]=(0,o.useState)((0,r.OC)());return(0,o.useEffect)(()=>{let e=r.OC.subscribe(e=>{t(e)});return()=>{e()}},[]),[e,(0,o.useCallback)(async e=>{localStorage.setItem((0,r.mE)(),JSON.stringify(e)),await r.ik.execute(e)},[])]}},249387:function(e,t,n){"use strict";n.d(t,{M:()=>i});var r=n(635237),o=n(227788);function i(e){return new a(e)}class a{async execute(e,t={}){let{link:n=o.b}=t,i=await n.executeProc(this,e,t);if(this.provides instanceof r.I6)return this.provides.parse(i);throw Error("Proc provides is not a ZodSchema")}sync(){return this}executeSync(e,t){let{link:n}=t,o=n.executeProcSync(this,e,t);if(this.provides instanceof r.I6)return this.provides.parse(o);throw Error("Proc provides is not a ZodSchema")}constructor(e){this.name=e.name,this.input=e.input,this.provides=e.provides}}},200593:function(e,t,n){"use strict";n.d(t,{H2:()=>i});var r=n(635237),o=n(276491);class i{provide(e){return e.syncProcs.forEach((e,t)=>{this.syncProcs.set(t,e)}),e.asyncProcs.forEach((e,t)=>{this.asyncProcs.set(t,e)}),e.stateResolvers.forEach((e,t)=>{this.stateResolvers.set(t,e)}),e.broadcasts.forEach((e,t)=>{this.broadcasts.set(t,e)}),this.otherResolvers.push(e),this}async provideState(e,t=o.h){this.stateResolvers.set(e.name,new l(e,t))}async provideProc(e,t){this.asyncProcs.set(e.name,new a(e,t))}provideProcSync(e,t){this.syncProcs.set(e.name,new s(e,t))}provideBroadcast(e){this.broadcasts.set(e.name,e)}resolveProc(e){return this.resolveProcByName(e.name)}resolveProcByName(e){let t=this.asyncProcs.get(e);if(t)return t;for(let n of this.otherResolvers)if(t=n.resolveProcByName(e))return t}resolveProcSyncByName(e){let t=this.syncProcs.get(e);if(t)return t;for(let n of this.otherResolvers)if(t=n.resolveProcSyncByName(e))return t}resolveProcSync(e){return this.resolveProcSyncByName(e.name)}resolveStateByName(e){let t=this.stateResolvers.get(e);if(t)return t;for(let n of this.otherResolvers)if(t=n.resolveStateByName(e))return t}resolveState(e){return this.resolveStateByName(e.name)}resolveBroadcastByName(e){let t=this.broadcasts.get(e);if(t)return t;for(let n of this.otherResolvers)if(t=n.resolveBroadcastByName(e))return t}resolveBroadcast(e){return this.resolveBroadcastByName(e.name)}constructor(){this.syncProcs=new Map,this.asyncProcs=new Map,this.stateResolvers=new Map,this.broadcasts=new Map,this.otherResolvers=[]}}class a{async resolve(e,t){if(this.proc.input instanceof r.I6){let n=await this.proc.input.parseAsync(e);return this.resolver(n,t)}throw Error("Proc input is not a ZodSchema")}constructor(e,t){this.proc=e,this.resolver=t}}class s{resolve(e,t){if(this.proc.input instanceof r.I6){let n=this.proc.input.parse(e);return this.resolver(n,t)}throw Error("Proc input is not a ZodSchema")}constructor(e,t){this.proc=e,this.resolver=t}}class l{constructor(e,t=o.h){this.state=e,this.store=t}}},227788:function(e,t,n){"use strict";n.d(t,{b:()=>c});let r={StateSync:"@snowflake/bridge/state/sync",StateSubscribe:"@snowflake/bridge/state/subscribe",ProcExecute:"@snowflake/bridge/proc",ProcResult:"@snowflake/bridge/proc/result",BroadcastEmit:"@snowflake/bridge/broadcast/emit"};var o=n(200593),i=n(276491);class a extends o.H2{activate(){window.addEventListener("message",this.messageHandler)}[Symbol.dispose](){window.removeEventListener("message",this.messageHandler)}providesProc(e){return!0}providesState(e){return!0}providesBroadcast(e){return!0}async syncState(e,t=i.h){let n=this.id++;this.runningSync.set(n,{state:e,store:t}),this.target.postMessage({kind:r.StateSubscribe,id:n,state:e.name},"*")}async executeProc(e,t,n){let o=this.id++,i=new Promise((r,i)=>{this.runningQueries.set(o,{proc:e,input:t,abortController:null==n?void 0:n.abort,resolve:r,reject:i})});return this.target.postMessage({kind:r.ProcExecute,proc:e.name,input:t,id:o},"*"),i}async emitBroadcast(e,t){let n=this.id++;this.target.postMessage({kind:r.BroadcastEmit,broadcast:e.name,message:t,id:n},"*")}constructor(e,t=Error().stack){super(),this.id=0,this.runningQueries=new Map,this.runningSync=new Map,this.messageHandler=async e=>{if(function(e){let t=e.data;return"object"==typeof t&&null!==t&&null!=t.kind&&t.kind.startsWith("@snowflake/bridge")}(e)){if(e.data.kind===r.StateSync){let t=this.runningSync.get(e.data.id);t?t.state.set(e.data.result,t.store):console.warn(`State sync ${e.data.id} not found`)}if(e.data.kind===r.StateSubscribe){let t=this.resolveStateByName(e.data.state);if(t){let{source:n}=e,{id:o}=e.data;t.state.subscribe(e=>{n&&n.postMessage({kind:r.StateSync,id:o,result:e},"*")},t.store)}else console.warn(`State subscribe ${e.data.state} not found`)}if(e.data.kind===r.ProcResult){let t=this.runningQueries.get(e.data.id);t?(this.runningQueries.delete(e.data.id),e.data.error?t.reject(Error(e.data.error)):t.resolve(e.data.result)):console.warn(`Proc ${e.data.id} not found. Callsite ${this.callsite}`)}if(e.data.kind===r.ProcExecute){let t,n;try{let n=this.resolveProcByName(e.data.proc);if(n)t=await n.resolve(e.data.input);else{let n=this.resolveProcSyncByName(e.data.proc);if(n)t=n.resolve(e.data.input);else throw Error(`Proc ${e.data.proc} not found. Known keys are: ${Object.keys(this.asyncProcs)} and ${Object.keys(this.syncProcs)}`)}}catch(e){n=e instanceof Error?e.message:String(e)}e.source.postMessage({kind:r.ProcResult,id:e.data.id,result:t,error:n})}if(e.data.kind===r.BroadcastEmit){let t=this.resolveBroadcastByName(e.data.broadcast);t&&t.receive(e.data.message)}}},this.target=e,this.callsite=t}}var s=n(818175);let l=new a(window.parent);l.provide(s.x),l.activate();var u=n(994547);let c=new class{async executeProc(e,t,n){for(let r of this.links)if(r.providesProc(e))return r.executeProc(e,t,n);throw Error(`Proc ${e.name} not found`)}async syncState(e,t){for(let n of this.links)if(n.providesState(e))return n.syncState(e,t);throw Error("No link found that provides the specified $ state.")}async emitBroadcast(e,t){for(let n of this.links)if(n.providesBroadcast(e))return n.emitBroadcast(e,t);throw Error("No link found that provides the specified $ state.")}providesProc(e){for(let t of this.links)if(t.providesProc(e))return!0;return!1}providesState(e){for(let t of this.links)if(t.providesState(e))return!0;return!1}providesBroadcast(e){for(let t of this.links)if(t.providesBroadcast(e))return!0;return!1}constructor(e=[]){this.links=e}}([u.I,l])},994547:function(e,t,n){"use strict";n.d(t,{I:()=>u});var r=n(200593);let o=Symbol(),i=Symbol.for("LOCAL_LINK");class a extends r.H2{static is(e){return!0==Reflect.get(e,i)}static isSameContext(e){return!0==e[o]}providesProc(e){return!!this.resolveProc(e)||!!this.resolveProcSync(e)}providesState(e){return!!this.resolveState(e)}providesProcSync(e){return!!this.resolveProcSync(e)}providesBroadcast(e){return!!this.resolveBroadcast(e)}async executeProc(e,t,n){let r=this.resolveProcSync(e);if(r)return r.resolve(t,n);let o=this.resolveProc(e);if(o)return o.resolve(t,n);throw Error(`Proc ${e.name} not found`)}executeProcSync(e,t,n){let r=this.resolveProcSync(e);if(r)return r.resolve(t,n);if(this.resolveProc(e))throw Error(`Proc ${e.name} is async`);throw Error(`Proc ${e.name} not found`)}syncState(e,t){let n=this.resolveState(e);if(n){if(n.state===e)return;n.state.subscribe(n=>{e.set(n,t)},n.store)}else console.warn(`State ${e.name} not found`)}emitBroadcast(e,t){let n=this.resolveBroadcast(e);n?n.receive(t):console.warn(`Broadcast ${e.name} not found`)}constructor(){super(),this[o]=!0,this[i]=!0}}var s=n(818175);let l=Symbol.for("SNOWSIGHT_LOCAL_LINK");window[l]=window[l]||function(){let e=new a;return e.provide(s.x),e}();let u=window[l]},818175:function(e,t,n){"use strict";n.d(t,{x:()=>r});let r=new(n(200593)).H2},731651:function(e,t,n){"use strict";n.d(t,{SB:()=>u,tJ:()=>l});var r=n(882049),o=n(276491);let i=Symbol("state"),a=Symbol("atom");class s{constructor(e){this.get=(e=o.h)=>e.get(this),this.set=(e,t=o.h)=>{if(this.schema){let n=this.schema.parse(e);t.set(this,n)}else t.set(this,e)},this.subscribe=(e,t=o.h)=>{e(this.get(t));let n=this;return t.sub(n,()=>e(t.get(n)))},this[a]=(0,r.cn)(e)}}function l(e){if(Reflect.has(e,i))return Reflect.get(Reflect.get(e,i),a);if(Reflect.has(e,a))return Reflect.get(e,a);if("object"==typeof e)return e;throw Error("State is not a object")}function u(e){let t=new s(e),n=function(e){return t.get(e)};return Reflect.set(n,i,t),n.set=t.set,n.subscribe=t.subscribe,n.atom=()=>t.atom(),n.subject=()=>t.subject(),n.syncable=(e,r)=>(t.schema=r,Object.defineProperty(n,"name",{value:e}),n),n}},276491:function(e,t,n){"use strict";n.d(t,{h:()=>a});var r=n(882049),o=n(731651);let i=Symbol("store"),a=new class{get(e){return this[i].get((0,o.tJ)(e))}set(e,t){this[i].set((0,o.tJ)(e),t)}sub(e,t){return this[i].sub((0,o.tJ)(e),t)}reset(){this[i]=(0,r.MT)()}constructor(e){this[i]=e||(0,r.MT)()}}((0,r.K7)())},791656:function(e,t,n){"use strict";n.d(t,{EX:()=>u,Vd:()=>a,mK:()=>l,tD:()=>i,uv:()=>s});var r=n(249387),o=n(635237);let i=(0,r.M)({name:"snowsight.analytics.addAction",input:o.z.object({action:o.z.string(),metadata:o.z.record(o.z.unknown()).optional()}),provides:o.z.object({})}),a=(0,r.M)({name:"snowsight.analytics.setGlobalContextProperty",input:o.z.object({key:o.z.string(),value:o.z.unknown()}),provides:o.z.object({})}),s=(0,r.M)({name:"snowsight.analytics.setViewContextProperty",input:o.z.object({key:o.z.string(),value:o.z.unknown()}),provides:o.z.object({})}),l=(0,r.M)({name:"snowsight.analytics.removeGlobalContextProperty",input:o.z.object({key:o.z.string()}),provides:o.z.object({})}),u=(0,r.M)({name:"snowsight.analytics.addPerformanceTiming",input:o.z.object({name:o.z.string(),time:o.z.number().optional()}),provides:o.z.object({})})},663008:function(e,t,n){"use strict";n.d(t,{o:()=>i});var r=n(249387),o=n(635237);let i=(0,r.M)({name:"snowsight.bootstrap.getData",input:o.z.object({}),provides:o.z.object({data:o.z.string()})})},22146:function(e,t,n){"use strict";n.d(t,{_:()=>i});var r=n(731651),o=n(635237);let i=(0,r.SB)({role:"",database:"",schema:"",warehouse:""}).syncable("snowsight.executionContext",o.z.object({role:o.z.string(),database:o.z.string(),schema:o.z.string(),warehouse:o.z.string()}))},998975:function(e,t,n){"use strict";n.d(t,{A:()=>o,h:()=>r});let r=1,o=1},106120:function(e,t,n){"use strict";n.d(t,{E:()=>o});var r=n(998975);function o(e,t,n){let o={stCommVersion:r.h,...n};null==e||e.postMessage(o,t)}},403694:function(e,t,n){"use strict";n.d(t,{h:()=>o});var r=n(106120);function o(e,t){(0,r.E)(e,t,{type:"RESTART_WEBSOCKET_CONNECTION"})}},509698:function(e,t,n){"use strict";n.d(t,{S:()=>i,s:()=>a});var r=n(819260);let o="visibilityState:hidden",i=e=>{try{let{document:t,localStorage:n}=e;"visible"===t.visibilityState?n.removeItem(o):n.setItem(o,`${Date.now()}`)}catch(e){r.log.error(e)}},a=e=>{try{let{document:t,localStorage:n}=e;if("hidden"===t.visibilityState){let e=n.getItem(o);if(e)return parseInt(e,10)}}catch(e){r.log.error(e)}return null}},276567:function(e,t,n){"use strict";n.d(t,{b:()=>i,k:()=>o});var r=n(354908);function o(e){return e instanceof r.M}function i(e){let t=e;for(;t;){if(o(t))return t;t=t.cause}}},988554:function(e,t,n){"use strict";n.d(t,{j:()=>_});var r=n(22146),o=n(819260),i=n(434475),a=n(576605),s=n(865832),l=n(535697),u=n(69446),c=n(304241),d=n(423939),g=n(735377),p=n(563626),f=n(404908),m=n(360688),E=n(420174),h=n(634427),v=n(583445);class S extends v.x{loadStores(e){if(this.dispatch){let{user:t,organization:n,securable:r}=e;!this.securablePromises&&r&&this.loadSecurableStore(r),!this.userStore&&t&&this.loadUserStore(t),this.initializeRolesAndWarehouse(t),!this.organizationStore&&n&&this.loadOrganizationStore(n)}}initializeRolesAndWarehouse(e){if(this.dispatch&&!this.userStore&&e){if(this.dataDiscoverRole)e.switchCurrentRole(this.dataDiscoverRole);else{var t;let n=(null==(t=e.currentRole)?void 0:t.call(e))||(0,p.d)(e.currentUser);this.setDataDiscoverRole(n,!0)}if(!this.currentWarehouse&&e.currentUser){let{settings:t}=e.currentUser;this.setCurrentWarehouse(null==t?void 0:t.defaultWarehouse,!0)}}}get exchangeId(){return(0,f.H)()}get organizationName(){return this.organizationStore.activeOrg.settings.snowflakeOrgName}get isHealthCheckEnabled(){return this.userStore.dxHealthCheckEnabled}get hasSuperAccountAdminRole(){return(0,s.i)(this.availableRoles)}get isCurrentRoleSuperAccountAdmin(){return(0,c.h)(this.dataDiscoverRole)}get hasSuperOrgAdminRole(){return(0,l.j)(this.availableRoles)}get isCurrentRoleSuperOrgAdmin(){return(0,d.l)(this.dataDiscoverRole)}get hasSuperSecurityAdmin(){return(0,u.w)(this.availableRoles)}get isCurrentRoleSuperSecurityAdmin(){return(0,g.E)(this.dataDiscoverRole)}isCurrentUser(e){return this.userStore.isCurrentUser(e)}async validateSnowflakeURL(e){try{let t=await a.nufetch("/validate-snowflake-url?"+i.nZ({url:e}),this.userStore.userRequestContext(),void 0,void 0,!1);if(!t.valid)return{valid:!1};if(!e.toLowerCase().includes(".snowflakecomputing.com"))return console.error("account must include full url"),{valid:!1};return t}catch(e){return console.error("Validate snowflake url failed with err",e),{valid:!1}}}async validateAccountIdentifier(e,t,n){try{let r=await a.nufetch("/validate-snowflake-account-region?"+i.nZ({region:e.toUpperCase(),account:t.toUpperCase(),isSecondaryAccount:n}),this.userStore.userRequestContext());if(!r.valid)return{valid:!1};return r}catch(e){return console.error("Validate snowflake account region failed with err",e),{valid:!1}}}async fetchAccountDeploymentInfo(e,t){try{let n=await a.nufetch("/fetch-account-deployment-info?"+i.nZ({org:e.toUpperCase(),accountAlias:t.toUpperCase()}),this.userStore.userRequestContext());if(!n.valid)return{valid:!1};return{...n,org:n.org.toUpperCase(),accountAlias:n.accountAlias.toUpperCase()}}catch(e){return console.error("Fetch account deployment info failed with err",e),{valid:!1}}}async fetchAccountDeploymentInfoFromURL(e){try{let t=await a.nufetch("/fetch-account-deployment-info-from-url?"+i.nZ({url:e}),this.userStore.userRequestContext());if(!t.valid)return{valid:!1};return{...t,org:t.org.toUpperCase(),accountAlias:t.accountAlias.toUpperCase()}}catch(e){return console.error("Fetch account deployment info from url failed with err",e),{valid:!1}}}getCurrentRegion(){return this.organizationStore.activeOrg.settings.region}constructor(...e){super(...e),this.dataDiscoverRole="",this.secondaryRoles="",this.availableRoles=[],this.currentWarehouse="",this.googleTagManagerInitialized=!1,this.dataDiscoverRoleInitializedResolver=e=>{},this.dataDiscoverRoleInitialized=new Promise(e=>{this.dataDiscoverRoleInitializedResolver=e}),this.loadUserStore=e=>{var t;null==(t=this.dispatch)||t.call(this,t=>{t.userStore=e})},this.loadOrganizationStore=e=>{var t;null==(t=this.dispatch)||t.call(this,t=>{t.organizationStore=e})},this.loadSecurableStore=e=>{var t;null==(t=this.dispatch)||t.call(this,t=>{t.securablePromises=e})},this.validateRoleWarehousePair=(e=!0)=>{var t;null==(t=this.dispatch)||t.call(this,t=>{if(""===t.currentWarehouse||!t.securablePromises)return;let n=t.roleWarehouseValidationKey=new Promise((r,o)=>{var i;null==(i=t.securablePromises)||i.list(t.dataDiscoverRole,E.M.WAREHOUSE,m.Y.show,void 0,{forceRefresh:e,filter:t.currentWarehouse}).then(e=>{var t;null==(t=this.dispatch)||t.call(this,t=>{t.roleWarehouseValidationKey===n&&(e.result.map(e=>e.name).includes(t.currentWarehouse)||(t.currentWarehouse="",r(!1)),r(!0))})},e=>{var t;null==(t=this.dispatch)||t.call(this,t=>{t.roleWarehouseValidationKey===n&&(t.currentWarehouse="",o(e))})})})})},this.setDataDiscoverRole=(e,t=!1)=>{var n;null==(n=this.dispatch)||n.call(this,t=>{var n,r,o,i,a;t.dataDiscoverRole=e,null==(r=t.userStore)||null==(n=r.switchCurrentRole)||n.call(r,e),t.currentWarehouse||(t.currentWarehouse=null==(a=t.userStore)||null==(i=a.currentUser)||null==(o=i.settings)?void 0:o.defaultWarehouse)}),t||this.validateRoleWarehousePair(!1),this.dataDiscoverRoleInitializedResolver(e);try{let t=(0,r._)();r._.set({...t,role:e})}catch(e){o.log.error(e)}},this.setSecondaryRoles=(e,t=!1)=>{var n;null==(n=this.dispatch)||n.call(this,t=>{var n,r;t.secondaryRoles=e,null==(r=t.userStore)||null==(n=r.switchCurrentSecondaryRoles)||n.call(r,e)}),t||this.validateRoleWarehousePair(!1)},this.setAvailableRoles=e=>{var t;null==(t=this.dispatch)||t.call(this,t=>{t.availableRoles=e})},this.setStripeHealthCheckStatus=e=>{var t;null==(t=this.dispatch)||t.call(this,t=>{t.stripeHealthCheckComplete=e})},this.setCurrentWarehouse=(e,t=!1)=>{var n;null==(n=this.dispatch)||n.call(this,t=>{t.currentWarehouse=e}),t||this.validateRoleWarehousePair(!1);try{let t=(0,r._)();r._.set({...t,warehouse:e})}catch(e){o.log.error(e)}},this.setMarketplaceLunrIdx=(e,t)=>{var n;null==(n=this.dispatch)||n.call(this,n=>{n.marketplaceLunrIdx={...n.marketplaceLunrIdx,idx:e,lastLoadTime:t}})},this.setMarketplaceLunrPromise=(e,t)=>{var n;null==(n=this.dispatch)||n.call(this,n=>{n.marketplaceLunrIdx={...n.marketplaceLunrIdx,promise:e,lastLoadTime:t}})},this.setProviderMarketplaceLunrIdx=(e,t)=>{var n;null==(n=this.dispatch)||n.call(this,n=>{n.providerMarketplaceLunrIdx={...n.providerMarketplaceLunrIdx,idx:e,lastLoadTime:t}})},this.setProviderMarketplaceLunrPromise=(e,t)=>{var n;null==(n=this.dispatch)||n.call(this,n=>{n.providerMarketplaceLunrIdx={...n.providerMarketplaceLunrIdx,promise:e,lastLoadTime:t}})},this.setGoogleTagManagerInitialized=e=>{var t;null==(t=this.dispatch)||t.call(this,t=>{t.googleTagManagerInitialized=e})},this.setAccountCreatedDetails=e=>{var t;null==(t=this.dispatch)||t.call(this,t=>{t.accountCreatedDetails=e})}}}let _=(0,h.q)(()=>(0,v.A)(S))},634427:function(e,t,n){"use strict";n.d(t,{q:()=>o});var r=n(792851);function o(e,...t){let[n,i]=(0,r.Z)(e,...t);return Object.defineProperties(i,{Provider:{get:()=>n}}),i}},583445:function(e,t,n){"use strict";n.d(t,{A:()=>s,x:()=>a});var r,o=n(399808),i=n(847345);class a{constructor(e){this.dispatch=e,this[r]=!0}}function s(e){let t=new e,[n,r]=(0,i.useReducer)(function(e,t){return(0,o.Uy)(e,t)},t);return(0,i.useEffect)(()=>r(()=>new e(r)),[e]),n}r=o.sc},137957:function(e,t,n){"use strict";n.d(t,{V:()=>a});var r=n(286204),o=n(314040),i=n(493076);function a(){return(0,r.jsx)(o.g,{width:48,height:48,renderRoot:e=>(0,r.jsx)("svg",{viewBox:"0 0 48 48",fill:"none",...e}),children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.998 3.013v8.666h2V3.012h-2zm9.006 20.75h10.15v12.472a3.778 3.778 0 01-3.778 3.778H9.873a3.778 3.778 0 01-3.778-3.778V23.763h10.1v.909a7.905 7.905 0 1015.81 0v-.909zm12.15 12.472V22.764a1 1 0 00-1-1h-13.12a.03.03 0 00-.03.03v2.878a5.905 5.905 0 11-11.809 0v-2.878a.03.03 0 00-.03-.03H5.095a1 1 0 00-1 1v13.47a5.778 5.778 0 005.778 5.778h28.503a5.778 5.778 0 005.778-5.777zM39.15 9.497l-5.777 5.778-1.415-1.414 5.778-5.778 1.414 1.414zm-24.525 5.778L8.846 9.497l1.415-1.414 5.777 5.778-1.414 1.414z",fill:i.Il.Gray40})})}a.displayName="GeneralAsset"},62780:function(e,t,n){"use strict";n.d(t,{Z:()=>a,p:()=>i});var r=n(792851),o=n(45912);let[i,a]=(0,r.Z)(()=>(0,o.T)())},327898:function(e,t,n){"use strict";function r(e,t){let{getCacheKey:n,getData:r}=t,o=e?n():void 0,i=e&&o?e.getEntry(o):void 0;if(i)return i;let a=r();return e&&o&&e.setEntry(o,a),a}n.d(t,{O:()=>r})},664983:function(e,t,n){"use strict";n.d(t,{m:()=>i});var r=n(847345),o=n(62780);function i(e){let{getFetchId:t,incrementFetchId:n}=(0,o.Z)();return{fetchId:t(e),updateFetchId:(0,r.useCallback)(()=>n(e),[n,e])}}},595124:function(e,t,n){"use strict";n.d(t,{b:()=>o});var r=n(847345);function o(){let e=(0,r.useRef)({entries:{},currentEvictionBucketIndex:0,evictionBuckets:Array.from({length:6},()=>[])}),t=(0,r.useCallback)(t=>{var n;let{entries:r}=e.current;return null==(n=r[t])?void 0:n.data},[]),n=(0,r.useCallback)((t,n)=>{let{entries:r,currentEvictionBucketIndex:o,evictionBuckets:i}=e.current;r[t]={data:n,evictionBucketIndex:o},i[o].push(t)},[]),o=(0,r.useCallback)(t=>{let{entries:n}=e.current;delete n[t]},[]);return(0,r.useEffect)(()=>{let t=setInterval(()=>{let{entries:t,currentEvictionBucketIndex:n,evictionBuckets:r}=e.current,o=(n+1)%r.length;for(let e of r[o]){var i;(null==(i=t[e])?void 0:i.evictionBucketIndex)===o&&delete t[e]}r[o]=[],e.current.currentEvictionBucketIndex=o},6e4);return()=>{clearInterval(t)}},[]),(0,r.useMemo)(()=>({getEntry:t,setEntry:n,clearEntry:o}),[o,t,n])}},45912:function(e,t,n){"use strict";n.d(t,{T:()=>o});var r=n(847345);function o(){let[e,t]=(0,r.useState)({});return{getFetchId:(0,r.useCallback)(t=>`${e[t]||1}`,[e]),incrementFetchId:(0,r.useCallback)(e=>{t(t=>({...t,[e]:(t[e]||1)+1}))},[])}}},486612:function(e,t,n){"use strict";n.d(t,{U9:()=>A});var r=n(80127),o=n(509698),i=n(978154),a=n(97730),s=n(108471),l=n(160588),u=n(314295),c=n(713770),d=n(117502),g=n(105058),p=n(19657),f=n(362523);function m(e){return e.startsWith("utm_")||["from_deeplink"].includes(e)}let E={},h=d.s.reduce((e,t)=>{let n=t[1].validLoggingRouteResolver;return n&&t[0].forEach(e=>{E[e]=n}),[...e,...t[0].map(S)]},["/:region/:org/dashboards/mine","/:region/:org/dashboards/recent","/:region/:org/dashboards/shared","/:region/:org/dashboards","/:region/:org/worksheets/folders","/:region/:org/worksheets/mine","/:region/:org/worksheets/recent","/:region/:org/worksheets/shared","/:region/:org/worksheets"]).sort((e,t)=>t.split("/").length-e.split("/").length),v=new Set;function S(e){return e.endsWith("/")?e.slice(0,-1):e}h.forEach(e=>{e.split("/").forEach(e=>{e&&!e.startsWith(":")&&v.add(e)})});let _=new a.Z({maxSize:500});function b(e,t){try{let n=function(e){let t=new URL(e),n=t.hash.slice(1).split("?")[0],r=`${t.pathname}/${n}`.split("/").filter(e=>""!==e&&"#"!==e).join("/");return`/${r}`}(e);return t.has(n)||t.set(n,function(e,t){for(let n=0;n<t.length;n++)if((0,s.LX)(t[n],e)){if(E[t[n]]){return null!=(r=E[t[n]](e,t[n]))?r:t[n]}return t[n]}let n=e.split("/").slice(1);if(n.length>2){let e=(o=n[2],c.j.test(o)?"/:region/:org/:worksheetId":l.p.test(o)?"/:region/:org/:dashboardId":u.C.test(o)?"/:region/:org/:folderId":"");if(e){let t=n.length>3?`/${n.slice(3).join("/")}`:"";return`${e}${t}`}}var r,o,i=n;let a=i.map(e=>v.has(e)?e:":unknown").join("/");return`/${a}`}(n,h)),t.get(n)||e}catch(t){return e}}function I(e,t){try{let r=new URL(e),o=function(e){let t=new URLSearchParams,n=new URL(e);return n.searchParams.forEach((e,n)=>{m(n)&&t.append(n,e)}),n.hash&&new URL(n.hash.slice(1),window.location.origin).searchParams.forEach((e,n)=>{m(n)&&t.append(n,e)}),t}(e);var n=(0,p.gJ)(r)?function(e,t){try{let n=new URL(e),r=n.origin+(0,p.p3)((0,g.q)(n),"FAKEREGION","FAKEACCOUNT"),o=b(r,t);return(0,p.uV)(o).replace("/:region/:org","")}catch(t){return e}}(e,t):b(e,t);let i=new URL(n,window.location.origin);return o.forEach((e,t)=>{i.searchParams.append(t,e)}),i.search=(0,f.s)(i.searchParams),(0,g.q)(i)}catch(t){return e}}let y=[/\/a\/events$/u,/\/a\/timing$/u,/\/errors$/u,/\/v1\/observability/u,/desc=warehouse-status-in-background/u,/desc=show-terse-databases-with-privileges-in-background/u,/desc=GetWarehouseStatusBackground/u];var R=n(678425);let T=[{matcher:/csp_violation/u,samplingRate:.01,context:{"error.kind":"csp","error.sampling":.01}},{matcher:/ResizeObserver/u,samplingRate:.01,context:{"error.kind":"browser","error.sampling":.01}},{matcher:/script-src/u,samplingRate:.01,context:{"error.kind":"csp","error.sampling":.01}},{matcher:/font-src/u,samplingRate:.01,context:{"error.kind":"csp","error.sampling":.01}},{matcher:/img-src/u,samplingRate:.01,context:{"error.kind":"csp","error.sampling":.01}},{matcher:/Missing translation/u,samplingRate:.01,context:{"error.kind":"browser","error.sampling":.01}},{matcher:/query not found/u,samplingRate:.01,context:{"error.kind":"network","error.sampling":.01}},{matcher:/No encryption material/u,samplingRate:.01,context:{"error.kind":"network","error.sampling":.01}}];var N=n(87656),C=n(280753);function A(e){var t;if(!e.applicationId||!e.clientToken||!e.version||!e.env)return!1;let a=null!=(t=e.messages)?t:{};(async()=>{e.messages||(a=await (0,i._U)("en-US"))})();let s={applicationId:e.applicationId,clientToken:e.clientToken,site:"datadoghq.com",service:"snowsight",env:e.env,version:e.version,sessionSampleRate:100,sessionReplaySampleRate:100,defaultPrivacyLevel:"mask",trackResources:!0,trackLongTasks:!0,trackUserInteractions:!0,beforeSend:(e,t)=>(function(e,t,n){switch(e.view.url=I(e.view.url,_),e.view.referrer&&(e.view.referrer=I(e.view.referrer,_)),e.type){case"action":e=function(e,t,n){let r={...e};try{if("events"in t&&t.events&&t.events.length){var o,i;if(!t.events[0].target)return r;(null==(i=r.action)||null==(o=i.target)?void 0:o.name)&&!n[r.action.target.name]&&(r.action.target.name="[redacted]")}return r}catch(e){return r}}(e,t,n);break;case"resource":e=function(e,t){var n,r,i,a;let s={...e};if(s.context=e.context||{},"fetch"===s.resource.type&&"response"in t&&(s.context.requestId=null==(n=t.response)?void 0:n.headers.get("X-Snowflake-Request-Id")),"fetch"!==s.resource.type&&"response"in t&&(s.context.cfRay=null==(r=t.response)?void 0:r.headers.get("cf-ray"),s.context.cfCacheStatus=null==(i=t.response)?void 0:i.headers.get("cf-cache-status"),s.context.originalCfRay=null==(a=t.response)?void 0:a.headers.get("x-original-cf-ray")),"fetch"===s.resource.type){Object.assign(s.context,function(e){let t={};try{let n=new URL(e);if(n.hash){let e=N.parse(n.hash.substring(1));for(let[n,r]of Object.entries(e))t[n]=r}}catch(e){}return t}(s.resource.url)),s.context.visibilityState=document.visibilityState;let e=(0,o.s)({document:window.document,localStorage:window.localStorage});s.context.hiddenDuration=e?Date.now()-e:null}return s}(e,t);break;case"error":var r=e;if(r.error.fingerprint){let e=(0,R.us)(r.error.fingerprint);if(delete r.error.fingerprint,e.doNotReport)return!1;e.fingerprint&&(r.error.fingerprint=e.fingerprint),e.context&&(r.context||(r.context={}),Object.assign(r.context,e.context))}let i=T.find(e=>e.matcher.test(r.error.message));if(i&&(i.context&&(r.context||(r.context={}),Object.assign(r.context,i.context)),i.samplingRate&&Math.random()>i.samplingRate))return!1}return!0})(e,t,a),excludedActivityUrls:y,allowedTracingUrls:[{match:/https:\/\/.*\.app\.snowflake\.(\w{2,3})/u,propagatorTypes:["tracecontext"]}],traceSampleRate:15,actionNameAttribute:"data-action-name",enableExperimentalFeatures:["feature_flags"],compressIntakeRequests:!0};return e.disableSessionReplayWorker||(s.workerUrl=function(){let e=new URL(n(435853),n.b);return{worker:new Worker(e),url:e}}().url.href),s.proxy=t=>{let n=t.path.split("/").at(-1);return"rum"===n?e.proxy+"/grog?"+t.parameters:e.proxy+"/"+n+"?"+t.parameters},r.v.init(s),r.v.setGlobalContextProperty("bundler.name","rspack"),r.v.setGlobalContextProperty("bundler.version","1.3.10"),r.v.setGlobalContextProperty("visitId",(0,C.c)()),r.v.setUser({languages:navigator.languages.join(", ")}),!0}},623368:function(e,t,n){"use strict";n.d(t,{H$:()=>a,OY:()=>s,Oi:()=>i,bR:()=>u,x3:()=>l});var r=n(411733);let o=(e,...t)=>`${e}${t?":":""}${null==t?void 0:t.join(":")}`,i=e=>{var t,n;let r=e.isUserE2E?[...null!=(t=e.markers)?t:[],"user-e2e"]:[...null!=(n=e.markers)?n:[]];return o(e.event,...r)},a=(e,...t)=>{let n=i({event:e,markers:t});return performance.clearMarks(n),performance.mark(n)},s=(e,...t)=>{let n=i({event:e,markers:t,isUserE2E:!0});return performance.clearMarks(n),performance.mark(n)},l=e=>{let t=i(e),n=performance.getEntriesByName(t);return!!(n&&n.length>0&&n.filter(e=>"mark"===e.entryType).length>0)},u=(e,...t)=>{let n=t.join(":");try{return performance.measure(e,n)}catch(e){return r.cM.info("[TELEMETRY] measureEvent: Event start was not marked for the marker: ",n),{duration:-1}}}},403771:function(e,t,n){"use strict";n.d(t,{z:()=>l});var r=n(80127),o=n(928874),i=n(847345),a=n(75065),s=n(623368);let l=()=>{let{logEvent:e}=(0,o.f1)(),t=(0,i.useCallback)((e,...t)=>s.H$(e,...t),[]),n=(0,i.useCallback)((e,...t)=>s.bR(e,...t),[]),l=(0,i.useCallback)((e,...t)=>s.OY(e,...t),[]),u=(0,i.useCallback)(e=>s.x3(e),[]),c=(0,i.useCallback)(e=>{let t;if(e.isUserE2E){let r=s.Oi(e);t=n(e.event,r).duration}let r=s.Oi({...e,isUserE2E:!1});return{durationMs:n(e.event,r).duration,e2eDurationMs:t}},[n]);return{markEventStart:t,measureEventDuration:n,markE2EEventStart:l,isMarkerSet:u,_getDurationsFromMarker:c,logEventToSnowflakeAndDatadog:(0,i.useCallback)(t=>{e(t),a.A.isDisallowedDatadogEvent(t)&&r.v.addAction(t.event,t.data)},[e])}}},266046:function(e,t,n){"use strict";n.d(t,{k:()=>i});var r=n(80127),o=n(820875);function i(e,t){(0,o.WC)()&&console.error(e,t),r.v.addError(e,t)}},338291:function(e,t,n){"use strict";n.d(t,{EQ:()=>o,Vm:()=>i,Yf:()=>r});let r="package-picker-start",o="environment-yaml-package-management-save-language-config",i="environment-yaml-package-management-save-anaconda-config"},842526:function(e,t,n){"use strict";let r;n.d(t,{OA:()=>i,fL:()=>s,iZ:()=>u,nM:()=>l});var o=n(819260);let i=new Promise(e=>r=e),a=null,s=()=>null===a;async function l(e,{retries:t=0}={}){try{a=await n(66891)(`./${e}.json`),r(a)}catch(n){if(t<2)return l(e,{retries:t+1});o.log.error(Error(`Could not fetch snowflake database info bundle for language (${e}). Exceeded retry limit 2.`))}}function u(){return a}},807264:function(e,t,n){"use strict";n.d(t,{S:()=>r,d:()=>o});let r="SYSTEM$BASIC_RUNTIME",o="SYSTEM$ST_CONTAINER_RUNTIME_PY3_11"},443547:function(e,t,n){"use strict";n.d(t,{R:()=>o});var r=n(799787);function o(e,t){let n=e.lastVersionLocationUri,o=e.liveVersionLocationUri,i=e.rootLocation;return!t&&o?{kind:"versioned",isLive:!0,rootLocation:o}:n?{kind:"versioned",isLive:!1,rootLocation:n}:{kind:"checkouts",rootLocation:(0,r.h)(i,"Invalid or unsupported location")}}},377053:function(e,t,n){"use strict";n.d(t,{T:()=>o});var r=n(515477);function o(e){if((0,r.f)(e)){let[t,n]=e.split("/versions/");if((null==n?void 0:n.length)>0)return{stage:t,path:`/versions/${n}`};let r="/checkouts/",[o,i]=e.split(r);if((null==i?void 0:i.length)>0)return{stage:o,path:`${r}${i}`};let a="/commits/",[s,l]=e.split(a);return(null==l?void 0:l.length)>0?{stage:s,path:`${a}${l}`}:{stage:e,path:""}}let t=/^(@?(?:[^/"]*|"(?:[^"]|"")*")*)\/?(.*)/u.exec(e);return t?{stage:t[1].startsWith("@")?t[1]:`@${t[1]}`,path:t[2]}:{stage:e,path:""}}},381366:function(e,t,n){"use strict";n.d(t,{Y:()=>i});var r=n(583700),o=n(807264);function i(e){return e===r.U?"WarehouseOnly":e===o.S||e===o.d?"SpcsOnly":void 0}},515477:function(e,t,n){"use strict";function r(e){return e.startsWith("snow://")}n.d(t,{f:()=>r})},674783:function(e,t,n){"use strict";n.d(t,{A:()=>a});var r=n(847345),o=n(523930),i=n(134445);function a(){let{user:e}=(0,i.m)(["user"]),t="alter-entity-checkout";return(0,r.useCallback)(async({id:n,role:r,secondaryRoles:i})=>{let a=(0,o.BW)(n);return await e.api.query(a,{isInternal:!0,role:r,secondaryRoles:i,desc:t})},[e.api,t])}},255490:function(e,t,n){"use strict";n.d(t,{U:()=>u});var r=n(847345),o=n(797325),i=n(800840),a=n(545163),s=n(360688),l=n(91559);function u(){let e=(0,r.useContext)(i.V1),{formatMessage:t}=(0,o.Z)();return(0,r.useCallback)(async(n,r,o)=>{let i=await (0,a.W)(e.get(r,n,s.Y.describe,{secondaryRoles:o}));if((0,l.D)(i)){var u;throw Error(t({id:"Could not get details for the object. Error: {message}"},{message:null==(u=i.error)?void 0:u.message}))}if(!i.result)throw Error(t({id:"Could not get details for the object. No result data."}));let c=i.result.columns[0];return c.rootLocation&&!c.lastVersionName?{kind:"checkouts",...c}:{kind:"versioned",...c}},[t,e])}},960058:function(e,t,n){"use strict";n.d(t,{z:()=>S});var r=n(550333),o=n.n(r),i=n(847345),a=n(988554),s=n(452603),l=n(800840),u=n(360688),c=n(420174),d=n(852043),g=n(620400),p=n(28705),f=n(36534),m=n(134445),E=n(443547),h=n(674783),v=n(126020);let S=e=>{let{dataDiscoverRole:t,secondaryRoles:n,userStore:r}=(0,a.j)(),S=(0,l.fo)(t,{secondaryRoles:n}),_=(0,i.useContext)(l.V1),b=(0,m.m)(["query"]).query,I=(0,i.useMemo)(()=>{var t;let n=S.get(e,u.Y.describe).result;return(null==n||null==(t=n.columns)?void 0:t.length)?n.columns[0]:null},[e,S]),y=(0,h.A)(),R=(0,v.iA)(),T=null!==I,N=(0,i.useCallback)(()=>I?`Copy of ${I.name} ${o()().format("YYYY-MM-DD h:mm:ssa")}`:"",[I]),C=(0,i.useCallback)(async(e,o)=>{let i=new d.L(o?"ALTER SESSION SET ENABLE_COPY_FILES = TRUE, ENABLE_COPY_FILES_API_IN_STORAGE = TRUE":"ALTER SESSION UNSET ENABLE_COPY_FILES, ENABLE_COPY_FILES_API_IN_STORAGE");await r.api.query(i.toQuery(),{isInternal:!0,role:t,secondaryRoles:n,desc:o?"enable-copy-files-sql":"unset-copy-files-sql",pid:e})},[t,n,r.api]),A=(0,i.useCallback)(async(e,o)=>{var i;let a=new d.L("COPY FILES");a.add("INTO {}",(0,p.Q)(o)),a.add("FROM {}",(0,f.i)(null!=(i=null==I?void 0:I.rootLocation)?i:"")),await r.api.query(a.toQuery(),{isInternal:!0,role:t,secondaryRoles:n,desc:"copy-files-for-entity-clone",pid:e})},[t,n,null==I?void 0:I.rootLocation,r.api]),L=(0,i.useCallback)(async({newEntityName:r,newEntityTitle:o,useEmbeddedStage:i,shouldUseVersionedStage:a=!0,postCreationAction:l,getAdditionalProps:u})=>{var d;if(!T)throw Error("Duplication not ready yet.");let{mainFile:p,queryWarehouse:f,codeWarehouse:m}=I,h=(0,s.$3)(p),{type:v,database:S,schema:L,name:k}=e,w=null!=r?r:N(),O=`Duplicated from ${k}`,D={type:v,name:w,database:S,schema:L},{rootLocation:M}=(0,E.R)(I),x=M.endsWith("/")?M:`${M}/`,U=null,P=null!=(d=null==u?void 0:u(I))?d:{};if(i||a)return U=await _.create(t,D,{from:x,warehouse:m,queryWarehouse:f,title:null!=o?o:void 0,mainFile:h,comment:O,...P},{secondaryRoles:n}),a?await R({id:U,role:t,secondaryRoles:n}):await y({id:U,role:t,secondaryRoles:n}),l&&await l({newEntityFullIdentifier:U}),U;let $={type:c.M.STAGE,name:`${r} (Stage)`,database:S,schema:L},F=await _.create(t,$,{},{secondaryRoles:n});try{U=await _.create(t,D,{rootLocation:`@${(0,g.m)(F)}`,mainFile:h,warehouse:m,queryWarehouse:f,title:null!=o?o:"",comment:O,...P},{secondaryRoles:n})}catch(e){throw await _.drop(t,F,{secondaryRoles:n}),e}let B="";try{B=await b.createQuery(),await C(B,!0),await A(B,F)}catch(e){throw await _.drop(t,U,{secondaryRoles:n}),await _.drop(t,F,{secondaryRoles:n}),e}finally{B.length>0&&await b.deleteQuery(B)}return l&&await l({newEntityFullIdentifier:U,newEntityStageIdentifier:F}),U},[C,A,y,t,R,N,b,T,n,_,I,e]);return{sourceEntityDetails:I,duplicate:L,readyForDuplication:T}}},616014:function(e,t,n){"use strict";n.d(t,{h:()=>u});var r=n(847345),o=n(800840),i=n(117194),a=n(360688),s=n(674783),l=n(791845);let u=()=>{let e=(0,l.Q)(),t=(0,s.A)(),n=(0,r.useContext)(o.V1);return(0,r.useCallback)(async({id:r,role:o,secondaryRoles:s})=>{0===(await e({id:r,role:o,secondaryRoles:s})).rows.length&&(await t({id:r,role:o,secondaryRoles:s}),await (0,i.r)(n.get(o,r,a.Y.describe,{forceRefresh:!0,secondaryRoles:s})))},[e,t,n])}},126020:function(e,t,n){"use strict";n.d(t,{LH:()=>d,iA:()=>g});var r=n(847345),o=n(797325),i=n(874437),a=n(276567),s=n(800840),l=n(545163),u=n(360688),c=n(91559);async function d(e,t,n,r){try{await e.alter(n,t,{add:!0,version:"live"},{secondaryRoles:r})}catch(e){var o,s;if((0,a.k)(e)&&(o=e.code,s=i.SFDBErrorCode.VSTAGE_LIVE_VERSION_EXISTS,void 0!==o&&void 0!==s&&p(o)===p(s)))return;throw e}}let g=()=>{let e=(0,r.useContext)(s.V1),{formatMessage:t}=(0,o.Z)();return(0,r.useCallback)(async({id:n,role:r,secondaryRoles:o})=>{await d(e,n,r,o);let i=await (0,l.W)(e.get(r,n,u.Y.describe,{secondaryRoles:o}));if((0,c.D)(i)){var a;throw Error(t({id:"Could not get details for the object. Error: {message}"},{message:null==(a=i.error)?void 0:a.message}))}if(!i.result)throw Error(t({id:"Could not get details for the object. No result data."}));return i.result.columns[0]},[t,e])};function p(e){return"number"==typeof e?e:parseInt(e,10)}},928853:function(e,t,n){"use strict";n.d(t,{P:()=>a,X:()=>i});var r=n(847345);let o=(0,r.createContext)(null),i=o.Provider,a=()=>(0,r.useContext)(o)},940591:function(e,t,n){"use strict";n.d(t,{Z:()=>l});var r=n(800840),o=n(583700),i=n(360688),a=n(940936),s=n(51802);function l(e){var t;let n=(0,r.fo)();if((0,s.$)())return!1;let l=n.get(e,i.Y.describe);if((0,a.M)(l))return null;let u=null==l||null==(t=l.result)?void 0:t.columns[0];return!!(null==u?void 0:u.runtimeName)&&u.runtimeName!==o.U}},51802:function(e,t,n){"use strict";n.d(t,{$:()=>s,S:()=>a});var r=n(286204),o=n(847345);let i=(0,o.createContext)(!1),a=({children:e})=>(0,r.jsx)(i.Provider,{value:!0,children:e});a.displayName="StaticNotebookProvider";let s=()=>(0,o.useContext)(i)},765496:function(e,t,n){"use strict";n.d(t,{a:()=>a});var r=n(565763),o=n(847345);let i={},a=({epochName:e,callbackFreqMs:t,shouldCleanUpDangledTicker:n=!0})=>{let a=`${e}//${t}`,[s,l]=o.useState(0),u=o.useRef(n);u.current=n;let c=(0,r.t)(),d=o.useCallback(()=>{i[a]&&(i[a].startTimeMs=Date.now()),c.current&&l(0)},[a,c]),g=o.useCallback(()=>{delete i[a],c.current&&l(0)},[a,c]);return o.useEffect(()=>{if(null===t)return;i[a]||(i[a]={startTimeMs:Date.now(),callbacks:new Set,intervalId:void 0});let e=()=>l(Date.now()-i[a].startTimeMs);return e(),i[a].callbacks.add(e),i[a].intervalId||(i[a].intervalId=setInterval(()=>{i[a].callbacks.forEach(e=>e())},t)),()=>{i[a].callbacks.delete(e),0===i[a].callbacks.size&&(clearInterval(i[a].intervalId),u.current?g():i[a].intervalId=void 0)}},[t,g,a,c]),{elapsedTimeMs:s,reset:d}}},791845:function(e,t,n){"use strict";n.d(t,{Q:()=>a});var r=n(847345),o=n(523930),i=n(134445);function a(){let{user:e}=(0,i.m)(["user"]),t="show-checkouts";return(0,r.useCallback)(async({id:n,role:r,secondaryRoles:i})=>{let a=(0,o.CG)(n);return await e.api.query(a,{isInternal:!0,role:r,secondaryRoles:i,desc:t})},[e.api,t])}},59383:function(e,t,n){"use strict";n.d(t,{_:()=>o});var r=n(701957);class o{actOnItems(){this.action(this.queue.splice(0,this.queue.length))}enqueueItem(e){this.queue.push(e),-1!==this.maxQueueSize&&this.queue.length>=this.maxQueueSize&&this.actOnItems(),this.throttledAction()}flush(){this.throttledAction.flush()}get length(){return this.queue.length}constructor(e,t,n=-1){this.queue=[],this.action=e,this.throttledAction=(0,r.P)(this.actOnItems.bind(this),t,{leading:!1}),this.maxQueueSize=n}}},882470:function(e,t,n){"use strict";function r(e){return Object.values(e)}n.d(t,{f:()=>r})},407367:function(e,t,n){"use strict";n.d(t,{t:()=>d,u:()=>p});var r=n(753427),o=n.n(r),i=n(15576),a=n.n(i),s=n(103937),l=n.n(s),u=n(373945),c=n.n(u);let d=(e,t,n)=>{let r="",o="",i="0",s=g(e=Number(e));return s&&(1===s&&n?o="B":1024===s?o="KB":1048576===s?o="MB":0x40000000===s?o="GB":0x10000000000===s?o="TB":0x4000000000000===s&&(o="PB"),t=l()(t)||!a()(t)?1:t,r=(e/s).toFixed(t)+o),r},g=e=>{let t=0;return!isNaN(e=Number(e))&&e>=0&&(t=e<1024?1:e<1048576?1024:e<0x40000000?1048576:e<0x10000000000?0x40000000:e<0x4000000000000?0x10000000000:0x4000000000000),t},p=(e,t)=>{let n,r="";return isNaN(e=Number(e))||(t||0===t||(t=1),o()(e)&&(t=0),n=f(t),r=c()(e).format(n)),r},f=e=>{let t="0,0";return a()(e)||(e=0),0!==e&&(t+=`.${Array(e+1).join("0")}`),t}},952874:function(e,t,n){"use strict";function r(e){for(let t of e)return!1;return!0}n.d(t,{r:()=>r})},452603:function(e,t,n){"use strict";function r(e,t="/"){return e.startsWith(t)?e.substring(1):e}function o(e,t="/"){return e.startsWith(t)?e:`${t}${e}`}function i(e,t="/"){return e.endsWith(t)?e:`${e}${t}`}function a(e,t="/"){return e.endsWith(t)?e.substring(0,e.length-1):e}function s(e,t="/"){let n=e.lastIndexOf(t);return -1===n?"":e.slice(0,n)}function l(e,t){let n=i(r(t));return 0!==e.indexOf(n)?e:e.slice(n.length)}n.d(t,{$3:()=>r,FR:()=>a,X7:()=>s,kN:()=>i,mJ:()=>o,sR:()=>l})},825725:function(e,t,n){"use strict";n.d(t,{Q:()=>o});let r={undefined:()=>0,boolean:()=>4,number:()=>8,string:e=>2*e.length,bigint:e=>o(e.toString()),function:e=>o(e.toString()),symbol:e=>o(e.toString()),object:e=>e?e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array?e.byteLength:Object.entries(e).reduce((e,[t,n])=>o(t)+o(n)+e,0):0};function o(e){return r[typeof e](e)}},343983:function(e,t,n){"use strict";function r(e){return"function"==typeof e?e():e}function o(e,t){return r(e)?t:{}}function i(e,...t){return r(e)?t:[]}n.d(t,{V:()=>o,p:()=>i})},903920:function(e,t,n){"use strict";n.d(t,{A:()=>I,F:()=>b});var r=n(286204),o=n(24149),i=n(847345),a=n(703694),s=n(710296),l=n(223033),u=n(208597),c=n(403634),d=n(236139),g=n(197014),p=n(826060),f=n(741014),m=n(1465),E=n(958151),h=n(21527),v=n(162915),S=n(209268),_=n(266922);let b=i.createContext({enabled:!1,isNewResultsViewerEnabled:!1,isNewResultsViewerEnabledPerLocalStorage:!1,isNewQueryExecutionEnabled:!1,isModelHydrationEnabled:!1,isPerfEnabledQueryExecutionEnabled:!1,checkIsModelHydrationEnabled:()=>!1,setNewResultsViewerLocalOverride:e=>{},checkIsNewResultsViewerEnabled:()=>!1,checkIsNewQueryExecutionEnabled:()=>!1,checkIsNewQueryExecutionEnabledForWorksheet:()=>!1});function I(e){let{children:t,pageParams:n,userId:I}=e,y=(0,g.q)(n,I),R=(0,m.H)(n,I),T=(0,f.c)(n,I),N=(0,h.k)(n,I),C=(0,p.y)(n,I),{isEnabled:A,setLocalOverride:L}=function(){let[e,t]=(0,o._)(s.F.WORKSHEETS_ONE_MILLION_ROWS,{},{deserialize:d.I}),n=i.useRef(e),r=(0,i.useCallback)(e=>{if(e)t({});else{var n;t({type:v.u,updatedAt:new Date,snowsightVersion:null!=(n=a.X.clientVersion)?n:"unknown",value:!1})}},[t]);return{isEnabled:(0,E.Z)(n.current),setLocalOverride:r}}(),k=function(e,t){let n=(0,_.G)("UI_ENABLE_APEX_FEATURE_29",e,t),[r]=(0,o._)(S.eM,"",{deserialize:e=>e}),i=r===S.aw;return n&&i}(n,I),w=A&&R,O=i.useMemo(()=>({enabled:y,isNewResultsViewerEnabled:w,checkIsNewResultsViewerEnabled:c.l.bind(null,A),isNewQueryExecutionEnabled:T,isNewResultsViewerEnabledPerLocalStorage:A,isPerfEnabledQueryExecutionEnabled:N,setNewResultsViewerLocalOverride:L,checkIsNewQueryExecutionEnabled:()=>k&&(0,u.R)(),checkIsNewQueryExecutionEnabledForWorksheet:(e,t)=>{var n;return null!=(n=k&&(0,u.R)()&&(null==e?void 0:e.isStandaloneWorksheet(t)))&&n},isModelHydrationEnabled:C,checkIsModelHydrationEnabled:l.d}),[y,w,A,T,N,L,C,k]);return(0,r.jsx)(b.Provider,{value:O,children:t})}I.displayName="LasikContextProvider"},223033:function(e,t,n){"use strict";n.d(t,{d:()=>o});var r=n(405609);let o=e=>!!(null==e?void 0:e.isUiSpecifiedSnowflakeFeatureEnabled(r.d9))},208597:function(e,t,n){"use strict";n.d(t,{R:()=>o});var r=n(700577);let o=()=>r.i.UI_ENABLE_APEX_FEATURE_23()},403634:function(e,t,n){"use strict";n.d(t,{l:()=>o});var r=n(405609);let o=(e,t)=>e&&!!(null==t?void 0:t.isUiSpecifiedSnowflakeFeatureEnabled(r.hY))},236139:function(e,t,n){"use strict";n.d(t,{I:()=>r});let r=e=>{let t=JSON.parse(e);return"updatedAt"in t&&(t.updatedAt=new Date(t.updatedAt)),t}},197014:function(e,t,n){"use strict";n.d(t,{q:()=>i});var r=n(405609),o=n(266922);let i=(e,t)=>(0,o.G)(r.WC,e,t)},826060:function(e,t,n){"use strict";n.d(t,{y:()=>i});var r=n(405609),o=n(266922);let i=(e,t)=>(0,o.G)(r.d9,e,t)},741014:function(e,t,n){"use strict";n.d(t,{c:()=>i});var r=n(405609),o=n(266922);let i=(e,t)=>(0,o.G)(r.QI,e,t)},1465:function(e,t,n){"use strict";n.d(t,{H:()=>i});var r=n(405609),o=n(266922);let i=(e,t)=>(0,o.G)(r.hY,e,t)},958151:function(e,t,n){"use strict";n.d(t,{Z:()=>a});var r=n(710296),o=n(236139),i=n(162915);let a=e=>{try{let t=e||(0,o.I)(window.localStorage.getItem(r.F.WORKSHEETS_ONE_MILLION_ROWS)||"{}");return"object"!=typeof t||null===t||!("type"in t)||t.type!==i.u||(new Date().getTime()-t.updatedAt.getTime())/864e5>=i.w}catch(e){return!0}}},21527:function(e,t,n){"use strict";n.d(t,{k:()=>i});var r=n(405609),o=n(266922);let i=(e,t)=>(0,o.G)(r.A7,e,t)},266922:function(e,t,n){"use strict";function r(e,t,n){var r,o,i,a,s,l;return!!n&&(null==t||null==(l=t.models)||null==(s=l.users)||null==(a=s[n])||null==(i=a.settings)||null==(o=i.snowflakeFeatures)||null==(r=o[e])?void 0:r.toLowerCase())==="enabled"}n.d(t,{G:()=>r})},405609:function(e,t,n){"use strict";n.d(t,{A7:()=>s,QI:()=>i,WC:()=>r,d9:()=>a,hY:()=>o});let r="UI_ENABLE_APEX_FEATURE_17",o="UI_ENABLE_APEX_FEATURE_29",i="UI_ENABLE_APEX_FEATURE_23",a="UI_ENABLE_APEX_FEATURE_24",s="UI_ENABLE_APEX_FEATURE_42"},162915:function(e,t,n){"use strict";n.d(t,{u:()=>o,w:()=>r});let r=3,o="ONE_MILLION_ROWS_LOCAL_OVERRIDE"},563626:function(e,t,n){"use strict";n.d(t,{d:()=>o});var r=n(867668);function o(e,t){var n,o;if(t)return t;let i=null==e||null==(n=e.settings)?void 0:n.defaultRole;return i&&(null==e||null==(o=e.availableRoles)?void 0:o.includes(i))?i:r.PUBLIC_ROLE}},190279:function(e,t,n){"use strict";n.d(t,{Bg:()=>_,HS:()=>b,N0:()=>h,Qe:()=>S,RL:()=>I,Te:()=>E,Zl:()=>m,aZ:()=>R,eO:()=>f,mj:()=>y,wZ:()=>p,zd:()=>v});var r=n(820875),o=n(987826),i=n(420174),a=n(852043),s=n(620400),l=n(904660),u=n(829490),c=n(159771),d=n(36534),g=n(113939);let p=(e,t)=>({isInternal:!0,role:e,secondaryRoles:t,desc:"generate-notebook-url"});function f(e){return new a.L().add("CALL SYSTEM$GENERATE_NOTEBOOK_URL_FROM_NAME({} , {} );",(0,d.i)((0,s.m)(e.fullNotebookIdentifier)),(0,u.S)(e.isAccountUsingPrivateLink)).toQuery()}function m({fullNotebookIdentifier:e,queryId:t}){return t?new a.L().add("CALL SYSTEM$GENERATE_READ_ONLY_NOTEBOOK_TOKEN_WITH_REPLAY_QUERY_ID({}, {});",(0,d.i)((0,s.m)(e)),(0,d.i)(t)).toQuery():new a.L().add("CALL SYSTEM$GENERATE_NOTEBOOK_TOKEN({});",(0,d.i)((0,s.m)(e))).toQuery()}function E(e){let t=new URL(e);return{baseUriParts:{host:t.hostname,port:""===t.port?443:Number(t.port),basePath:(0,r.WC)()?t.pathname.split("/").filter(e=>"bootstrap"!==e).join("/"):t.pathname},isHttps:"https:"===t.protocol}}function h(e){return e&&`${e.isHttps?"https":"http"}://${e.baseUriParts.host}:${e.baseUriParts.port}${e.baseUriParts.basePath}`}function v({fullNotebookIdentifier:e,queryId:t}){return new a.L().add("CALL SYSTEM$GET_NOTEBOOK_EXECUTION_MAIN_FILE({}, {});",(0,d.i)((0,s.m)(e)),(0,d.i)(t)).toQuery()}function S({database:e,schema:t}){let n=e&&t?`${e}.${t}`:"",r=new a.L;return n?r.add("SELECT SYSTEM$SHOW_NOTEBOOK_COMPUTE_POOLS(?)",(0,d.i)(n)):r.add("SELECT SYSTEM$SHOW_NOTEBOOK_COMPUTE_POOLS()"),r.toQuery()}function _({notebookUrlId:e}){return new a.L().add("CALL SYSTEM$GET_USER_PREFERENCE({}, {}, {});",(0,d.i)(i.M.NOTEBOOK),(0,d.i)(e),(0,d.i)("session_settings")).toQuery()}function b({notebookUrlId:e,sessionSettingsData:t}){return new a.L().add("CALL SYSTEM$SET_USER_PREFERENCE({}, {}, {}, {});",(0,d.i)(i.M.NOTEBOOK),(0,d.i)(e),(0,d.i)("session_settings"),(0,d.i)(t)).toQuery()}function I({fullNotebookIdentifier:e}){return new a.L().add("CALL SYSTEM$IS_ENTITY_READONLY_REPLICA({}, {});",(0,d.i)("NOTEBOOK"),(0,d.i)((0,s.m)(e))).toQuery()}function y({fullNotebookIdentifier:e}){return new a.L().add("CALL SYSTEM$NOTEBOOK_BOOTSTRAP({});",(0,d.i)((0,s.m)(e))).toQuery()}function R(e){let{entityId:t,scheduleName:n,scheduleCronExpression:r,scheduleTimezone:s,warehouse:u,params:p}=e,f=!!p,m=new a.L;if(m.add("CREATE TASK IDENTIFIER(?) WAREHOUSE={} SCHEDULE={}",(0,c.M)({type:i.M.TASK,name:n,database:t.database,schema:t.schema}),(0,d.i)(u),(0,d.i)(`USING CRON ${r} ${s||"UTC"}`)),f){let e=(0,o.J)([{id:0,key:"params",value:null!=p?p:""}]);m.add(`CONFIG=$$${e}$$ AS BEGIN LET PARAMS STRING := SYSTEM$GET_TASK_GRAPH_CONFIG('params')::string;`),m.add("EXECUTE {} {}(:PARAMS)",(0,g.V)(t.type),(0,c.M)(t))}else m.add("AS EXECUTE {} {}()",(0,g.V)(t.type),(0,c.M)(t));let{queryWarehouse:E,codeWarehouse:h,computePool:v,runtimeName:S,runtimeEnvironmentVersion:_,externalAccessIntegrations:b}=e;return m.add("QUERY_WAREHOUSE={}",(0,d.i)(E)),h&&m.add("WAREHOUSE={}",(0,d.i)(h)),v&&m.add("COMPUTE_POOL={}",(0,d.i)(v)),S&&m.add("RUNTIME_NAME={}",(0,d.i)(S)),_&&m.add("RUNTIME_ENVIRONMENT_VERSION={}",(0,d.i)(_)),(null==b?void 0:b.length)&&m.add("EXTERNAL_ACCESS_INTEGRATIONS=({})",(0,l.D)(b)),f?m.add("; END;"):m.add(";"),m.toQuery()}},288579:function(e,t,n){"use strict";n.d(t,{F:()=>o});var r=n(700577);function o({runningInstances:e,isWarehouseRuntime:t}){let n=e.filter(e=>e.isInteractive&&(!e.serviceType||t&&"WAREHOUSE_INSTANCE_TYPE"===e.serviceType||!t&&"SERVICE_INSTANCE_TYPE"===e.serviceType)),o=n.length,i={additionalProtoParams:[],activeInstanceJobId:o>0?n[0].serviceId:null,activeNotebookInstancesNum:o,additionalMetadata:{}};return o>0&&(!t||r.i._DP_UI_NOTEBOOK_GET_STREAMLIT_VERSION_FOR_WH_ACTIVE_INSTANCE())&&(i.additionalMetadata.streamlitVersionOfAlreadyRunningInstance=n[0].streamlitVersion),t&&(i.additionalProtoParams.push("reconnectEnabled"),o>0&&i.additionalProtoParams.push(`reconnect-job-${n[0].serviceId}`)),i}},611646:function(e,t,n){"use strict";n.d(t,{y:()=>o});var r=n(854290);function o(e){return(0,r.m)(e)}},606765:function(e,t,n){"use strict";n.d(t,{F9:()=>u,Z1:()=>g,hV:()=>d,zv:()=>c});var r=n(632189),o=n(330007),i=n(611646);let a=async({simpleAppsSupport:e},t)=>{try{return{data:await e.isSimpleApp(t)}}catch(e){return{error:(0,i.y)(e)}}},s=async({simpleAppsSupport:e},t)=>{try{return{data:await e.getAppNotebooks(t)}}catch(e){return{error:(0,i.y)(e)}}},l=async({simpleAppsSupport:e},t)=>{try{return{data:await e.getSimpleAppSource(t)}}catch(e){return{error:(0,i.y)(e)}}},{useIsSimpleAppQuery:u,useLazyIsSimpleAppQuery:c,useGetAppNotebooksQuery:d,useGetSimpleAppSourceQuery:g}=o.h.injectEndpoints({endpoints:e=>({isSimpleApp:e.query({queryFn:(0,r.V)(a)}),getAppNotebooks:e.query({queryFn:(0,r.V)(s)}),getSimpleAppSource:e.query({queryFn:(0,r.V)(l)})})})},209036:function(e,t,n){"use strict";n.d(t,{l:()=>a});var r=n(709088),o=n(792473),i=n(916193);class a{getPath(){return this.path}goBackOrNavigate(e,t={},n=[]){let r=i.lm.entries;if(r.length>1)for(let e=r.length-2;e>=0;e--){if(this.matchesAgainstPath(r[e].pathname))return void i.lm.push(r[e].pathname+r[e].search);let t=!1;for(let o of n)if(o.matchesAgainstPath(r[e].pathname)){t=!0;break}if(!t)break}i.lm.push(this.getURL(e,t))}goBackWithDataOrNavigate(e,t={},n=[]){let r={...e};Object.entries(r).forEach(([e,t])=>{"string"==typeof t&&(r[e]=decodeURIComponent(t))});let o=i.lm.entries;if(o.length>1)for(let e=o.length-2;e>=0;e--){let t=!1;for(let r of[...n,this])if(r.matchesAgainstPath(o[e].pathname)){t=!0;break}if(t){if(this.getURL(r)===o[e].pathname)return void i.lm.push(o[e].pathname+o[e].search)}else break}i.lm.push(this.getURL(r,t))}getURL(e,t){return(0,o.m)(this.path,e,t)}navigate(e,t={}){i.lm.push(this.getURL(e,t))}replaceCurrentURL(e,t={}){i.lm.replace(this.getURL(e,t))}matchesAgainstPath(e){return"string"!=typeof(0,r.Yt)(this.path,e)}constructor(e){this.path=e.path,this.page=e.page,this.validLoggingRouteResolver=e.validLoggingRouteResolver}}},160588:function(e,t,n){"use strict";n.d(t,{p:()=>r});let r=/^([0-9a-z_]*[\w-]*-)?([d][0-9a-zA-Z]+(?::[^@]+)?)$/u},464881:function(e,t,n){"use strict";n.d(t,{V:()=>o,w:()=>r});let r=["marketplace","support","stripe-redirect","learn","terms-and-billing","terms","notification-contacts","resources","billing-documents","billing-contacts","marketplace-billing","snowflake-billing","openflow","mfe-testbed","integrations","debug-tooling","migrations","templates"],o=["provider-studio",...r]},117502:function(e,t,n){"use strict";n.d(t,{s:()=>t_});var r=n(581438),o=n(956642),i=n(478048),a=n(713127),s=n(41530),l=n(519171),u=n(768935),c=n(925359),d=n(283423),g=n(580785),p=n(742055),f=n(683431),m=n(848874),E=n(418969),h=n(530270),v=n(551702),S=n(703241),_=n(273898),b=n(670847),I=n(782664),y=n(892342),R=n(488065),T=n(739496),N=n(392576),C=n(782214),A=n(163526),L=n(420529),k=n(671921),w=n(809537),O=n(599067),D=n(530506),M=n(71518),x=n(701098),U=n(134733),P=n(324490),$=n(340796),F=n(209761),B=n(398746),G=n(2709),V=n(647610),j=n(176577),H=n(93502),W=n(392960),K=n(507672),Q=n(173142),z=n(855986),q=n(602260),Y=n(339688),X=n(816722),Z=n(827171),J=n(46745),ee=n(600399),et=n(603756),en=n(792203),er=n(599793),eo=n(658994),ei=n(998973),ea=n(638898),es=n(458837),el=n(596303),eu=n(179866),ec=n(257313),ed=n(336794),eg=n(436756),ep=n(848071),ef=n(570494),em=n(413221),eE=n(789977),eh=n(955025),ev=n(166582),eS=n(927244),e_=n(488592),eb=n(38362),eI=n(691625),ey=n(219847),eR=n(926441),eT=n(16995),eN=n(209036),eC=n(118589);let eA=new eN.l({path:[`${(0,eC.D)()}/pep/pep-playground`],page:"pep-playground"});var eL=n(580481),ek=n(534817),ew=n(170852),eO=n(558551),eD=n(12062),eM=n(756459),ex=n(160375),eU=n(542449),eP=n(600842),e$=n(773707),eF=n(412183),eB=n(471099),eG=n(170675),eV=n(321324),ej=n(385189),eH=n(186511),eW=n(250452),eK=n(122625),eQ=n(961081),ez=n(68237),eq=n(397035),eY=n(924022),eX=n(40088),eZ=n(772904),eJ=n(56992),e0=n(160194),e1=n(198071),e8=n(721370),e4=n(515127),e9=n(685286),e2=n(452124),e3=n(12980),e5=n(231465),e7=n(507146),e6=n(139350),te=n(158095),tt=n(122889),tn=n(298315),tr=n(867273),to=n(188671),ti=n(402885),ta=n(500809),ts=n(523577),tl=n(395870),tu=n(871131),tc=n(368252),td=n(108471);let tg=new eN.l({path:[`${(0,eC.D)()}/settings/*`],page:"settings",validLoggingRouteResolver:(e,t)=>{let n=(0,td.LX)(t,e);if(!n)return t;{var r,o,i;let e=null!=(i=null==(r=(null!=(o=n.params["*"])?o:"").split("/"))?void 0:r[0])?i:"";return t.replace("*",e)}}});var tp=n(27595),tf=n(322944),tm=n(701374),tE=n(640144),th=n(508404);let tv=[o.x,l.N,y.b,I.S,m.I,E.V,f.m,h.I,v.z,i.K,ei.r,ew.A,b.z,C.I,R.S3,N.o,T.Qj,A.z,L.b,k.K,w.N,O.n,j.a,G.d,J.U,H.E,q.r,K.F,Q.X,z.E,eO.t,eP.L,Y.y,X.Y,Z.E,D.Y,ea.o,es.S,eq.U,ee.l,er.I,e$.d,eD.D,eo.z,U.i,_.h,x.Q,M.H,W.n,eM.i,eu.F,ef.W,em.p,eE.Q,ev.L,eS._,e_.m,e3.u,e5.s,eb.k,eI.E,ey.b,P.A,el.p,d.d,ep.J,eQ.l,ez.Z,eH.m,eW.h,ec.t,eT.f,eL.e,$.n,eK.H,eF.s,ed.e,eB.BB,eG.Z,ej.r,eV.M,eY.S,eX.p,eZ.b,eJ.e,a.s,s.I,e0.I,e1.I,e8.I,e4.G,e9.a,e2.M,e7.N,tg,ex.W,eU.n,e6.I,F.Q,B.u,te.x,tt.r,tn.k,to.LQ,tr.P,ti.Y,eg.f,S.T,ts.F,ta.u,tl.$,tu.F,tc.Q,V.S,tp.S,tf.E,tm.l,tE.L,th.q,c.r,p.I,g.v,u.X,en.f,eR.a,et.o,eh.I,eA,ek.I],tS=(e,t)=>{let n=[];for(let r of e.match(/enum<([^>]+)>/)[1].split("|"))n=n.concat(t.map(t=>t.replace(e,r)));return n},t_=tv.map(function(e){let t=e.getPath();return[("string"==typeof t?[t]:t).reduce((e,t)=>{if(t.match(/enum<[^>]+>/)){let n=[t];for(let e of t.match(/{[^:]+:enum<[^>]+>}/g))n=tS(e,n);e=e.concat(n)}else e.push(t);return e=e.map(e=>(0,r.Q)(e))},[]).map(e=>e.replace(/({)([^:]+)((:)(number|string)|((:exists)))(})/g,"$4$2")),e]})},956642:function(e,t,n){"use strict";n.d(t,{x:()=>s});var r=n(882470),o=n(209036),i=n(118589),a=n(434811);let s=new o.l({path:[(0,i.D)()+`/organization/{tab:enum<${a.L.reader_accounts}>}/{readerAccountName:string}/`,(0,i.D)()+`/organization/{tab:enum<${(0,r.f)(a.L).join("|")}>}/`,(0,i.D)()+`/organization/accounts/{tab:enum<${(0,r.f)(a.L).join("|")}>}/`,(0,i.D)()+"/organization",(0,i.D)()+"/organization/accounts"],page:"accounts"})},478048:function(e,t,n){"use strict";n.d(t,{K:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/account/replication/client-redirects"],page:"client_redirects"})},713127:function(e,t,n){"use strict";n.d(t,{s:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/account/replication/group/{primaryGroupKey:string}/{secondaryGroupKey:string}",(0,o.D)()+"/account/replication/group/{primaryGroupKey:string}"],page:"replication_group_details"})},41530:function(e,t,n){"use strict";n.d(t,{I:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/account/replication",(0,o.D)()+"/account/replication/groups"],page:"replication_groups"})},434811:function(e,t,n){"use strict";n.d(t,{L:()=>o});var r,o=((r={}).active_accounts="active_accounts",r.dropped_accounts="dropped_accounts",r.reader_accounts="reader_accounts",r)},519171:function(e,t,n){"use strict";n.d(t,{N:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/data/add-data`],page:"add_data"})},768935:function(e,t,n){"use strict";n.d(t,{X:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/compute/compute-pools/{entityName:string}"],page:"compute_pool_detail"})},925359:function(e,t,n){"use strict";n.d(t,{r:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/compute/compute-pools"],page:"compute_pool_list"})},283423:function(e,t,n){"use strict";n.d(t,{d:()=>l,l:()=>s});var r,o=n(108471),i=n(209036),a=n(118589),s=((r={}).DETAILS="details",r.SPECIFICATION="specification",r.LOGS="logs",r.METRICS="metrics",r);let l=new i.l({path:[(0,a.D)()+"/compute/job/{database:string}/{schema:string}/{entityName:string}/{tab:string}",(0,a.D)()+"/compute/job/{database:string}/{schema:string}/{entityName:string}"],page:"job_detail",validLoggingRouteResolver:(e,t)=>{let n=(0,o.LX)(t,e);return(null==n?void 0:n.params.tab)?t.replace(":tab",n.params.tab):t}})},580785:function(e,t,n){"use strict";n.d(t,{J:()=>s,v:()=>l});var r,o=n(108471),i=n(209036),a=n(118589),s=((r={}).DETAILS="details",r.SPECIFICATION="specification",r.LOGS="logs",r.METRICS="metrics",r);let l=new i.l({path:[(0,a.D)()+"/compute/service/{database:string}/{schema:string}/{entityName:string}/{tab:string}",(0,a.D)()+"/compute/service/{database:string}/{schema:string}/{entityName:string}"],page:"service_detail",validLoggingRouteResolver:(e,t)=>{let n=(0,o.LX)(t,e);return(null==n?void 0:n.params.tab)?t.replace(":tab",n.params.tab):t}})},742055:function(e,t,n){"use strict";n.d(t,{I:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/compute/services-and-jobs/{tab:string}",(0,o.D)()+"/compute/services-and-jobs/"],page:"services_and_jobs_list"})},683431:function(e,t,n){"use strict";n.d(t,{m:()=>a});var r=n(209036),o=n(118589);class i extends r.l{getURL(e,t){return super.getURL({...e,org:void 0,region:void 0},t)}constructor(){super({path:[(0,o.D)()+"/snowflake-billing","/snowflake-billing"],page:"account_billing"})}}let a=new i},848874:function(e,t,n){"use strict";n.d(t,{I:()=>a});var r=n(209036),o=n(118589);class i extends r.l{getURL(e,t){return super.getURL({...e,org:void 0,region:void 0},t)}constructor(){super({path:[`${(0,o.D)()}/billing-contacts/`,"/billing-contacts/"],page:"billing_contacts"})}}let a=new i},418969:function(e,t,n){"use strict";n.d(t,{V:()=>a});var r=n(209036),o=n(118589);class i extends r.l{constructor(){super({path:[(0,o.D)()+"/account/billing"],page:"billing"})}}let a=new i},530270:function(e,t,n){"use strict";n.d(t,{I:()=>i});var r=n(209036);class o extends r.l{getURL(e,t){return super.getURL({...e,org:void 0,region:void 0},t)}constructor(){super({path:["/billing-documents/"],page:"billing_documents"})}}let i=new o},551702:function(e,t,n){"use strict";n.d(t,{z:()=>a});var r=n(209036),o=n(118589);class i extends r.l{getURL(e,t){return super.getURL({...e,org:void 0,region:void 0},t)}constructor(){super({path:[(0,o.D)()+"/marketplace-billing","/marketplace-billing"],page:"marketplace_billing"})}}let a=new i},703241:function(e,t,n){"use strict";n.d(t,{T:()=>a});var r=n(209036),o=n(118589);class i extends r.l{getURL(e,t){return super.getURL({...e,org:void 0,region:void 0},t)}constructor(){super({path:[(0,o.D)()+"/organization/terms-and-billing",(0,o.D)()+"/organization/snowflake-data-marketplace-billing","/terms-and-billing"],page:"terms_and_billing"})}}let a=new i},273898:function(e,t,n){"use strict";n.d(t,{h:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/copilot`],page:"copilot"})},670847:function(e,t,n){"use strict";n.d(t,{z:()=>a});var r=n(209036),o=n(118589),i=n(878095);let a=new r.l({path:[`${(0,o.D)()}/compute/history/${i.X.CopyHistory}`],page:"copy_history"})},782664:function(e,t,n){"use strict";n.d(t,{S:()=>a});var r=n(209036),o=n(118589),i=n(993719);let a=new r.l({path:[`${(0,o.D)()}/ai-evaluations/databases/{database:string}/schemas/{schema:string}/applications/{application:string}/versions/{version:string}/runs/{run:string}/traces/{traceId:string}`,`${(0,o.D)()}/ai-evaluations/databases/{database:string}/schemas/{schema:string}/applications/{application:string}/versions/{version:string}/runs/{run:string}`,`${(0,o.D)()}/ai-evaluations/databases/{database:string}/schemas/{schema:string}/applications/{application:string}/${(0,i.dS)("applicationAction",["compare"])}`,`${(0,o.D)()}/ai-evaluations/databases/{database:string}/schemas/{schema:string}/applications/{application:string}`,`${(0,o.D)()}/ai-evaluations`],page:"ai_evaluations"})},892342:function(e,t,n){"use strict";n.d(t,{b:()=>l});var r,o=n(882470),i=n(209036),a=n(118589),s=((r={}).ABOUT="about",r.INSTRUCTIONS="instructions",r.TOOLS="tools",r.ORCHESTRATION="orchestration",r.ACCESS="access",r);let l=new i.l({path:[`${(0,a.D)()}/agents/database/{database:string}/schema/{schema:string}/agent/{agentName:string}/configure/{tab:enum<${(0,o.f)(s).join("|")}>}`,`${(0,a.D)()}/agents/database/{database:string}/schema/{schema:string}/agent/{agentName:string}/details`,`${(0,a.D)()}/agents/database/{database:string}/schema/{schema:string}/agent/{agentName:string}/configure`,`${(0,a.D)()}/agents`],page:"agents"})},488065:function(e,t,n){"use strict";n.d(t,{Gv:()=>s,Nx:()=>a,S3:()=>i,kf:()=>l});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/studio/analyst/databases/{database:string}/schemas/{schema:string}/stages/{stage:string}/./{filePath:string}/{fileName:string}/{edit:string}`,`${(0,o.D)()}/studio/analyst/databases/{database:string}/schemas/{schema:string}/stages/{stage:string}/./{filePath:string}/{fileName:string}`,`${(0,o.D)()}/studio/analyst/databases/{database:string}/schemas/{schema:string}/stages/{stage:string}/{fileName:string}/{edit:string}`,`${(0,o.D)()}/studio/analyst/databases/{database:string}/schemas/{schema:string}/stages/{stage:string}/{fileName:string}`,`${(0,o.D)()}/studio/analyst/databases/{database:string}/schemas/{schema:string}/semanticView/{nativeSemanticName:string}/{edit:string}`,`${(0,o.D)()}/studio/analyst/databases/{database:string}/schemas/{schema:string}/semanticView/{nativeSemanticName:string}`,`${(0,o.D)()}/studio/analyst/databases/{database:string}/schemas/{schema:string}/nativeSemantic/{nativeSemanticName:string}/{edit:string}`,`${(0,o.D)()}/studio/analyst/databases/{database:string}/schemas/{schema:string}/nativeSemantic/{nativeSemanticName:string}`,`${(0,o.D)()}/studio/analyst`],page:"cortex_analyst"}),a=e=>{var t;if("/"===e.filePath||""===e.filePath){let{filePath:t,...n}=e;return i.navigate(n)}return(null==(t=e.filePath)?void 0:t.startsWith("/"))?i.navigate({...e,filePath:e.filePath.substring(1)}):i.navigate(e)},s=e=>a({...e,edit:"edit"}),l=e=>{let{edit:t,...n}=e;return a(n)}},739496:function(e,t,n){"use strict";n.d(t,{FG:()=>s,Qj:()=>i,se:()=>a,v7:()=>l});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/cortex/analyst/databases/{database:string}/schemas/{schema:string}/stages/{stage:string}/./{filePath:string}/{fileName:string}/{edit:string}`,`${(0,o.D)()}/cortex/analyst/databases/{database:string}/schemas/{schema:string}/stages/{stage:string}/./{filePath:string}/{fileName:string}`,`${(0,o.D)()}/cortex/analyst/databases/{database:string}/schemas/{schema:string}/stages/{stage:string}/{fileName:string}/{edit:string}`,`${(0,o.D)()}/cortex/analyst/databases/{database:string}/schemas/{schema:string}/stages/{stage:string}/{fileName:string}`,`${(0,o.D)()}/cortex/analyst/databases/{database:string}/schemas/{schema:string}/semanticView/{nativeSemanticName:string}/{edit:string}`,`${(0,o.D)()}/cortex/analyst/databases/{database:string}/schemas/{schema:string}/semanticView/{nativeSemanticName:string}`],page:"cortex_analyst_editor"}),a=e=>{var t;if("/"===e.filePath||""===e.filePath){let{filePath:t,...n}=e;return i.navigate(n)}return(null==(t=e.filePath)?void 0:t.startsWith("/"))?i.navigate({...e,filePath:e.filePath.substring(1)}):i.navigate(e)},s=e=>a({...e,edit:"edit"}),l=e=>{let{edit:t,...n}=e;return a(n)}},392576:function(e,t,n){"use strict";n.d(t,{o:()=>a});var r=n(209036),o=n(118589),i=n(488065);let a=new r.l({path:[`${(0,o.D)()}/cortex/analyst`,...i.S3.path],page:"cortex_analyst_home"})},782214:function(e,t,n){"use strict";n.d(t,{I:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/studio`],page:"studio"})},163526:function(e,t,n){"use strict";n.d(t,{a:()=>s,z:()=>l});var r,o=n(209036),i=n(118589),a=n(993719),s=((r={}).SERVICES="service",r.EVALS="evaluation",r);let l=new o.l({path:[`${(0,i.D)()}/cortex/search/${(0,a.dS)("tab",["evaluation"])}`,`${(0,i.D)()}/cortex/search`],page:"cortex_search"})},420529:function(e,t,n){"use strict";n.d(t,{b:()=>l,v:()=>s});var r,o=n(209036),i=n(118589),a=n(993719),s=((r={}).SERVICE="service",r.PREVIEW="preview",r.COST="cost",r);let l=new o.l({path:[`${(0,i.D)()}/cortex/search/databases/{database:string}/schemas/{schema:string}/services/{serviceName:string}/${(0,a.dS)("tab",Object.values(s))}`,`${(0,i.D)()}/cortex/search/databases/{database:string}/schemas/{schema:string}/services/{serviceName:string}`],page:"cortex_search_details"})},671921:function(e,t,n){"use strict";n.d(t,{K:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/cortex/search/evaluation/database/{database:string}/schema/{schema:string}/golden/{goldenName:string}`],page:"cortex_search_evaluation_golden"})},809537:function(e,t,n){"use strict";n.d(t,{N:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/cortex/search/evaluation/database/{database:string}/schema/{schema:string}/golden/{goldenName:string}/run/{runName:string}`],page:"cortex_search_evaluation_run"})},599067:function(e,t,n){"use strict";n.d(t,{n:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/cortex/search/playground/databases/{database:string}/schemas/{schema:string}/services/{serviceName:string}`,`${(0,o.D)()}/cortex/search/playground`],page:"cortex_search_playground"})},530506:function(e,t,n){"use strict";n.d(t,{Y:()=>a});var r=n(209036),o=n(118589),i=n(993719);let a=new r.l({path:[`${(0,o.D)()}/experiments/databases/{database:string}/schemas/{schema:string}/experiments/{experiment:string}/runs/{run:string}`,`${(0,o.D)()}/experiments/databases/{database:string}/schemas/{schema:string}/experiments/{experiment:string}/${(0,i.dS)("experimentAction",["compare"])}`,`${(0,o.D)()}/experiments/databases/{database:string}/schemas/{schema:string}/experiments/{experiment:string}`,`${(0,o.D)()}/experiments`],page:"experiment_tracking"})},71518:function(e,t,n){"use strict";n.d(t,{A:()=>l,H:()=>u});var r,o=n(882470),i=n(209036),a=n(118589),s=n(993719),l=((r={}).featureViewDetails="feature-view-details",r.lineage="lineage",r);let u=new i.l({path:[`${(0,a.D)()}/features/database/{database:string}/store/{store:string}/feature-view/{featureView:string}/version/{version:string}/${(0,s.dS)("tab",(0,o.f)(l))}`,`${(0,a.D)()}/features/database/{database:string}/store/{store:string}/feature-view/{featureView:string}/version/{version:string}`,`${(0,a.D)()}/features/database/{database:string}/store/{store:string}/feature-view/{featureView:string}`],page:"ml_feature_view_details"})},701098:function(e,t,n){"use strict";n.d(t,{Q:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/features/database/{database:string}/store/{store:string}/{entities:exists}`,`${(0,o.D)()}/features/database/{database:string}/store/{store:string}`,`${(0,o.D)()}/features`],page:"ml_features"})},134733:function(e,t,n){"use strict";n.d(t,{Q:()=>a,i:()=>s});var r,o=n(209036),i=n(118589),a=((r={}).models="models",r.services="services",r);let s=new o.l({path:[`${(0,i.D)()}/models/{tab:enum<services>}/`,`${(0,i.D)()}/models`],page:"ml_models"})},324490:function(e,t,n){"use strict";n.d(t,{A:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/data/databases/{database:string}/schemas/{schema:string}/model/{model:string}/version/{modelVersion:string}/monitors/{monitorName:string}/dashboard`],page:"ml_observability_monitoring"})},340796:function(e,t,n){"use strict";n.d(t,{n:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/cortex/playground`],page:"studio_playground"})},209761:function(e,t,n){"use strict";n.d(t,{Q:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/ai/chat/{chatId:string}`],page:"snowflake_intelligence_chat"})},398746:function(e,t,n){"use strict";n.d(t,{u:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/ai`],page:"snowflake_intelligence_home"})},2709:function(e,t,n){"use strict";n.d(t,{d:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/account/usage/budget/{database:string}/{schema:string}/{budget:string}"],page:"custom_budget"})},647610:function(e,t,n){"use strict";n.d(t,{S:()=>s});var r=n(882470),o=n(209036),i=n(118589),a=n(574067);let s=new o.l({path:[(0,i.D)()+`/account/usage/{tab:enum<${(0,r.f)(a.p).join("|")}>}/{entityName:string}`,(0,i.D)()+`/account/usage/{tab:enum<${(0,r.f)(a.p).join("|")}>}/`,(0,i.D)()+"/account/usage/"],page:"usage"})},574067:function(e,t,n){"use strict";n.d(t,{p:()=>o});var r,o=((r={}).BUDGET="budget",r.CONSUMPTION="consumption",r.OVERVIEW="overview",r.RESOURCE_MONITORS="resource_monitors",r.ORG_OVERVIEW="org_overview",r.ANOMALY_DETECTION="anomaly",r)},176577:function(e,t,n){"use strict";n.d(t,{a:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/data/add-data/create-pipe`],page:"create_pipe"})},993719:function(e,t,n){"use strict";n.d(t,{A2:()=>R,A6:()=>f,DJ:()=>b,Dc:()=>_,HQ:()=>y,Lp:()=>g,Qg:()=>I,R8:()=>c,YL:()=>m,dS:()=>h,mU:()=>p,o:()=>d,r4:()=>u,sT:()=>S});var r=n(954104),o=n(922921),i=n.n(o),a=n(882470),s=n(118589),l=n(926627);let u=(0,s.D)()+"/data/databases/",c=(0,s.D)()+"/data/databases/{database:string}",d=(0,s.D)()+"/data/databases/{database:string}/{tab:string}",g=(0,s.D)()+"/data/databases/{database:string}/schemas/{schema:string}",p=(0,s.D)()+"/data/databases/{database:string}/schemas/{schema:string}/{tab:enum<"+(0,a.f)(l.n0).filter(e=>"schema-details"!==e).join("|")+">}",f=(0,s.D)()+"/data/databases/{database:string}/schemas/{schema:string}/{tab:enum<"+(0,a.f)(l.n0).filter(e=>"schema-details"!==e).join("|")+">}/{subtab:enum<"+(0,a.f)(r.SchemaObjectTypeFE).join("|")+">}",m=(0,s.D)()+"/data/databases/{database:string}/schemas/{schema:string}/{objType:enum<"+(0,a.f)(r.SchemaObjectTypeFE).join("|")+">}/{schemaObj:string}";function E(e,...t){return i()((0,a.f)(e),t)}function h(e,...t){return`{${e}:enum<${t.flat().join("|")}>}`}let v=`${(0,s.D)()}/data/databases/{database:string}/schemas/{schema:string}/${h("objType",[r.SchemaObjectTypeFE.ML_MODEL])}/{schemaObj:string}/${h("schemaSubObjType",(0,a.f)(r.MLModelObjectTypeFE))}/{schemaSubObj:string}`,S=`${(0,s.D)()}/data/databases/{database:string}/schemas/{schema:string}/${h("objType",[r.SchemaObjectTypeFE.ML_MODEL])}/{schemaObj:string}/${h("schemaSubObjType",(0,a.f)(r.MLModelObjectTypeFE))}/{schemaSubObj:string}/${h("tab",(0,a.f)(l.vY))}`,_=[v],b=(0,s.D)()+`/data/databases/{database:string}/schemas/{schema:string}/${h("objType",(0,a.f)(r.SchemaObjectTypeFE))}/{schemaObj:string}/${h("tab",E(l.nn,l.nn.tableDetails),E(l.tU,l.tU.viewDetails),E(l.sV,l.sV.taskDetails),(0,a.f)(l.lh),E(l.iW,l.iW.files),E(l.Wo,l.Wo.filesExplorer),E(l.ir,l.ir.tableDetails),(0,a.f)(l.ou),(0,a.f)(l.We))}`,I=[f,p,g],y=[d,c],R=[S,..._,b,m,...I,...y,(0,s.D)()+"/data/data-metric-reference/{uuid:string}",(0,s.D)()+"/data/discover/{database:string}",(0,s.D)()+"/data/discover/{database:string}/{schema:string}",u]},937127:function(e,t,n){"use strict";n.d(t,{T:()=>a});var r=n(792473),o=n(993719),i=n(926627);function a(e,t){let{region:n,org:a,database:s,schema:l,schemaObj:u,objType:c,tab:d,subtab:g,schemaSubObj:p,schemaSubObjType:f}=e;if(p)return d?(0,r.m)(o.sT,{region:n,org:a,database:s,schema:l,objType:c,schemaObj:u,schemaSubObj:p,schemaSubObjType:f,tab:d},t):(0,r.m)(o.Dc,{region:n,org:a,database:s,schema:l,objType:c,schemaObj:u,schemaSubObj:p,schemaSubObjType:f},t);if(u){let e=[i.nn.tableDetails,i.NY.pipeDetails,i.tU.viewDetails,i.sV.taskDetails,i.zY.alertDetails,i.iW.files,i.Wo.filesExplorer,i.ir.tableDetails,i.We.projectDetails];return!d||e.includes(d)?(0,r.m)(o.YL,{region:n,org:a,database:s,schema:l,objType:c,schemaObj:u},t):(0,r.m)(o.DJ,{region:n,org:a,database:s,schema:l,objType:c,schemaObj:u,tab:d},t)}if(l)if(d===i.n0.schemaDetails||!d)return(0,r.m)(o.Lp,{region:n,org:a,database:s,schema:l},t);else if(g)return(0,r.m)(o.A6,{region:n,org:a,database:s,schema:l,tab:d,subtab:g},t);else return(0,r.m)(o.mU,{region:n,org:a,database:s,schema:l,tab:d},t);if(!s)return(0,r.m)(o.r4,{region:n,org:a},t);if(d===i.SF.databaseDetails||!d)return(0,r.m)(o.R8,{region:n,org:a,database:s},t);else return(0,r.m)(o.o,{region:n,org:a,database:s,tab:d},t)}},93502:function(e,t,n){"use strict";n.d(t,{E:()=>s});var r=n(209036),o=n(118589),i=n(792473);class a extends r.l{getURL(e,t){return(0,i.m)((0,o.D)()+"/data/databases/",e,t)}constructor(){super({path:[(0,o.D)()+"/data/discover/"],page:"database_list"})}}let s=new a},392960:function(e,t,n){"use strict";n.d(t,{n:()=>s});var r=n(209036),o=n(993719),i=n(937127);class a extends r.l{getURL(e,t){return(0,i.T)(e,t)}constructor(){super({path:o.A2,page:"manage_ax"})}}let s=new a},926627:function(e,t,n){"use strict";n.d(t,{NY:()=>_,Oe:()=>N,SF:()=>L,We:()=>O,Wo:()=>A,iW:()=>C,ir:()=>y,lh:()=>R,n0:()=>v,nn:()=>S,ou:()=>w,sV:()=>b,tU:()=>T,vY:()=>k,zY:()=>I});var r,o,i,a,s,l,u,c,d,g,p,f,m,E,h,v=((r={}).schemaDetails="schema-details",r.tables="tables",r.dynamicTables="dynamicTables",r.views="views",r.stages="stages",r.gitRepositories="gitRepositories",r.fileFormats="fileFormats",r.sequences="sequences",r.pipes="pipes",r.streams="streams",r.tasks="tasks",r.alerts="alerts",r.functions="functions",r.procedures="procedures",r.mlModels="models",r.cortexSearchServices="cortexSearchServices",r.contacts="contacts",r.semanticViews="semanticViews",r.dbtProjects="dbtProjects",r),S=((o={}).tableDetails="table-details",o.columns="columns",o.dataPreview="data-preview",o.copyHistory="copy-history",o.lineage="lineage",o.governance="governance",o.dataQuality="data-quality",o),_=((i={}).pipeDetails="pipe-details",i.copyHistory="copy-history",i),b=((a={}).taskDetails="task-details",a.graph="graph",a.runHistory="run-history",a),I=((s={}).alertDetails="alert-details",s),y=((l={}).tableDetails="table-details",l.columns="columns",l.dataPreview="data-preview",l.graph="graph",l.refreshHistory="refresh-history",l.dataQuality="data-quality",l),R=((u={}).dataPreview="dataPreview",u.copyHistory="copyHistory",u),T=((c={}).viewDetails="view-details",c.governance="governance",c.columns="columns",c.dataPreview="data-preview",c.dataQuality="data-quality",c.lineage="lineage",c),N=((d={}).dataPreview="dataPreview",d),C=((g={}).stageDetails="stage-details",g.files="files",g.lineage="lineage",g),A=((p={}).gitRepositoryDetails="git-repository-details",p.filesExplorer="files-explorer",p),L=((f={}).databaseDetails="database-details",f.replication="replication",f.schemas="schemas",f),k=((m={}).versionDetails="version-details",m.lineage="lineage",m.services="services",m.files="version-files",m),w=((E={}).semanticViewDetails="semantic-view-details",E.semanticInformation="semantic-information",E),O=((h={}).projectDetails="dbt-project-details",h.runHistory="dbt-project-run-history",h)},507672:function(e,t,n){"use strict";n.d(t,{F:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/compute/history/dbt/{queryId:string}/detail`],page:"dbt_command_execution_details"})},173142:function(e,t,n){"use strict";n.d(t,{X:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/compute/history/dbt/{queryId:string}/output`],page:"dbt_command_execution_output"})},855986:function(e,t,n){"use strict";n.d(t,{E:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/compute/history/dbt/{queryId:string}/trace`],page:"dbt_command_execution_trace"})},602260:function(e,t,n){"use strict";n.d(t,{r:()=>a});var r=n(209036),o=n(118589),i=n(878095);let a=new r.l({path:[`${(0,o.D)()}/compute/history/${i.X.DbtHistory}`],page:"dbt_history"})},339688:function(e,t,n){"use strict";n.d(t,{y:()=>l});var r=n(209036),o=n(118589);let i=`${(0,o.D)()}/document-ai`,a=`${(0,o.D)()}/document-ai/{documentAiProjectFqn:string}/{navTab:enum<details|dataset|documents|values|annotation>}`,s=`${(0,o.D)()}/document-ai/{database:string}/{schema:string}/{name:string}/{navTab:enum<details|dataset|documents|values|annotation>}`,l=new r.l({path:[a,s,i],page:"document_ai"})},816722:function(e,t,n){"use strict";n.d(t,{Y:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/document-ai-playground"],page:"document-ai-playground"})},827171:function(e,t,n){"use strict";n.d(t,{E:()=>a});var r=n(209036),o=n(118589),i=n(878095);let a=new r.l({path:[`${(0,o.D)()}/compute/history/${i.X.DynamicTables}`],page:"dynamic_tables"})},46745:function(e,t,n){"use strict";n.d(t,{U:()=>s});var r=n(882470),o=n(209036),i=n(118589),a=n(430181);let s=new o.l({path:[(0,i.D)()+`/data/governance/{tab:enum<${(0,r.f)(a.B).join("|")}>}`,(0,i.D)()+"/data/governance"],page:"data_governance"})},430181:function(e,t,n){"use strict";n.d(t,{B:()=>o});var r,o=((r={}).dashboard="dashboard",r.taggedObjects="tagged-objects",r)},600399:function(e,t,n){"use strict";n.d(t,{l:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/homepage`],page:"homepage"})},603756:function(e,t,n){"use strict";n.d(t,{o:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/data/integrations/{name:string}",(0,o.D)()+"/data/integrations"],page:"integrations"})},792203:function(e,t,n){"use strict";n.d(t,{f:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/account/invites"],page:"invites_list"})},599793:function(e,t,n){"use strict";n.d(t,{I:()=>r});let r=new(n(209036)).l({path:["/learn"],page:"learn"})},658994:function(e,t,n){"use strict";n.d(t,{z:()=>a});var r=n(209036),o=n(118589),i=n(878095);let a=new r.l({path:[`${(0,o.D)()}/compute/history/${i.X.Logs}`,`${(0,o.D)()}/compute/history/${i.X.Telemetry}/logs`],page:"logs"})},348841:function(e,t,n){"use strict";n.d(t,{q:()=>r});let r=(e,t)=>{let n=`${e?e+"-":""}${t}`.toLowerCase().replaceAll(/([\^\|%(\)&$\+.,:;'"=\?@#\s<>\[\]\{\}[\/\\]|\\\^%])+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"");if(""!==n)return n}},998973:function(e,t,n){"use strict";n.d(t,{r:()=>u});var r=n(867668),o=n(700577),i=n(209036),a=n(118589),s=n(348841);class l extends i.l{getURL(e,t){let{providerName:n,listingTitle:i,listingId:a,exchangeId:l=r.SnowflakePuDxName,internal:u}=e;return(delete e.providerName,delete e.listingTitle,u)?o.i._DP_UI_FIX_INFINITE_REDIRECT_INTERNAL_LISTING()?super.getURL({listingId:a,internal:u},t):super.getURL({listingId:a,internal:u,providerNameAndListingTitle:i&&(0,s.q)("",i)},t):l!==r.SnowflakePuDxName||e.shared?super.getURL({...e,exchangeId:l,shared:!0},t):(n&&i&&(e.providerNameAndListingTitle=(0,s.q)(n,i)),super.getURL({...e,region:void 0,org:void 0,exchangeId:void 0},t))}constructor(){super({path:[(0,a.D)()+"/data/{shared:exists}/{exchangeId:string}/listing/{listingId:string}/",(0,a.D)()+"/data/marketplace/listing/{listingId:string}/",(0,a.D)()+"/marketplace/{internal:exists}/listing/{listingId:string}/{providerNameAndListingTitle:string}",(0,a.D)()+"/marketplace/{internal:exists}/listing/{listingId:string}/","/marketplace/{internal:exists}/listing/{listingId:string}/{providerNameAndListingTitle:string}","/marketplace/{internal:exists}/listing/{listingId:string}/","/marketplace/listing/{listingId:string}/{providerNameAndListingTitle:string}","/marketplace/listing/{listingId:string}/"],page:"consumer_listing_detail"})}}let u=new l},638898:function(e,t,n){"use strict";n.d(t,{o:()=>a});var r=n(209036),o=n(118589);class i extends r.l{navigate(e,t={}){super.navigate(e,t),window.scrollTo(0,0)}}let a=new i({path:[(0,o.D)()+"/data/marketplace/{tab:enum<data-products>}/{search:exists}/",(0,o.D)()+"/data/marketplace/{tab:enum<listings|providers|data-products>}/",(0,o.D)()+"/data/marketplace/","/marketplace/{snowflake:exists}/{tab:enum<data-products>}/{search:exists}/","/marketplace/{snowflake:exists}/{tab:enum<listings|providers|data-products>}/","/marketplace/{snowflake:exists}","/marketplace/{tab:enum<data-products>}/{search:exists}/","/marketplace/{tab:enum<listings|providers|data-products>}/","/marketplace"],page:"explore"})},458837:function(e,t,n){"use strict";n.d(t,{S:()=>r});let r=new(n(209036)).l({path:["/marketplace/requests/"],page:"explore_requests"})},596303:function(e,t,n){"use strict";n.d(t,{p:()=>r});let r=new(n(209036)).l({path:["/marketplace/internal/{tab:enum<data-products>}/{search:exists}/","/marketplace/internal/{tab:enum<data-products>}","/marketplace/internal"],page:"internal_marketplace"})},179866:function(e,t,n){"use strict";n.d(t,{F:()=>r});let r=new(n(209036)).l({path:["/marketplace/sign-up"],page:"marketplace_mobile_sign_up"})},257313:function(e,t,n){"use strict";n.d(t,{t:()=>i});var r=n(209036);class o extends r.l{getURL(e,t){return super.getURL({orgProviderName:e.orgProviderName.toUpperCase()},t)}constructor(){super({path:["/marketplace/internal/providers/{orgProviderName:string}"],page:"org_provider_detail"})}}let i=new o},336794:function(e,t,n){"use strict";n.d(t,{e:()=>s});var r=n(867668),o=n(209036),i=n(118589);class a extends o.l{getURL(e,t){return e.exchangeId!==r.SnowflakePuDxName||e.shared?e.exchangeId&&!e.shared?super.getURL({...e,shared:!0},t):super.getURL(e,t):super.getURL({...e,region:void 0,org:void 0,exchangeId:void 0},t)}constructor(){super({path:[(0,i.D)()+"/data/{shared:exists}/{exchangeId:string}/providers/{profileGlobalName:string}/{providerName:string}",(0,i.D)()+"/data/marketplace/providers/{profileGlobalName:string}/{providerName:string}","/marketplace/providers/{profileGlobalName:string}/{providerName:string}",(0,i.D)()+"/data/{shared:exists}/{exchangeId:string}/listings/{providerName:string}",(0,i.D)()+"/data/marketplace/listings/{providerName:string}","/marketplace/listings/{providerName:string}"],page:"provider_detail"})}}let s=new a},436756:function(e,t,n){"use strict";n.d(t,{f:()=>a});var r=n(209036),o=n(118589);class i extends r.l{getURL(e,t){return super.getURL({...e,org:void 0,region:void 0},t)}constructor(){super({path:[(0,o.D)()+"/organization/terms","/terms"],page:"terms"})}}let a=new i},848071:function(e,t,n){"use strict";n.d(t,{J:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/{apps:exists}/listing/private/{listingId:string}/offer/{offerName:string}",(0,o.D)()+"/data/shared/listing/private/{listingId:string}/offer/{offerName:string}","/marketplace/listing/{listingId:string}/offer/{offerName:string}","/marketplace/listing/{listingId:string}/{providerNameAndListingTitle:string}/offer/{offerName:string}"],page:"private_offer_detail"})},570494:function(e,t,n){"use strict";n.d(t,{W:()=>a});var r=n(209036),o=n(118589);class i extends r.l{getURL(e){return this.path[0].replace((0,o.D)(),`/${e.region}/${e.org}`)}constructor(){super({path:[`${(0,o.D)()}/account/mfa-enrollment`],page:"mfa_enrollment"})}}let a=new i},413221:function(e,t,n){"use strict";n.d(t,{p:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/debug-tooling"],page:"debug_tooling"})},789977:function(e,t,n){"use strict";n.d(t,{Q:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/mfe-testbed"],page:"mfe_testbed"})},955025:function(e,t,n){"use strict";n.d(t,{I:()=>r});let r=new(n(209036)).l({path:["/migrations"],page:"migrations"})},166582:function(e,t,n){"use strict";n.d(t,{L:()=>s});var r=n(882470),o=n(209036),i=n(118589),a=n(367720);let s=new o.l({path:[(0,i.D)()+"/apps/application/{appName:string}/schema/{schemaName:string}/streamlit/{streamlitName:string}",(0,i.D)()+`/apps/application/{appName:string}/{security:exists}/{securityPaneTab:enum<${(0,r.f)(a.P).join("|")}>}/`,(0,i.D)()+"/apps/application/{appName:string}/{security:exists}",(0,i.D)()+"/apps/application/{appName:string}/{readme:exists}",(0,i.D)()+"/apps/application/{appName:string}/{configuration:exists}",(0,i.D)()+"/apps/application/{appName:string}/{connector:exists}/{connectorTab:string}",(0,i.D)()+"/apps/application/{appName:string}"],page:"native_application_detail"})},927244:function(e,t,n){"use strict";n.d(t,{_:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/apps/{listings:exists}",(0,o.D)()+"/apps/applications"],page:"native_apps_applications"})},488592:function(e,t,n){"use strict";n.d(t,{m:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/apps/packages/{packageId:string}/versions/{versionId:string}",(0,o.D)()+"/apps/packages/{packageId:string}",(0,o.D)()+"/apps/packages"],page:"native_apps_packages"})},367720:function(e,t,n){"use strict";n.d(t,{P:()=>o});var r,o=((r={}).PRIVILEGES="privileges",r.CONNECTIONS="connections",r.TELEMETRY="telemetry",r.COMPUTE="compute",r.README="readme",r.ACCESS_MANAGEMENT="access-management",r.COST_MANAGEMENT="cost-management",r)},38362:function(e,t,n){"use strict";n.d(t,{k:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/notebooks/id/{notebookUniqueId:string}`,`${(0,o.D)()}/notebooks/{entityIdStr:string}`],page:"notebook_detail"})},691625:function(e,t,n){"use strict";n.d(t,{E:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/notebooks`],page:"notebook_list"})},219847:function(e,t,n){"use strict";n.d(t,{b:()=>s});var r=n(882470),o=n(209036),i=n(118589),a=n(150641);let s=new o.l({path:[`${(0,i.D)()}/{view:enum<${(0,r.f)(a.b).join("|")}>}/notification-contacts`,`${(0,i.D)()}/notification-contacts`,"/notification-contacts"],page:"notification_contacts"})},150641:function(e,t,n){"use strict";n.d(t,{b:()=>o});var r,o=((r={}).ORGANIZATION="organization",r.ACCOUNT="account",r)},926441:function(e,t,n){"use strict";n.d(t,{a:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/openflow","/openflow"],page:"openflow"})},16995:function(e,t,n){"use strict";n.d(t,{f:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/partner-connect`],page:"partner_connect"})},580481:function(e,t,n){"use strict";n.d(t,{e:()=>a});var r=n(209036),o=n(118589),i=n(878095);let a=new r.l({path:[`${(0,o.D)()}/compute/history/${i.X.PerformanceExplorer}`],page:"performance_explorer"})},534817:function(e,t,n){"use strict";n.d(t,{I:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/postgres-services/{serviceName:string}",(0,o.D)()+"/postgres-services"],page:"postgres-services"})},170852:function(e,t,n){"use strict";n.d(t,{A:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/{apps:exists}/listing/private/{listingId:string}/",(0,o.D)()+"/data/shared/listing/private/{listingId:string}/"],page:"consumer_private_listing_detail"})},558551:function(e,t,n){"use strict";n.d(t,{t:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/data/manage/admin/{exchangeId:string}/listing/{listingId:string}"],page:"deprecated_admin_listing_detail"})},12062:function(e,t,n){"use strict";n.d(t,{D:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/data/shared/admin/{exchangeId:string}/listing/{listingId:string}"],page:"listing_review"})},756459:function(e,t,n){"use strict";n.d(t,{i:()=>i});var r=n(209036);let o=(0,n(118589).D)()+"/data/shared/manage/{exchangeId:string}",i=new r.l({path:[`${o}/{tab:enum<review-profiles|reviewProfiles|profiles>}/{profileTab:enum<pending|reviewed>}/`,`${o}/{tab:enum<review-listings|reviewListings|member>}/{listingSubtab:string}/`,`${o}/{tab:enum<members|profile>}/{edit:exists}/{editId:string}/`,`${o}/{tab:enum<members|profile>}/{edit:exists}/`,`${o}/{tab:enum<review-listings|review-profiles|reviewListings|reviewProfiles|members|profiles>}/`],page:"manage_exchange"})},160375:function(e,t,n){"use strict";n.d(t,{W:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/data/shared/exchange/{exchangeId:string}/share/{shareName:string}",(0,o.D)()+"/data/shared/share/{shareName:string}"],page:"share_detail"})},542449:function(e,t,n){"use strict";n.d(t,{n:()=>a});var r=n(209036),o=n(118589);class i extends r.l{getDecodedQueryData(e){let{search:t="",sources:n="",status:r="",type:o="",shared:i="",show:a=""}=e;return{search:t,sources:n,shared:i,type:o,show:a,status:r}}constructor(){super({path:[(0,o.D)()+"/data/shared/{tab:enum<requests|manage>}/{requestType:enum<inbound|outbound>}/",(0,o.D)()+"/data/shared/{tab:enum<shared-with-you|outbound|requests|manage-exchanges|reader-accounts>}/{readerAccountName:string}/",(0,o.D)()+"/data/shared/{tab:enum<shared-with-you|outbound|requests|manage-exchanges|reader-accounts>}/{transfer:exists}/{transferredListingTitle:string}/{newOwner:string}",(0,o.D)()+"/data/shared/{tab:enum<shared-with-you|outbound|requests|manage-exchanges|reader-accounts>}/",(0,o.D)()+"/data/shared/"],page:"shared"})}}let a=new i},600842:function(e,t,n){"use strict";n.d(t,{L:()=>i});var r=n(209036);let o=(0,n(118589).D)(),i=new r.l({path:[o+"/data/manage/{exchangeId:string}/{tab:enum<submissions|listings>}/{listingSubtab:string}/{create:exists}/",o+"/data/manage/{exchangeId:string}/{tab:enum<submissions|listings>}/{listingSubtab:string}/{edit:exists}/{editId:string}/",o+"/data/manage/{exchangeId:string}/{tab:enum<submissions|listings>}/{listingSubtab:string}/{edit:exists}/",o+"/data/manage/{exchangeId:string}/{tab:enum<submissions|listings>}/{listingSubtab:string}/{transfer:exists}/{transferredListingTitle:string}/{newOwner:string}",o+"/data/manage/{exchangeId:string}/{tab:enum<submissions|listings>}/{listingSubtab:string}/",o+"/data/manage/{exchangeId:string}/{tab:enum<submissions|listings>}/",o+"/data/manage/{exchangeId:string}/{tab:enum<requests|profiles|profile>}/{edit:exists}/{editId:string}/",o+"/data/manage/{exchangeId:string}/{tab:enum<requests|profiles|profile>}/{edit:exists}/",o+"/data/manage/{exchangeId:string}/{tab:enum<memberprofiles|requests|profiles|profile>}/{profileTab:enum<pending|reviewed>}/",o+"/data/manage/{exchangeId:string}/{tab:enum<memberprofiles|requests|profiles|profile|home|analytics>}/",o+"/data/marketplace/manage/{tab:enum<submissions|listings>}/{listingSubtab:string}/{create:exists}/{paid:exists}/",o+"/data/marketplace/manage/{tab:enum<submissions|listings>}/{listingSubtab:string}/{create:exists}/",o+"/data/marketplace/manage/{tab:enum<submissions|listings>}/{listingSubtab:string}/{edit:exists}/{editId:string}/",o+"/data/marketplace/manage/{tab:enum<submissions|listings>}/{listingSubtab:string}/{edit:exists}/",o+"/data/marketplace/manage/{tab:enum<submissions|listings>}/{listingSubtab:string}/{transfer:exists}/{transferredListingTitle:string}/{newOwner:string}",o+"/data/marketplace/manage/{tab:enum<submissions|listings>}/{listingSubtab:string}/",o+"/data/marketplace/manage/{tab:enum<submissions|listings>}/",o+"/data/marketplace/manage/{tab:enum<requests|profiles|profile>}/{edit:exists}/{editId:string}/",o+"/data/marketplace/manage/{exchangeId:string}/{tab:enum<requests|profiles|profile>}/{edit:exists}/",o+"/data/marketplace/manage/{tab:enum<memberprofiles|requests|profiles|profile>}/{profileTab:enum<pending|reviewed>}/",o+"/data/marketplace/manage/{tab:enum<memberprofiles|requests|profiles|profile|home|analytics>}/"],page:"deprecated_manage"})},773707:function(e,t,n){"use strict";n.d(t,{d:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/data/{exchangeId:string}/listing/{listingId:string}/preview/{card:exists}/{draft:exists}/",(0,o.D)()+"/data/{exchangeId:string}/listing/{listingId:string}/preview/{draft:exists}/",(0,o.D)()+"/data/{exchangeId:string}/listing/{listingId:string}/preview/{card:exists}/",(0,o.D)()+"/data/{exchangeId:string}/listing/{listingId:string}/preview/"],page:"listing_preview"})},412183:function(e,t,n){"use strict";n.d(t,{k:()=>c,s:()=>u});var r=n(882470),o=n(209036),i=n(101230),a=n(648095),s=n(385189);let l=(0,r.f)(a.pY).join("|"),u=new o.l({path:[`/{analyticsSubtab:enum<detailed-metrics>}/{metric:enum<${l}>}/`,"/{analyticsSubtab:enum<consumer360>}/{organizationId:string}/","/{analyticsSubtab:enum<consumer360|leads|overview>}/","/"].map(e=>s.s+"/analytics-ia"+e),page:"provider_analytics"}),c=e=>{var t;return{analyticsSubtab:null!=(t=e.analyticsSubtab)?t:i.U.OVERVIEW,metric:(0,a.P1)(e.metric),organizationId:e.organizationId}}},471099:function(e,t,n){"use strict";n.d(t,{BB:()=>g,C4:()=>l,Sk:()=>c,dt:()=>u});var r=n(867668),o=n(209036),i=n(118589),a=n(655084);let s=(0,i.D)(),l="/data/{navTab:enum<marketplace|provider-studio>}/provider/listing/{listingId:string}",u=[s+l+"/{draft:exists}/{tab:enum<settings|requests>}",s+l+"/{draft:exists}",s+l+"/{tab:enum<settings|requests>}",s+l],c=[s+"/data/{navTab:enum<provider-studio>}/provider/listing/{internal:exists}/{listingId:string}","/#/provider-studio/provider/listing/{internal:exists}/{listingId:string}"];class d extends o.l{getURL(e,t={}){if(e.exchangeId===r.SnowflakePuDxName){let n=[a.Q.marketplace,a.Q.providerStudio],r=e.navTab&&n.includes(e.navTab)?e.navTab:a.Q.marketplace;return super.getURL({...e,exchangeId:void 0,navTab:r},t)}return super.getURL(e,t)}constructor(){super({path:[s+"/data/{navTab:enum<manage|shared>}/provider/{exchangeId:string}/listing/{listingId:string}/{draft:exists}/{tab:enum<settings|requests>}",s+"/data/{navTab:enum<manage|shared>}/provider/{exchangeId:string}/listing/{listingId:string}/{draft:exists}",s+"/data/{navTab:enum<manage|shared>}/provider/{exchangeId:string}/listing/{listingId:string}/{tab:enum<settings|requests>}",s+"/data/{navTab:enum<manage|shared>}/provider/{exchangeId:string}/listing/{listingId:string}",...u,s+"/data/manage/{exchangeId:string}/listing/{listingId:string}/{draft:exists}/{tab:enum<settings|requests>}",s+"/data/manage/{exchangeId:string}/listing/{listingId:string}/{draft:exists}",s+"/data/manage/{exchangeId:string}/listing/{listingId:string}/{tab:enum<settings|requests>}",s+"/data/manage/{exchangeId:string}/listing/{listingId:string}",...c],page:"provider_listing"})}}let g=new d},170675:function(e,t,n){"use strict";n.d(t,{Z:()=>u,i:()=>s});var r,o=n(882470),i=n(209036),a=n(385189),s=((r={}).internal="internal",r.targeted="targeted",r.public="public",r);let l=(0,o.f)(s).join("|"),u=new i.l({path:[`${a.s}/listing-template/{type:enum<${l}>}`],page:"provider_listing_template"})},321324:function(e,t,n){"use strict";n.d(t,{M:()=>a});var r=n(209036);let o=(0,n(118589).D)();class i extends r.l{constructor(){super({path:[o+"/data/provider-studio/provider/profile/internal/{orgProfileId:string}","/#/provider-studio/provider/profile/internal/{orgProfileId:string}"],page:"provider_organization_profile"})}}let a=new i},385189:function(e,t,n){"use strict";n.d(t,{r:()=>f,s:()=>c});var r=n(882470),o=n(209036),i=n(118589),a=n(101230),s=n(939514),l=n(648095);let u=(0,i.D)(),c="/#/provider-studio",d=(0,r.f)(l.jb).join("|"),g=e=>["/{tab:enum<analytics>}/{analyticsSubtab:enum<consumer360>}/{organizationId:string}/","/{tab:enum<analytics>}/{analyticsSubtab:enum<consumer360>}/",`/{tab:enum<analytics>}/{analyticsSubtab:enum<detailed-metrics>}/{metric:enum<${d}>}/`,`/{tab:enum<analytics>}/{metric:enum<${d}>}/`,"/{tab:enum<analytics>}/{analyticsSubtab:enum<overview|leads>}/","/{tab:enum<analytics>}/"].map(t=>`${e}${t}`);class p extends o.l{getURL(e,t){return e.tab===s.I.home&&delete e.tab,super.getURL({...e,exchangeId:void 0,org:void 0,region:void 0},t)}navigate(e,t){let n={...e};return!n.metric||n.tab&&n.analyticsSubtab||(n.tab=s.I.analytics,n.analyticsSubtab=a.U.METRICS),super.navigate(n,t)}constructor(){super({path:[u+"/data/provider-studio/{tab:enum<submissions|listings>}/{listingSubtab:string}/{create:exists}/{paid:exists}",u+"/data/provider-studio/{tab:enum<submissions|listings>}/{listingSubtab:string}/{create:exists}/{private:exists}",u+"/data/provider-studio/{tab:enum<submissions|listings>}/{listingSubtab:string}/{create:exists}/",u+"/data/provider-studio/{tab:enum<submissions|listings>}/{listingSubtab:string}/{edit:exists}/{editId:string}/",u+"/data/provider-studio/{tab:enum<submissions|listings>}/{listingSubtab:string}/{edit:exists}/",u+"/data/provider-studio/{tab:enum<submissions|listings>}/{listingSubtab:string}/{transfer:exists}/{transferredListingTitle:string}/{newOwner:string}",u+"/data/provider-studio/{tab:enum<submissions|listings>}/{listingSubtab:string}/",u+"/data/provider-studio/{tab:enum<submissions|listings>}/",u+"/data/provider-studio/{tab:enum<requests|profile>}/{edit:exists}/{editId:string}/",u+"/data/provider-studio/{tab:enum<memberprofiles|requests|profile>}/{profileTab:enum<pending|reviewed>}/",u+"/data/provider-studio/{tab:enum<memberprofiles|requests|profile>}/",...g(u+"/data/provider-studio"),u+"/data/provider-studio",c+"/{tab:enum<submissions|listings>}/{listingSubtab:string}/{create:exists}/{paid:exists}",c+"/{tab:enum<submissions|listings>}/{listingSubtab:string}/{create:exists}/{private:exists}",c+"/{tab:enum<submissions|listings>}/{listingSubtab:string}/{create:exists}/",c+"/{tab:enum<submissions|listings>}/{listingSubtab:string}/{edit:exists}/{editId:string}/",c+"/{tab:enum<submissions|listings>}/{listingSubtab:string}/{edit:exists}/",c+"/{tab:enum<submissions|listings>}/{listingSubtab:string}/{transfer:exists}/{transferredListingTitle:string}/{newOwner:string}",c+"/{tab:enum<submissions|listings>}/{create:exists}/{private:exists}",c+"/{tab:enum<submissions|listings>}/{create:exists}/",c+"/{tab:enum<submissions|listings>}/{listingSubtab:string}/",c+"/{tab:enum<submissions|listings>}/",c+"/{tab:enum<requests|profiles|profile>}/{edit:exists}/{editId:string}/",c+"/{tab:enum<memberprofiles|requests|profiles|profile>}/{profileTab:enum<pending|reviewed>}/",c+"/{tab:enum<memberprofiles|internal-requests|requests|profiles|profile|learn|settings>}/",...g(c),c+"/{create:exists}/{private:exists}",c+"/{create:exists}",c],page:"provider_studio"})}}let f=new p},186511:function(e,t,n){"use strict";n.d(t,{m:()=>a});var r=n(209036),o=n(118589),i=n(471099);let a=new r.l({path:[(0,o.D)()+i.C4+"/{subNavTab:enum<offers>}/{offerSubTab:enum<private-offers|public-offers>}",(0,o.D)()+i.C4+"/{draft:exists}/{subNavTab:enum<offers>}/{offerSubTab:enum<private-offers|public-offers>}"],page:"offer_management"})},250452:function(e,t,n){"use strict";n.d(t,{h:()=>a});var r=n(209036),o=n(118589),i=n(471099);let a=new r.l({path:[(0,o.D)()+i.C4+"/{subNavTab:enum<orders>}",(0,o.D)()+i.C4+"/{draft:exists}/{subNavTab:enum<orders>}"],page:"order_management"})},122625:function(e,t,n){"use strict";n.d(t,{H:()=>a});var r=n(209036),o=n(118589),i=n(471099);let a=new r.l({path:[(0,o.D)()+i.C4+"/{subNavTab:enum<pricing>}",(0,o.D)()+i.C4+"/{draft:exists}/{subNavTab:enum<pricing>}"],page:"pricing_plan_management"})},961081:function(e,t,n){"use strict";n.d(t,{l:()=>a});var r=n(209036),o=n(118589),i=n(471099);let a=new r.l({path:[(0,o.D)()+i.C4+"/{subNavTab:enum<private-offers>}/{offerName:string}",(0,o.D)()+i.C4+"/{draft:exists}/{subNavTab:enum<private-offers>}/{offerName:string}"],page:"private_offer_detail_preview"})},68237:function(e,t,n){"use strict";n.d(t,{Z:()=>a});var r=n(209036),o=n(118589),i=n(471099);let a=new r.l({path:[(0,o.D)()+i.C4+"/{subNavTab:enum<private-offers>}",(0,o.D)()+i.C4+"/{draft:exists}/{subNavTab:enum<private-offers>}"],page:"private_offer_management"})},101230:function(e,t,n){"use strict";n.d(t,{U:()=>o});var r,o=((r={}).CONSUMER_360="consumer360",r.HOME="home",r.LEADS="leads",r.METRICS="detailed-metrics",r.OVERVIEW="overview",r)},939514:function(e,t,n){"use strict";n.d(t,{I:()=>o});var r,o=((r={}).listings="listings",r.requests="requests",r.internalRequests="internal-requests",r.profiles="profiles",r.providerProfile="profile",r.learn="learn",r.submissions="submissions",r.memberprofiles="memberprofiles",r.analytics="analytics",r.home="home",r.settings="settings",r)},648095:function(e,t,n){"use strict";n.d(t,{P1:()=>s,jb:()=>i,pY:()=>a});var r,o,i=((r={}).activeConsumers="active-consumers",r.consumerRequests="consumer-requests",r.conversionRate="conversion-rate",r.listingsInstalled="listings-installed",r.listingViews="listing-views",r.queriesExecuted="queries-executed",r),a=((o={}).activeConsumers="active-consumers",o.consumerRequests="consumer-requests",o.listingsInstalled="listings-installed",o.listingViews="listing-views",o.queriesExecuted="queries-executed",o);let s=e=>{switch(e){case"active-consumers":return"active-consumers";case"consumer-requests":return"consumer-requests";case"listings-installed":return"listings-installed";case"listing-views":return"listing-views";case"queries-executed":return"queries-executed";default:return}}},655084:function(e,t,n){"use strict";n.d(t,{B:()=>i,Q:()=>a});var r,o,i=((r={}).settings="settings",r.requests="requests",r),a=((o={}).manage="manage",o.shared="shared",o.marketplace="marketplace",o.providerStudio="provider-studio",o)},397035:function(e,t,n){"use strict";n.d(t,{U:()=>a});var r=n(209036),o=n(118589),i=n(317167);let a=new r.l({path:[(0,o.D)()+`/compute/history/${i.d.GROUPED_QUERIES}/{queryHash:string}`],page:"grouped_query_history_detail"})},924022:function(e,t,n){"use strict";n.d(t,{S:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/compute/history/queries/{queryId:string}/detail",(0,o.D)()+"/compute/query-history/{queryId:string}/detail"],page:"query_history_detail"})},40088:function(e,t,n){"use strict";n.d(t,{p:()=>u});var r=n(882470),o=n(209036),i=n(118589),a=n(878095),s=n(317167);let l=(0,i.D)(),u=new o.l({path:[`${l}/compute/history/{tab:enum<${(0,r.f)(s.d).join("|")}>}`,`${l}/compute/history/${a.X.QueryHistory}`,`${l}/compute/history`,l+"/compute",`${l}/compute/query-history`,`${l}/compute/queryhistory`],page:"query_history_list"})},772904:function(e,t,n){"use strict";n.d(t,{b:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/compute/history/queries/{queryId:string}/profile",(0,o.D)()+"/compute/history/queries/{queryId:string}",(0,o.D)()+"/compute/query-history/{queryId:string}/profile",(0,o.D)()+"/compute/query-history/{queryId:string}"],page:"query_history_profile"})},56992:function(e,t,n){"use strict";n.d(t,{e:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/compute/history/queries/{queryId:string}/telemetry"],page:"query_history_telemetry"})},878095:function(e,t,n){"use strict";n.d(t,{X:()=>o});var r,o=((r={}).CopyHistory="copies",r.QueryHistory="queries",r.TaskHistory="tasks",r.DbtHistory="dbt",r.TaskGraphs="task-graphs",r.DynamicTables="dynamic-tables",r.Logs="logs",r.Telemetry="telemetry",r.PerformanceExplorer="performance-explorer",r)},317167:function(e,t,n){"use strict";n.d(t,{d:()=>o});var r,o=((r={}).GROUPED_QUERIES="grouped-queries",r.INDIVIDUAL_QUERIES="queries",r)},160194:function(e,t,n){"use strict";n.d(t,{I:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/compute/resource-monitors/{entityName:string}",(0,o.D)()+"/compute/resourcemonitors/{entityName:string}"],page:"resource_monitor_detail"})},198071:function(e,t,n){"use strict";n.d(t,{I:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/compute/resource-monitors",(0,o.D)()+"/compute/resourcemonitors"],page:"resource_monitor_list"})},721370:function(e,t,n){"use strict";n.d(t,{I:()=>r});let r=new(n(209036)).l({path:["/resources/labs/{labId:string}"],page:"resources"})},515127:function(e,t,n){"use strict";n.d(t,{G:()=>s});var r=n(882470),o=n(209036),i=n(118589),a=n(672399);let s=new o.l({path:[(0,i.D)()+`/account/role/{role:string}/{detailViewAnchor:enum<${(0,r.f)(a.K).join("|")}>}`,(0,i.D)()+"/account/role/{role:string}"],page:"role_detail"})},685286:function(e,t,n){"use strict";n.d(t,{a:()=>s});var r=n(882470),o=n(209036),i=n(118589),a=n(584073);let s=new o.l({path:[(0,i.D)()+`/account/roles/{mode:enum<${(0,r.f)(a.y).join("|")}>}`,(0,i.D)()+"/account/roles"],page:"roles"})},672399:function(e,t,n){"use strict";n.d(t,{K:()=>o});var r,o=((r={}).granted_roles="granted_roles",r.granted_to_roles="granted_to_roles",r.granted_to_users="granted_to_users",r)},584073:function(e,t,n){"use strict";n.d(t,{y:()=>o});var r,o=((r={}).Graph="graph",r.Table="table",r)},452124:function(e,t,n){"use strict";n.d(t,{M:()=>a});var r=n(209036),o=n(118589),i=n(747566);let a=new r.l({path:[`${(0,o.D)()}${i.V.default}`,`${(0,o.D)()}${i.V.deprecated}`],page:"search"})},747566:function(e,t,n){"use strict";n.d(t,{V:()=>r});let r={deprecated:"/universal-search",default:"/search"}},12980:function(e,t,n){"use strict";n.d(t,{u:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/account/security/network-policies",(0,o.D)()+"/account/security"],page:"network_policies"})},231465:function(e,t,n){"use strict";n.d(t,{s:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/account/security/network-rules"],page:"network_rules"})},507146:function(e,t,n){"use strict";n.d(t,{N:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/account/security/sessions"],page:"sessions"})},139350:function(e,t,n){"use strict";n.d(t,{I:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/account/settings"],page:"sharing_settings"})},158095:function(e,t,n){"use strict";n.d(t,{x:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/streamlit-apps/{entityIdStr:string}/{mode:enum<edit>}/!/{page:string}`,`${(0,o.D)()}/streamlit-apps/{entityIdStr:string}/{mode:enum<edit>}`,`${(0,o.D)()}/streamlit-apps/{entityIdStr:string}/!/{page:string}`,`${(0,o.D)()}/streamlit-apps/{entityIdStr:string}`],page:"streamlit_editor"})},122889:function(e,t,n){"use strict";n.d(t,{r:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/streamlit-apps`],page:"streamlit_list"})},298315:function(e,t,n){"use strict";n.d(t,{k:()=>s});var r=n(867668),o=n(882470),i=n(209036),a=n(118589);let s=new i.l({path:[(0,a.D)()+`/data/stripe-redirect/{type:enum<${(0,o.f)(r.PaymentUrlType).join("|")}|onboarding>}`,`/stripe-redirect/{type:enum<${(0,o.f)(r.PaymentUrlType).join("|")}|onboarding>}`],page:"stripe_redirect"})},867273:function(e,t,n){"use strict";n.d(t,{P:()=>r});let r=new(n(209036)).l({path:["/support/#/new-case"],page:"support_case_form"})},188671:function(e,t,n){"use strict";n.d(t,{Bm:()=>d,LQ:()=>u,tQ:()=>l});var r,o=n(882470),i=n(209036),a=n(691592),s=n(118589),l=((r={}).CASE_DETAILS="case",r);let u=new i.l({path:[(0,s.D)()+`/support/{view:enum<${(0,o.f)(l).join("|")}>}/{caseNumber:string}`,(0,s.D)()+"/support",`/support/{view:enum<${(0,o.f)(l).join("|")}>}/{caseNumber:string}`,"/support"],page:"support"}),c=()=>(0,a.$)(u.getPath()),d=()=>{let{caseNumber:e}=c();if(!e)throw Error("Must be used in the scope of support/case/{caseNumber} path");return e}},402885:function(e,t,n){"use strict";n.d(t,{Y:()=>a});var r=n(209036),o=n(118589),i=n(878095);let a=new r.l({path:[`${(0,o.D)()}/compute/history/${i.X.TaskHistory}`],page:"task_history"})},500809:function(e,t,n){"use strict";n.d(t,{u:()=>a});var r=n(209036),o=n(118589),i=n(878095);let a=new r.l({path:[`${(0,o.D)()}/compute/history/${i.X.Telemetry}/traces/traceId/{traceId:string}/detail`,`${(0,o.D)()}/compute/history/${i.X.Telemetry}/traces/queryId/{queryId:string}/detail`],page:"trace_detail"})},523577:function(e,t,n){"use strict";n.d(t,{F:()=>a});var r=n(209036),o=n(118589),i=n(878095);let a=new r.l({path:[`${(0,o.D)()}/compute/history/${i.X.Telemetry}/traces`,`${(0,o.D)()}/compute/history/${i.X.Telemetry}`],page:"telemetry"})},395870:function(e,t,n){"use strict";n.d(t,{$:()=>a});var r=n(209036),o=n(118589),i=n(878095);let a=new r.l({path:[`${(0,o.D)()}/compute/history/${i.X.Telemetry}/traces/object/{database:string}/{schema:string}/{objectId:string}`],page:"trace_object"})},871131:function(e,t,n){"use strict";n.d(t,{F:()=>m});var r=n(882470),o=n(209036),i=n(118589),a=n(205401),s=n(112732);let l=`${(0,i.D)()}/trust-center/{mode:enum<${s.i.SCANNER_PACKAGES}>}/{scannerPackageId:string}/{scannerPackagesTab:enum<${a.K.SCANNERS}>}/{scannerId:string}`,u=`${(0,i.D)()}/trust-center/{mode:enum<${s.i.SCANNER_PACKAGES}>}/{scannerPackageId:string}/{scannerPackagesTab:enum<${(0,r.f)(a.K).join("|")}>}`,c=`${(0,i.D)()}/trust-center/{mode:enum<${s.i.VIOLATIONS}>}/{eventId:string}`,d=`${(0,i.D)()}/trust-center/{mode:enum<${s.i.VIOLATIONS}>}/account/{account:string}`,g=`${(0,i.D)()}/trust-center/{mode:enum<${s.i.VIOLATIONS}>}/account/{account:string}/{eventId:string}`,p=`${(0,i.D)()}/trust-center/{mode:enum<${(0,r.f)(s.i).join("|")}>}`,f=`${(0,i.D)()}/trust-center`,m=new o.l({path:[l,u,g,c,d,p,f],page:"trust_center"})},205401:function(e,t,n){"use strict";n.d(t,{K:()=>o});var r,o=((r={}).SCANNERS="scanners",r.SETTINGS="settings",r)},112732:function(e,t,n){"use strict";n.d(t,{i:()=>o});var r,o=((r={}).VIOLATIONS="violations",r.SCANNER_PACKAGES="scanner-packages",r.ORGANIZATION="organization",r.ANOMALIES="anomalies",r)},368252:function(e,t,n){"use strict";n.d(t,{Q:()=>i});var r=n(209036);class o extends r.l{getURL(e,t){return super.getURL({...e,org:void 0,region:void 0},t)}constructor(){super({path:["/templates"],page:"templates"})}}let i=new o},27595:function(e,t,n){"use strict";n.d(t,{S:()=>s});var r=n(882470),o=n(209036),i=n(118589),a=n(672399);let s=new o.l({path:[(0,i.D)()+`/account/users/{userName:string}/{detailViewAnchor:enum<${(0,r.f)(a.K).join("|")}>}`,(0,i.D)()+"/account/users/{userName:string}"],page:"user_detail"})},322944:function(e,t,n){"use strict";n.d(t,{E:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/account/users"],page:"users_list"})},701374:function(e,t,n){"use strict";n.d(t,{l:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/compute/warehouses/{entityName:string}"],page:"warehouse_detail"})},640144:function(e,t,n){"use strict";n.d(t,{L:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[(0,o.D)()+"/compute/warehouses"],page:"warehouse_list"})},508404:function(e,t,n){"use strict";n.d(t,{q:()=>i});var r=n(209036),o=n(118589);let i=new r.l({path:[`${(0,o.D)()}/workspaces/*`],page:"workspaces"})},411089:function(e,t,n){"use strict";function r(e,t){let n;n=t instanceof URLSearchParams?Array.from(t.entries()):Object.entries(t);let r=e;if(n.length>0){let t=n.map(([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`).join("&");r=`${e}?${t}`}return r}n.d(t,{a:()=>r})},362523:function(e,t,n){"use strict";n.d(t,{s:()=>o});var r=n(87656);function o(e){return r.stringify(Object.fromEntries(e.entries()))}},691592:function(e,t,n){"use strict";n.d(t,{$:()=>a});var r=n(916193),o=n(709088),i=n(293059);function a(e,t=r.lm.location.pathname){let n=(0,i.N)(t),s=(0,o.Yt)(e,n);if("string"==typeof s)throw Error(s);return s}},709088:function(e,t,n){"use strict";n.d(t,{Mp:()=>l,Yt:()=>s});var r=n(600565),o=n.n(r),i=n(581438);function a(e,t){let n=[].concat(e);for(n=n.map(e=>(0,i.Q)(e)),t=(0,i.Q)(t);n.length;){let e=t.split("/").filter(e=>e.length),r=n.shift(),i=r||"",a=r.replace(/^\//,"").replace(/\/$/,"").split("/").filter(e=>e.length);if("*"!==a.at(-1)&&e.length!==a.length)continue;let s={},l=!1;for(;a.length;){let t=e.shift(),n=a.shift();if(n.startsWith("{")){let e=n.slice(1,-1),r=e.split(":");switch(r[1].replace(/<[^>]*>/,"")){case"number":s[r[0]]=+t;break;case"string":s[r[0]]=decodeURIComponent(t);break;case"exists":t===r[0]?s[r[0]]=!0:l=!0;break;case"enum":let a=r[1].match(/enum<([^>]+)>/);if(null==a?void 0:a[1].match(RegExp(`(^|\\|)${o()(t)}(\\||$)`))){s[r[0]]=t;let e=RegExp(`/{${String(r[0])}:enum<([^\\|}]+(?:\\|[^\\|}]+)+)>}(?:/|$)`);(null==i?void 0:i.match(e))&&(i=i.replace(e,`/${encodeURIComponent(o()(t))}/`))}else l=!0;break;default:let u=this.constructor.name;return{data:`Unknown data typing of "{${e}}" in ${u}.`,path:""}}}else if(t===n)continue;else if(n&&"*"!==n||0!==a.length){l=!0;break}else break}if(!l)return{data:s,path:i}}return{data:`There was a path mismatch for the URL at "${t}"`,path:""}}function s(e,t){return a(e,t).data}function l(e,t){return a(e,t).path}},118589:function(e,t,n){"use strict";function r(){return"/{region:string}/{org:string}"}n.d(t,{D:()=>r})},949593:function(e,t,n){"use strict";function r(){return"/{region:string}/{org:string}/#"}n.d(t,{U:()=>r})},105058:function(e,t,n){"use strict";function r(e){let{pathname:t,search:n,hash:r}=e;return`${t}${n}${r}`}n.d(t,{q:()=>r})},974053:function(e,t,n){"use strict";n.d(t,{s:()=>o});var r=n(916193);function o(e=r.lm.location.search){return new URLSearchParams(decodeURI(e))}},792473:function(e,t,n){"use strict";n.d(t,{m:()=>a});var r=n(411089),o=n(118589),i=n(949593);function a(e,t={},n={},s=!1){let l=[].concat(e),u="";for(l=l.map(e=>e.includes((0,o.D)())?e.replace((0,o.D)(),(0,i.U)()):e);l.length;){let e=!1,o=`/${l.shift().replace(/^\//,"")}`;for(let n in t){let r=t[n];if(null==r)continue;let i=RegExp(`/{${n}:string}(?:/|$)`),a=RegExp(`/{${n}:exists}(?:/|$)`),s=RegExp(`/{${n}:enum<([^\\|}]+(?:\\|[^\\|}]+)*)>}(?:/|$)`);if(o.match(i))o=o.replace(i,`/${encodeURIComponent(r)}/`);else if(o.match(a))o=o.replace(a,`/${encodeURIComponent(n)}/`);else if(o.match(s)&&o.match(s)[1].split("|").includes(r))o=o.replace(s,`/${encodeURIComponent(r)}/`);else{e=!0;break}}if(!o.match(/{/)){o=o.replace(/\/$/,"");let t=(0,r.a)(o,n);if(!e)return t.replace(/%25/g,"%2525");u=u||t;break}}if(u){let e=`Left over data when building URL "${u}". Supplied data: ${JSON.stringify(t)}`;if(s)throw Error(e);return console.error(e),encodeURI(u)}throw Error(`Invalid data supplied to "${e}". Supplied data: ${JSON.stringify(t)}`)}},404908:function(e,t,n){"use strict";n.d(t,{H:()=>l});var r=n(867668),o=n(108471),i=n(916193);let a=["/:region/:org/data/marketplace","/marketplace","/:region/:org/data/provider-studio","/provider-studio","/:region/:org/data/shared/listing","/:region/:org/apps/listing"],s=["/:region/:org/data/manage/admin/:id?","/:region/:org/data/manage/provider/:id?","/:region/:org/data/manage/:id?","/:region/:org/data/shared/manage/:id?","/:region/:org/data/shared/provider/:id?","/:region/:org/data/shared/:id?","/:region/:org/admin/exchange/:id?","/:region/:org/data/","/:region/:org//"],l=()=>{var e;if(a.some(e=>(0,o.LX)({path:e,end:!1},i.lm.location.pathname)))return r.SnowflakePuDxName;let t=s.reduce((e,t)=>{var n;return(null==e||null==(n=e.params)?void 0:n.id)?e:(0,o.LX)({path:t,end:!1},i.lm.location.pathname)},null);return(null==t||null==(e=t.params)?void 0:e.id)&&decodeURI(t.params.id)}},19657:function(e,t,n){"use strict";n.d(t,{gJ:()=>s,p3:()=>u,uV:()=>l});var r=n(464881),o=n(362523),i=n(105058);let a="/_deeplink";function s(e){return e.pathname===a||e.pathname.startsWith(`${a}/`)}function l(e){return a+e}function u(e,t,n){let l=new URL(e,window.location.origin);if(!s(l))throw Error("provided url is not a deeplink");if(l.pathname=l.pathname.slice(a.length),r.V.some(e=>l.pathname===`/${e}`||l.pathname.startsWith(`/${e}/`))||(l.pathname=`/${t}/${n}`+l.pathname),l.hash){let e=new URLSearchParams({from_deeplink:"true"});[...l.searchParams].forEach(([t,n])=>{t.startsWith("utm_")&&(l.searchParams.delete(t),e.set(t,n))}),function(e,t){if(!e.hash||0===t.size)return;let n=new URL(e.hash.slice(1),window.location.origin);t.forEach((e,t)=>{n.searchParams.set(t,e)}),e.hash=`${n.pathname}?${(0,o.s)(n.searchParams)}`}(l,e)}else l.searchParams.set("from_deeplink","true");return(0,i.q)(l)}},581438:function(e,t,n){"use strict";function r(e){return e.includes("/#/")?e.replace("/#/","/"):e}n.d(t,{Q:()=>r})},293059:function(e,t,n){"use strict";n.d(t,{N:()=>s});let r={" ":"%20","%":"%25","^":"%5E","[":"%5B","]":"%5D","{":"%7B","}":"%7D","<":"%3C",">":"%3E",'"':"%22","\\":"%5C","|":"%7C","`":"%60","　":"%E3%80%80","\xa0":"%C2%A0"},o=["%E3%80%80","%C2%A0"],i=RegExp(`(${o.join("|")})`,"ug");function a(e){return r[e]}function s(e){return o.some(t=>e.includes(t))?e.split(i).map(e=>o.includes(e)?e:l(e)).join(""):l(e)}function l(e){return e.replace(/(\s|\^|\[|\]|\{|\}|<|>|"|\\|\||`|　|(%(?!(20|22|23|24|25|26|2C|2B|2F|3A|3B|3C|3D|3E|3F|40|5B|5C|5D|5E|60|7B|7C|7D))))/g,a)}},800840:function(e,t,n){"use strict";n.d(t,{V1:()=>h,fo:()=>v});var r=n(78633),o=n(947272),i=n(819260),a=n(288060),s=n.n(a),l=n(847345),u=n(988554),c=n(563626),d=n(724097),g=n(827755),p=n(362772),f=n(91559),m=n(940936),E=n(134445);let h=l.createContext(void 0);function v(e,t={}){let{secondaryRoles:n,sessionContext:r}=t,i=(0,l.useContext)(h),a=(0,l.useContext)(o.BQ),s=(0,u.j)(),d=(0,l.useContext)(E.L),g=null==d?void 0:d.user,p=e||(null==g?void 0:g.currentRole())||(0,c.d)(null==g?void 0:g.currentUser),f=null!=n?n:s.secondaryRoles,[,m]=(0,l.useState)(0),_={};return(0,l.useEffect)(()=>{let e=Object.values(_).map(e=>e(()=>{m(e=>e+1)}));return()=>{for(let t of e)t()}}),new S(p,f,i,_,a,r)}class S{async create(e,t,n){return this.securableStore.create(this.role,e,t,{profiler:this.profiler,sessionContext:this.sessionContext,secondaryRoles:this.secondaryRoles,...n})}async clone(e,t,n,r){return this.securableStore.clone(this.role,e,t,n,{profiler:this.profiler,sessionContext:this.sessionContext,secondaryRoles:this.secondaryRoles,...r})}async alter(e,t,n){return this.securableStore.alter(this.role,e,t,{profiler:this.profiler,sessionContext:this.sessionContext,secondaryRoles:this.secondaryRoles,...n})}async drop(e,t){return this.securableStore.drop(this.role,e,{profiler:this.profiler,sessionContext:this.sessionContext,secondaryRoles:this.secondaryRoles,...t})}async undrop(e,t){return this.securableStore.undrop(this.role,e,{profiler:this.profiler,sessionContext:this.sessionContext,secondaryRoles:this.secondaryRoles,...t})}useList(e,t,n,o){let i=this.useListSkippable(e,t,n,o),a=(0,r.N)({profiler:this.profiler,...o}),s=(0,r.N)(n),u=this.role,c=l.useCallback(()=>this.securableStore.list(u,e,t,s,{...a,sessionContext:this.sessionContext,secondaryRoles:this.secondaryRoles,forceRefresh:!0}),[u,t,s,e,a]);if(void 0===i)throw Error("skipped somehow");return[i,c]}useListSkippable(e,t,n,r){let o=this.useListSkippableNoThrowAux(e,t,n,r);if(o){if((0,m.M)(o.value))throw(0,g.d)(o);if((0,f.D)(o.value))throw o.value.error;return o.value}}useListSkippableNoThrowAux(e,t,n,o){let[,i]=(0,l.useState)(null),a=(0,r.N)({profiler:this.profiler,sessionContext:this.sessionContext,secondaryRoles:this.secondaryRoles,...o}),s=this.role;if((0,l.useEffect)(()=>{if(null==a||!a.skipFetch)return this.securableStore.list(s,e,t,n,a).register(i)},[s,e,t,n,a]),null==a||!a.skipFetch)return this.securableStore.list(s,e,t,n,a)}useListSkippableNoThrow(e,t,n,r){var o;return null==(o=this.useListSkippableNoThrowAux(e,t,n,r))?void 0:o.value}useGet(e,t,n){let r=this.useGetSkippable(e,t,n);if(void 0===r)throw Error("skipped somehow");return r}useGetMulti(e,t,n){let o=t instanceof Array?t:[t],i=o.map(t=>this.useGet(e,t,n)),a=(0,l.useMemo)(()=>Object.assign({},...s()(i,["lastLoadTime"]).map(e=>e.result)),i),u=Object.fromEntries(i.map((e,t)=>[o[t],e])),c=(0,r.N)(n),d=this.role;return{merged:a,bylevel:u,refresh:l.useCallback(t=>this.securableStore.get(d,e,t,{profiler:this.profiler,...c,sessionContext:this.sessionContext,secondaryRoles:this.secondaryRoles,forceRefresh:!0}),[d,e,c])}}useGetSkippableNoThrowAux(e,t,n){let[,o]=(0,l.useState)({result:void 0,loadState:p.p.loading});n=(0,r.N)({profiler:this.profiler,sessionContext:this.sessionContext,secondaryRoles:this.secondaryRoles,...n});let i=this.role;if((0,l.useEffect)(()=>{if(null==n?void 0:n.skipFetch)return;let r=this.securableStore.get(i,e,t,n);return o(r.value),r.register(o)},[i,e,t,n]),null==n||!n.skipFetch)return this.securableStore.get(i,e,t,n)}useGetSkippableNoThrow(e,t,n){var r;return null==(r=this.useGetSkippableNoThrowAux(e,t,n))?void 0:r.value}useGetSkippable(e,t,n){let r=this.useGetSkippableNoThrowAux(e,t,n);if(r){if((0,m.M)(r.value))throw(0,d.c)(r);if((0,f.D)(r.value))throw r.value.error;return r.value}}get(e,t,n){var r;let o=null!=(r=null==n?void 0:n.role)?r:this.role,i=this.securableStore.get(o,e,t,{profiler:this.profiler,...n,sessionContext:this.sessionContext,secondaryRoles:this.secondaryRoles});return this.registersMap[i.updatingKey]=i.register,i.value}listIds(e,t,n,r){var o;let i=null!=(o=null==r?void 0:r.role)?o:this.role,a=this.securableStore.list(i,e,t,n,{profiler:this.profiler,...r,sessionContext:this.sessionContext,secondaryRoles:this.secondaryRoles});return this.registersMap[a.updatingKey]=a.register,a.value}useRefreshGet(e,t,n){let o=(0,r.N)(n),i=(0,r.N)(e);return l.useCallback(()=>this.securableStore.get(this.role,i,t,{profiler:this.profiler,...o,sessionContext:this.sessionContext,secondaryRoles:this.secondaryRoles,forceRefresh:!0}),[i,t,o])}useHydratedList(e,t,n,o){let[i,a]=this.useHydratedListSkippable(e,t,n,o),s=(0,r.N)({profiler:this.profiler,...o}),u=(0,r.N)(n),c=this.role,d=l.useCallback(()=>this.securableStore.list(c,e,t,u,{...s,sessionContext:this.sessionContext,secondaryRoles:this.secondaryRoles,forceRefresh:!0}),[c,t,u,e,s]);if(void 0===i||void 0===a)throw Error("skipped somehow");return[i,a,d]}useHydratedListNoThrow(e,t,n,o){let a=this.useListSkippableNoThrow(e,t,n,o),s=(0,r.N)({profiler:this.profiler,...o}),u=(0,r.N)(n),c=null==o?void 0:o.requestContext,d=this.role,g=(0,r.N)(this.sessionContext),p=l.useCallback(()=>this.securableStore.list(d,e,t,u,{...s,sessionContext:g,forceRefresh:!0}),[d,e,t,u,s,g]);return[(0,l.useMemo)(()=>{var e;return null==a||null==(e=a.result)?void 0:e.map(e=>{var n;return this.securableStore.get(this.role,e,t,{profiler:this.profiler,ttlMs:Number.MAX_SAFE_INTEGER,requestContext:c,sessionContext:this.sessionContext,secondaryRoles:null!=(n=null==o?void 0:o.secondaryRoles)?n:this.secondaryRoles}).value},this.profiler).map(e=>((0,f.D)(e)&&i.log.error(e.error),e.result)).filter(e=>void 0!==e)},[a,t,c,null==o?void 0:o.secondaryRoles]),a,p]}useHydratedListSkippable(e,t,n,o){let i=this.useListSkippable(e,t,n,o),a=(0,r.N)(null==o?void 0:o.requestContext),s=null==i?void 0:i.result;return[(0,l.useMemo)(()=>null==s?void 0:s.map(e=>{var n;return this.securableStore.get(this.role,e,t,{profiler:this.profiler,ttlMs:Number.MAX_SAFE_INTEGER,requestContext:a,sessionContext:this.sessionContext,secondaryRoles:null!=(n=null==o?void 0:o.secondaryRoles)?n:this.secondaryRoles}).value.result},this.profiler),[s,t,a,null==o?void 0:o.secondaryRoles]),i]}grant(e,t){return this.securableStore.grant(this.role,e,{profiler:this.profiler,sessionContext:this.sessionContext,secondaryRoles:this.secondaryRoles,...t})}useIsRefreshing(e){let[t,n]=(0,l.useState)(!1),[r,o]=(0,l.useState)(e);return(0,l.useEffect)(()=>{if(!r)return;let e=this.securableStore.areRefreshesWithIDPending(r);return n(e.value||!0),e.register(e=>{n(e),o(void 0)})},[r]),[t,r,o]}constructor(e,t,n,r,o,i){this.role=e,this.secondaryRoles=t,this.securableStore=n,this.registersMap=r,this.profiler=o,this.sessionContext=i}}},724097:function(e,t,n){"use strict";n.d(t,{c:()=>i});var r=n(872083),o=n(91559);function i(e){return new Promise((t,n)=>{let i=e.register(e=>{(0,o.D)(e)?(i(),n(e.error)):(0,r.j)(e)&&(i(),t(e))})})}},827755:function(e,t,n){"use strict";n.d(t,{d:()=>i});var r=n(91559),o=n(514209);function i(e){return new Promise((t,n)=>{let i=e.register(e=>{(0,r.D)(e)?(i(),n(e.error)):(0,o.g)(e)&&(i(),t(e))})})}},117194:function(e,t,n){"use strict";n.d(t,{r:()=>i});var r=n(940936),o=n(426384);function i(e,t){return new Promise(n=>{if((0,o.O)(e.value)||(0,r.M)(e.value)){let i=e.register(e=>{(0,o.O)(e)||(0,r.M)(e)||(t||i(),n(e))})}else n(e.value)})}},545163:function(e,t,n){"use strict";n.d(t,{W:()=>o});var r=n(940936);function o(e){return new Promise(t=>{if((0,r.M)(e.value)){let n=e.register(e=>{(0,r.M)(e)||(n(),t(e))})}else t(e.value)})}},393204:function(e,t,n){"use strict";n.d(t,{h:()=>s});var r=n(852043),o=n(159771),i=n(36534),a=n(264602);let s=({id:e,alterProps:t,descPrefix:n})=>{let{version:s,pathToVersionDirectory:l,label:u}=t;return{alterSqlQuery:new r.L().add("ALTER APPLICATION PACKAGE IDENTIFIER(?) ADD PATCH FOR VERSION {} USING {} LABEL = {}",(0,o.M)(e),(0,a.t)(s),(0,i.i)(l),(0,i.i)(null!=u?u:"")).toQuery(),desc:`${n}-create-new-patch`}}},720797:function(e,t,n){"use strict";n.d(t,{S:()=>s});var r=n(852043),o=n(159771),i=n(36534),a=n(264602);let s=({id:e,alterProps:t,descPrefix:n})=>{let{version:s,pathToVersionDirectory:l,label:u,releaseChannel:c}=t,d=new r.L;return d.add("ALTER APPLICATION PACKAGE {}",(0,o.M)(e)),c?d.add("MODIFY RELEASE CHANNEL {} ADD VERSION {}",(0,a.t)(c),(0,a.t)(s)):d.add("ADD VERSION {} USING {} LABEL = {}",(0,a.t)(s),(0,i.i)(l),(0,i.i)(null!=u?u:"")),{alterSqlQuery:d.toQuery(),desc:c?`${n}-add-version-to-release-channel`:`${n}-add-version`}}},610651:function(e,t,n){"use strict";n.d(t,{W:()=>a});var r=n(852043),o=n(159771),i=n(264602);let a=({id:e,alterProps:t,descPrefix:n})=>{let{version:a}=t;return{alterSqlQuery:new r.L().add("ALTER APPLICATION PACKAGE {} DEREGISTER VERSION {}",(0,o.M)(e),(0,i.t)(a)).toQuery(),desc:`${n}-deregister-version`}}},887220:function(e,t,n){"use strict";n.d(t,{M:()=>a});var r=n(852043),o=n(159771),i=n(264602);let a=({id:e,alterProps:t,descPrefix:n})=>{let{version:a}=t;return{alterSqlQuery:new r.L().add("ALTER APPLICATION PACKAGE {} DROP VERSION {}",(0,o.M)(e),(0,i.t)(a)).toQuery(),desc:`${n}-drop-version`}}},719599:function(e,t,n){"use strict";n.d(t,{T:()=>s});var r=n(852043),o=n(159771),i=n(36534),a=n(113939);let s=({id:e,alterProps:t,descPrefix:n})=>{let{comment:s,distribution:l}=t,u=new r.L;return u.add("ALTER APPLICATION PACKAGE {} SET COMMENT = {} DISTRIBUTION = {}; ",(0,o.M)(e),(0,i.i)(s),(0,a.V)(l)),{alterSqlQuery:u.toQuery(),desc:`${n}-edit`}}},504651:function(e,t,n){"use strict";n.d(t,{g:()=>E});var r=n(523311),o=n(393204),i=n(720797),a=n(610651),s=n(887220),l=n(719599),u=n(160443),c=n(377570),d=n(19936),g=n(465301),p=n(796641),f=n(153171);let m={[r.Q.EDIT_APP_PACKAGE]:l.T,[r.Q.RENAME_APP_PACKAGE]:d.t,[r.Q.ADD_VERSION]:i.S,[r.Q.ADD_PATCH_TO_VERSION]:o.h,[r.Q.DROP_VERSION]:s.M,[r.Q.SET_DEFAULT_RELEASE_DIRECTIVE]:g.v,[r.Q.SET_RELEASE_DIRECTIVE]:p.P,[r.Q.UNSET_RELEASE_DIRECTIVE]:f.q,[r.Q.MODIFY_RELEASE_DIRECTIVE]:u.r,[r.Q.REGISTER_VERSION]:c.a,[r.Q.DEREGISTER_VERSION]:a.W},E=e=>{let{alterSqlQuery:t,desc:n,newName:r}=(0,m[e.alterProps.alterType])(e);return{alters:[{...t,desc:n}],newName:null!=r?r:""}}},158345:function(e,t,n){"use strict";n.d(t,{g:()=>r.g});var r=n(504651)},160443:function(e,t,n){"use strict";n.d(t,{r:()=>s});var r=n(852043),o=n(159771),i=n(144237),a=n(264602);let s=({id:e,alterProps:t,descPrefix:n})=>{let{directiveName:s,version:l,patch:u,releaseChannel:c}=t,d=new r.L;return d.add("ALTER APPLICATION PACKAGE {}",(0,o.M)(e)),c&&d.add("MODIFY RELEASE CHANNEL {}",(0,a.t)(c)),d.add("MODIFY RELEASE DIRECTIVE {} VERSION = {} PATCH = {}",(0,a.t)(s),(0,a.t)(l),(0,i._)(u)),{alterSqlQuery:d.toQuery(),desc:c?`${n}-modify-release-directive-for-release-channel`:`${n}-modify-release-directive`}}},377570:function(e,t,n){"use strict";n.d(t,{a:()=>s});var r=n(852043),o=n(159771),i=n(36534),a=n(264602);let s=({id:e,alterProps:t,descPrefix:n})=>{let{version:s,pathToVersionDirectory:l,label:u}=t;return{alterSqlQuery:new r.L().add("ALTER APPLICATION PACKAGE {} REGISTER VERSION {} USING {} LABEL = {}",(0,o.M)(e),(0,a.t)(s),(0,i.i)(l),(0,i.i)(null!=u?u:"")).toQuery(),desc:`${n}-register-version`}}},19936:function(e,t,n){"use strict";n.d(t,{t:()=>a});var r=n(420174),o=n(852043),i=n(159771);let a=({id:e,alterProps:t,descPrefix:n})=>{let{name:a}=t,s=new o.L;return s.add("ALTER APPLICATION PACKAGE IDENTIFIER(?) RENAME TO IDENTIFIER(?)",(0,i.M)(e),(0,i.M)({type:r.M.APPLICATION_PACKAGE,name:a})),{alterSqlQuery:s.toQuery(),desc:`${n}-rename`,newName:a}}},465301:function(e,t,n){"use strict";n.d(t,{v:()=>s});var r=n(852043),o=n(159771),i=n(144237),a=n(264602);let s=({id:e,alterProps:t,descPrefix:n})=>{let{version:s,patch:l,releaseChannel:u}=t,c=new r.L;return c.add("ALTER APPLICATION PACKAGE {}",(0,o.M)(e)),u&&c.add("MODIFY RELEASE CHANNEL {}",(0,a.t)(u)),c.add("SET DEFAULT RELEASE DIRECTIVE VERSION = {} PATCH = {}",(0,a.t)(s),(0,i._)(l)),{alterSqlQuery:c.toQuery(),desc:u?`${n}-set-default-release-directive-for-release-channel`:`${n}-set-default-release-directive`}}},796641:function(e,t,n){"use strict";n.d(t,{P:()=>l});var r=n(420174),o=n(852043),i=n(159771),a=n(144237),s=n(264602);let l=({id:e,alterProps:t,descPrefix:n})=>{let{version:l,patch:u,directiveName:c,accounts:d,releaseChannel:g}=t,p=new o.L,f=d.map(e=>(0,i.M)({type:r.M.ACCOUNT,...e}));return p.add("ALTER APPLICATION PACKAGE {}",(0,i.M)(e)),g&&p.add("MODIFY RELEASE CHANNEL {}",(0,s.t)(g)),p.add("SET RELEASE DIRECTIVE {} ACCOUNTS = (",(0,s.t)(c)),f.forEach((e,t)=>{let n=t===f.length-1;p.add(n?"{}":"{}, ",e)}),p.add(") VERSION = {} PATCH = {}",(0,s.t)(l),(0,a._)(u)),{alterSqlQuery:p.toQuery(),desc:g?`${n}-set-release-directive-for-release-channel`:`${n}-set-release-directive`}}},153171:function(e,t,n){"use strict";n.d(t,{q:()=>a});var r=n(852043),o=n(159771),i=n(264602);let a=({id:e,alterProps:t,descPrefix:n})=>{let{directiveName:a,releaseChannel:s}=t,l=new r.L;return l.add("ALTER APPLICATION PACKAGE {}",(0,o.M)(e)),s&&l.add("MODIFY RELEASE CHANNEL {}",(0,i.t)(s)),l.add("UNSET RELEASE DIRECTIVE {}",(0,i.t)(a)),{alterSqlQuery:l.toQuery(),desc:s?`${n}-unset-release-directive-for-release-channel`:`${n}-unset-release-directive`}}},530064:function(e,t,n){"use strict";n.d(t,{g:()=>m,w:()=>f});var r=n(420174),o=n(793589),i=n(852043),a=n(996913),s=n(812484),l=n(159771),u=n(36534),c=n(359248),d=n(653546),g=n(721208),p=n(886608);let f=e=>{var t,n,o,s;let c,f,m=(null==(t=e.id)?void 0:t.name)||"",E=(null==(s=e.options)||null==(o=s.extras)||null==(n=o.filter)?void 0:n.toString())||"",h=(0,l.M)({name:m,type:r.M.APPLICATION});E?(c="CALL SYSTEM$GET_REFERENCE_DEFINITIONS(?,[?])",f=[h,(0,u.i)(E)]):(c="CALL SYSTEM$GET_REFERENCE_DEFINITIONS(?)",f=[h]);let v=new i.L(c,...f).toQuery();return{...e,query:v,adapter:e=>{var t,n,o;let i=null!=(o=null==(n=e.rows)||null==(t=n[0])?void 0:t[0])?o:"",s=i?(0,g.F)(i):[],l=(0,p.y)(s);return l.forEach(e=>{let t=e.objectType.toLowerCase();if("api integration"===t)e.objectType=r.M.API_INTEGRATION;else if("external table"===t)e.objectType=r.M.EXTERNAL_TABLE;else if("external_access integration"===t||"external access integration"===t)e.objectType=r.M.EXTERNAL_ACCESS_INTEGRATION;else if("function"===t||"procedure"===t){let t=e.bindings;for(let e=0;e<t.length;e++)if(t[e].name){let n=t[e],{args:r,name:o}=(0,a.L)(n.name);n.name=(0,d.Z2)(o)||o,n.args=r}}}),{rows:[{id:{type:r.M.APPLICATION,name:m},references:l}]}},desc:"show-application-references"}},m=(e,t)=>{let n,a=e.reference;if(!a)return[];let d=(0,s.y)({type:r.M.PROCEDURE,database:t.name,...a.registerCallback}),g=[],p=(0,u.i)(a.name),f=(0,u.i)(a.actionType);switch(a.actionType){case o.l.ADD:if(a.objects&&a.objects.length>0){n=`call ${d}(?, {}, system$reference({}, ?, 'PERSISTENT', {}))`;for(let e=0;e<a.objects.length;e++){let t=a.objects[e],r=(0,l.M)(t,{withArgs:!0}),o=(0,u.i)(t.type),s=new i.L().add(n,p,f,o,r,(0,c.K)(a.privileges||[]));g.push({...s.toQuery(),desc:"set-reference-add"})}}break;case o.l.REMOVE:if(a.objects&&a.objects.length>0){n=`call ${d}(?, {}, ?)`;for(let e=0;e<a.objects.length;e++){let t=(0,u.i)(a.objects[e]),r=new i.L().add(n,p,f,t);g.push({...r.toQuery(),desc:"set-reference-remove"})}}break;case o.l.CLEAR:{n=`call ${d}(?, {}, '')`;let e=new i.L().add(n,p,f);g.push({...e.toQuery(),desc:"set-reference-clear"})}}return g}},5496:function(e,t,n){"use strict";n.d(t,{c:()=>u});var r=n(420174),o=n(852043),i=n(159771),a=n(144237),s=n(370264),l=n(264602);function u(e,t){let n=t.from.name,u=t.version,c=t.patch,d=new o.L().add("create {} IDENTIFIER(?) from APPLICATION PACKAGE IDENTIFIER(?)",(0,s.T)(e.type),(0,i.M)(e),(0,i.M)({name:n,type:r.M.APPLICATION_PACKAGE}));return t.from.type===r.M.APPLICATION_PACKAGE&&u&&void 0!==c&&d.add("USING VERSION {} PATCH {}",(0,l.t)(u),(0,a._)(c)),d.toQuery()}},583700:function(e,t,n){"use strict";n.d(t,{T:()=>r,U:()=>o});let r="SYSTEM$STREAMLIT_NOTEBOOK_WH",o="SYSTEM$WAREHOUSE_RUNTIME"},126122:function(e,t,n){"use strict";n.d(t,{L:()=>c});var r=n(420174),o=n(852043),i=n(159771),a=n(370264),s=n(36534),l=n(113939),u=n(474522);function c(e,t){let n=t.from?t.from.name:"",c=t.using?t.using.name:"",d=t.with?t.with.name:"",g=t.with?t.with.database:"",p=t.with?t.with.schema:"",f=t.trial,m=t.autoRenew,E=t.preferMCD,h=t.paymentMethodId,v=t.purchaseOrderId,S=t.isBackgroundInstall,_=t.isEventSharingAuthorization,b=t.offer,I=new o.L().add("create {} IDENTIFIER(?)",(0,a.T)(e.type),(0,i.M)(e)).add("from LISTING {}",(0,s.i)(n));return c&&I.add("using RELEASE CHANNEL {}",(0,l.V)(c)),S&&I.add("BACKGROUND_INSTALL = true"),_&&I.add("AUTHORIZE_TELEMETRY_EVENT_SHARING = true"),d&&I.add("with FEATURE POLICY {}",(0,i.M)({name:d,database:g,schema:p,type:r.M.FEATURE_POLICY})),(0,u.rW)(I,{trial:f,autoRenew:m,preferMCD:E,paymentMethodId:h,purchaseOrderId:v,offer:b}),I.toQuery()}},314886:function(e,t,n){"use strict";n.d(t,{x:()=>g});var r=n(523930);function o(e){return(t,n)=>e(t,n)}function i(e,t){let n=`alter-${e.type.toLowerCase()}`;return`${n}-${t}`}let a=o((e,t)=>{if(!t.push)return null;if(t.secret&&t.push){let{secret:n,name:o,email:a,comment:s,to:l}=t;return[{...(0,r.fd)(e,{secret:n,name:o,email:a,comment:s,to:l}),desc:i(e,"push")}]}let{username:n,password:o,name:a,email:s,comment:l,to:u}=t;return[{...(0,r.fd)(e,{username:n,password:o,name:a,email:s,comment:l,to:u}),desc:i(e,"push")}]}),s=o((e,t)=>{if(!0===t.add){let{from:n,live:o}=t;return[{...(0,r.Hb)(e,{from:n,live:o||!n}),desc:i(e,"add-version")}]}return null}),l=o((e,t)=>!0===t.commit?[{...(0,r.Tp)(e),desc:i(e,"commit")}]:null),u=o((e,t)=>!0===t.pull?[{...(0,r.Qo)(e,t.enableConflictResolution),desc:i(e,"pull")}]:null),c=o((e,t)=>t.executeAs?[{...(0,r.cA)(e,t.executeAs),desc:i(e,"execute-as")}]:null),d=[s,l,a,u,c,o((e,t)=>t.newId?[{...(0,r.U9)(e,t.newId),desc:i(e,"rename-to")}]:null),o((e,t)=>t.newSchema&&t.newOwner?[{...(0,r.oh)(e,t.newSchema,t.newOwner),desc:i(e,"move-to")}]:null)];function g(e,t){for(let n of d){let r=n(e,t);if(r)return r}return null}},539220:function(e,t,n){"use strict";n.d(t,{Q:()=>a});var r=n(609588),o=n.n(r),i=n(420174);let a=(e,t)=>{let n=[],r=[],a=[];return e.forEach(e=>{e.targetColNames?e.targetColNames.forEach(t=>{a.push({mappedColumns:e.mappedColumns,policy:e.policy,targetColName:t})}):a.push(e)}),t.forEach(e=>{e.targetColNames?e.targetColNames.forEach(t=>{r.push({mappedColumns:e.mappedColumns,policy:e.policy,targetColName:t})}):r.push(e)}),r.forEach(e=>{if(e.policy.domain===i.M.AGGREGATION_POLICY||e.policy.domain===i.M.ROW_ACCESS_POLICY){let t=a.find(t=>t.policy.domain===e.policy.domain);t&&n.push({toSet:t,toUnset:e})}else{let t=a.find(t=>t.policy.domain===e.policy.domain&&t.targetColName===e.targetColName);t&&n.push({toSet:t,toUnset:e})}}),{toRemove:r.filter(e=>!n.some(({toUnset:t})=>o()(t,e))),toAdd:a.filter(e=>!n.some(({toSet:t})=>o()(t,e))),toEdit:n}}},474522:function(e,t,n){"use strict";n.d(t,{As:()=>ee,Nj:()=>en,Vk:()=>es,Vq:()=>ea,_t:()=>j,jJ:()=>Y,n5:()=>ei,pV:()=>H,r5:()=>X,rW:()=>V,w3:()=>Z});var r=n(969452),o=n.n(r),i=n(114858),a=n.n(i),s=n(420174),l=n(857401),u=n(852043),c=n(935426),d=n(903542),g=n(257213),p=n(217386),f=n(154079),m=n(829490),E=n(274271),h=n(159771),v=n(64562),S=n(516415),_=n(144237),b=n(468690),I=n(370264),y=n(36534),R=n(113939),T=n(19318),N=n(76954),C=n(158345),A=n(530064),L=n(5496),k=n(967309),w=n(370823),O=n(608865),D=n(933366),M=n(126122),x=n(314886),U=n(539220),P=n(672135),$=n(927359);function F(e){return a()(e).toUpperCase().replace("UTF_8","UTF8")}function B(e,t){var n;e.add("{} {}",(n=t.name,(0,N.yB)(n)?(0,b.M)(n):(0,b.M)((0,p.P)(n))),(0,E.j)(t.type));let r="STRING"===t.type||"VARCHAR"===t.type||"DATE"===t.type||"TIMESTAMP"===t.type?`'${t.default}'`:String(t.default);void 0!==t.default&&e.add("DEFAULT {}",(0,R.V)(r)),t.notNull&&e.add("NOT NULL"),t.comment&&e.add("COMMENT {}",(0,y.i)(t.comment))}let G=["ALLOWED_AUTHENTICATION_SECRETS","STORAGE_INTEGRATION"];function V(e,t,n){if(t){let r=!1;for(let i of Object.keys(t)){let a=t[i],l=F(i);switch(typeof a){case"string":"FILE_FORMAT"===l?e.add("FILE_FORMAT = (TYPE = {})",(0,S.a)(a)):"DEFAULT_SECONDARY_ROLES"===l?(e.add("{} = (",(0,S.a)(l)),a&&e.add("{}",(0,y.i)(a)),e.add(")")):G.includes(l)?e.add("{} = {}",(0,v.e)(l),(0,v.e)(a)):e.add("{} = {}",(0,S.a)(l),(0,y.i)(a));break;case"boolean":e.add("{} = {}",(0,S.a)(l),(0,m.S)(a));break;case"number":e.add("{} = {}",(0,S.a)(l),(0,_._)(a));break;case"object":if(o()(a))a.length>0?(e.add("{} = (",(0,S.a)(l)),a.forEach((t,n)=>{n>0&&e.add(","),e.add("{}",(0,y.i)(t))}),e.add(")")):n&&e.add("{} = ()",(0,S.a)(l));else if(null===a)e.add("{} = null",(0,S.a)(l));else switch(l){case"REPLICA_OF":e.add("AS REPLICA OF IDENTIFIER(?)",(0,h.M)({type:s.M.DATABASE,...a}));break;case"SCHEDULE":"mins"in a?e.add("{} = {}",(0,S.a)(l),(0,y.i)(`${a.mins} MINUTE`)):"expression"in a&&e.add("{} = {}",(0,S.a)(l),(0,y.i)(`USING CRON ${a.expression} ${a.timezone}`));break;case"LOCATION":e.add("{} = {}",(0,S.a)(l),(0,h.M)(a));break;case"FILE_FORMAT":e.add("{} = (FORMAT_NAME = {})",(0,S.a)(l),(0,h.M)(a));break;case"TRIGGERS":r=!0;break;case"METADATA":e.add("METADATA = '{}'",{inlineRepr:(0,d.H)(JSON.stringify(a))});break;default:e.add("{} = (",(0,S.a)(l)),V(e,a),e.add(")")}}}r&&el(e,t.triggers)}}function j(e){return(0,N.SD)(e)?e.toUpperCase():(0,N.r9)(e)?(0,T.b)(e):e}function H(e){return{...e,name:j(e.name)}}let W=[{keyword:"secure",renderer:e=>{e.add("secure")}},{keyword:"replace",renderer:e=>{e.add("or replace")}}],K=[{keyword:"existsConditional",renderer:(e,t)=>{"ifNotExists"===t&&e.add("if not exists")}}],Q=[{keyword:"columns",renderer:function(e,t){e.add("("),function(e,t,n){for(let r=0;r<t.length;r++)r>0&&e.add(","),n(e,t[r])}(e,t,B),e.add(")")}},{keyword:"sourceTable",renderer:function(e,t){e.add("on"),e.addFullyQualifiedIdentifier(t)}},{keyword:"returns",renderer:(e,t)=>{e.add("returns {}",(0,v.e)(t))}},{keyword:"withManagedAccess",renderer:e=>{e.add("WITH MANAGED ACCESS")}},{keyword:"language",renderer:(e,t)=>{e.add("language {}",(0,v.e)(t))}},{keyword:"from",renderer:(e,t)=>{e.add("FROM"),"string"==typeof t?e.add("{}",(0,y.i)(t)):e.addFullyQualifiedIdentifier(t)}}],z=[{keyword:"definition",renderer:function(e,t,n){e.add("as"),n.type===s.M.FUNCTION||n.type===s.M.PROCEDURE?e.add("{}",(0,y.i)(t)):e.add("{}",(0,b.M)(t))}}];function q(e,t,n,r){for(let o of t){let t=n[o.keyword];void 0!==t&&(o.renderer(e,t,r),delete n[o.keyword])}}function Y(e,t){if(e.type===s.M.ORG_EMAIL)return eu(s.M.ORG_EMAIL,"CREATE",t);if(e.type===s.M.BUDGET_BUNDLE)return(0,D.cQ)(e);if(e.type===s.M.APPLICATION){let n=t;return n.from.type===s.M.APPLICATION_PACKAGE?(0,L.c)(e,n):(0,M.L)(e,n)}if(e.type===s.M.PROVIDER_LISTING)return(0,k.a)(e,t);t={...t};let n=new u.L("create");q(n,W,t,e);let r=[];for(let e of K){let n=t[e.keyword];void 0!==n&&(r.push({keyword:e.keyword,renderer:t=>e.renderer(t,n)}),delete t[e.keyword])}n.addFullyQualifiedIdentifier(e,r),q(n,Q,t,e);let o={...t};for(let e of z)delete o[e.keyword];return V(n,o),q(n,z,t,e),n.toQuery()}function X(e,t,n){let r=new u.L("CREATE");return r.add("{}",(0,I.T)(e.type)),r.add("IDENTIFIER(?)",(0,h.M)(t)),r.add("CLONE"),r.add("IDENTIFIER(?)",(0,h.M)(e)),n.comment&&r.add("COMMENT = {}",(0,y.i)(n.comment)),r.toQuery()}function Z(e,t){if(e.type===s.M.PROVIDER_LISTING)return(0,w._)(e);if(e.type===s.M.ML_MODEL_VERSION){let t={name:e.module,database:e.database,schema:e.schema,type:s.M.ML_MODEL};return new u.L().add("ALTER MODEL IDENTIFIER(?) DROP VERSION {}",(0,h.M)(t),{bindingsJSONRepr:e.name,inlineRepr:e.name}).toQuery()}let n=new u.L("drop");return e.type===s.M.BUDGET_BUNDLE?n.add("instance IDENTIFIER(?)",(0,h.M)(e)):n.addFullyQualifiedIdentifier(e),(null==t?void 0:t.cascade)&&e.type===s.M.APPLICATION&&n.add("CASCADE"),e.type===s.M.ACCOUNT&&(null==t?void 0:t.gracePeriodInDays)&&n.add("grace_period_in_days="+t.gracePeriodInDays),n.toQuery()}function J(e,{emailType:t,oldEmail:n,newEmail:r},o){let[i,a]=function(...e){return e.map(e=>Array.isArray(e)?e:[e])}(n,r),s=i.filter(e=>!a.includes(e)),l=a.filter(e=>!i.includes(e));return{alters:[...s.map((n,r)=>({...eu(e,"DROP",{email:n,emailType:t}),desc:`${o}-drop${0===r?"":"-"+(r+1)}`})),...l.map((n,r)=>({...eu(e,"CREATE",{email:n,emailType:t}),desc:`${o}-create${0===r?"":"-"+(r+1)}`}))],newName:""}}function ee(e,t){let n,r=`alter-${e.type.toLowerCase()}`;if(e.type===s.M.ORG_EMAIL)return J(s.M.ORG_EMAIL,t,r);if(e.type===s.M.ACCOUNT_EMAIL)return J(s.M.ACCOUNT_EMAIL,t,r);if(e.type===s.M.SHARE){if(t.useAdd){let n=[];return n.push({...(0,$.I)(e,t,"add"),desc:`${r}-add-accounts`}),{alters:n,newName:""}}else if(t.useRemove){let n=[];return n.push({...(0,$.I)(e,t,"remove"),desc:`${r}-remove-accounts`}),{alters:n,newName:""}}}if(e.type===s.M.CONSUMER_LISTING&&t.unpublishByAdmin)return{alters:[{...new u.L().add("call system$unpublish_data_exchange_listing_by_admin(?, ?, ?)",(0,y.i)(e.exchangeId),(0,y.i)(e.name),(0,y.i)(t.reason)).toQuery(),desc:`${r}-unpublish-listing-by-admin`}],newName:""};if(e.type===s.M.LISTING&&t.appPackage)return{alters:[{...new u.L().add("call SYSTEM$SETUP_LISTING_WITH_APPLICATION_PACKAGE(?, ?)",(0,h.M)(e),(0,h.M)({name:t.appPackage,type:s.M.APPLICATION_PACKAGE})).toQuery(),desc:`${r}-setup-listing-with-app-package`}],newName:""};if(e.type===s.M.BUDGET_BUNDLE){let n,o=[],i="";if(t.budgetId){let o=t.budgetId;i=j(o.name),n={...(0,D.Wh)(e,o),desc:`${r}-rename`}}if(t.spendingLimit&&o.push({...(0,D._w)(e,t.spendingLimit),desc:`${r}-set-spending-limit`}),t.emailNotification){let n=t.emailNotification;o.push({...(0,D.FX)(e,n.recipient),desc:`${r}-set-email-notification-without-integration`})}return t.activate&&o.push({...(0,D.qz)(e),desc:`${r}-activate-account-budget`}),t.deactivate&&o.push({...(0,D.wS)(e),desc:`${r}-deactivate-account-budget`}),t.addResources&&t.addResources.length>0&&t.addResources.forEach(t=>o.push({...(0,D.Pl)(e,t),desc:`${r}-add-resource-to-budget`})),t.removeResources&&t.removeResources.length>0&&t.removeResources.forEach(t=>o.push({...(0,D.yu)(e,t),desc:`${r}-remove-resource-from-budget`})),n&&o.push(n),{alters:o,newName:i}}if(e.type===s.M.APPLICATION_PACKAGE&&t.alterType)return(0,C.g)({alterProps:t,id:e,descPrefix:r});if(e.type===s.M.PROVIDER_LISTING&&t.alterType)return(0,O.g)({alterProps:t,id:e,descPrefix:r});if(e.type===s.M.APPLICATION&&t.reference)return{alters:(0,A.g)(t,e),newName:""};if(e.type===s.M.ACCOUNT&&t.name){let n=j(t.name),o=[];return o.push({...(0,g.M)(e,n,t.saveOldUrl),desc:`${r}-rename`}),{alters:o,newName:n}}if((0,l.n)(e)){let n=(0,x.x)(e,t);if(n)return{alters:n,newName:""}}let o=[],i={},a=!1,d=[],p="";for(let l in t){let g=t[l];if("name"===l)g&&j(g)!==e.name&&(n={...ea(e,p=j(g)),desc:`${r}-rename`});else if("networkPolicy"===l&&e.type===s.M.ACCOUNT)o.push({...function(e,t){let n=new u.L("alter");return(0,c.c)(n,e),"activate"===t.action?n.add("set NETWORK_POLICY = {}",(0,y.i)(t.name)):n.add("unset NETWORK_POLICY"),n.toQuery()}(e,g),desc:`${r}-${g.action}-${g.name.replace(" ","-")}`});else if("action"===l)o.push({...es(e,g),desc:`${r}-${g.replace(" ","-")}`});else if("secure"===l&&e.type===s.M.FUNCTION){let t=g?"set":"unset";o.push({...es(e,`${t} secure`),desc:`${r}-${t}-secure`})}else if("enableReplication"===l&&e.type===s.M.DATABASE)o.push({...ec(e,g,"enable replication"),desc:`${r}-enable-replication`});else if("disableReplication"===l&&e.type===s.M.DATABASE)o.push({...ec(e,g,"disable replication"),desc:`${r}-disable-replication`});else if("enableFailover"===l&&e.type===s.M.DATABASE)o.push({...ec(e,g,"enable failover"),desc:`${r}-enable-failover`});else if("disableFailover"===l&&e.type===s.M.DATABASE)o.push({...ec(e,g,"disable failover"),desc:`${r}-disable-failover`});else if("policy"===l){let t,{toSet:n,toUnset:i,targetColumnName:a,entityColumns:l}=g,u=n?n.policy.domain:i.domain,c=u===s.M.ROW_ACCESS_POLICY,d=u===s.M.MASKING_POLICY,p=u===s.M.PROJECTION_POLICY,f=u===s.M.AGGREGATION_POLICY,m=u===s.M.PRIVACY_POLICY;c?ep({id:e,actions:o,toSet:n,toUnset:i,targetColumnName:a,descPrefix:r}):m?(n&&i?t=`${r}-drop-and-add-privacy-policy`:n?t=`${r}-add-privacy-policy`:i&&(t=`${r}-drop-privacy-policy`),o.push({...er({id:e,addParams:n,dropParams:i}),desc:t})):d?n&&i?o.push({...er({id:e,addParams:n,dropParams:i,targetColumnName:a}),desc:`${r}-set-masking-policy-force`}):n?o.push({...er({id:e,addParams:n,targetColumnName:a}),desc:`${r}-set-masking-policy`}):i&&o.push({...er({id:e,dropParams:i,targetColumnName:a}),desc:`${r}-unset-masking-policy`}):p?n&&i?o.push({...er({id:e,addParams:n,dropParams:i,targetColumnName:a}),desc:`${r}-set-projection-policy-force`}):n?o.push({...er({id:e,addParams:n,targetColumnName:a}),desc:`${r}-set-projection-policy`}):i&&o.push({...er({id:e,dropParams:i,targetColumnName:a}),desc:`${r}-unset-projection-policy`}):f&&ef({id:e,actions:o,toSet:n,toUnset:i,entityColumns:l,descPrefix:r})}else if("policies"===l){let{rowAccessPolicy:t,aggregationPolicy:n,projectionPolicies:i}=g;if(t){let{toSet:n,toUnset:i,targetColumnName:a}=t;ep({id:e,actions:o,toSet:n,toUnset:i,targetColumnName:a,descPrefix:r})}if(n){let{toSet:t,toUnset:i}=n;ef({id:e,actions:o,toSet:t,toUnset:i,entityColumns:null==t?void 0:t.entityColumns,descPrefix:r})}if(i){let{toSet:t,toUnset:n}=i;!function({id:e,actions:t,toSet:n,toUnset:r,descPrefix:o}){let{toAdd:i,toRemove:a,toEdit:s}=(0,U.Q)(null!=n?n:[],null!=r?r:[]);i.forEach(n=>{t.push({...er({id:e,addParams:n,targetColumnName:n.targetColName}),desc:`${o}-set-projection-policy`})}),a.forEach(n=>{t.push({...er({id:e,dropParams:n.policy,targetColumnName:n.targetColName}),desc:`${o}-unset-projection-policy`})}),s.forEach(n=>{t.push({...er({id:e,addParams:n.toSet,dropParams:n.toUnset.policy,targetColumnName:n.toSet.targetColName}),desc:`${o}-set-projection-policy-force`})})}({id:e,actions:o,toSet:t,toUnset:n,descPrefix:r})}}else if("tags"===l)(null==g?void 0:g.length)>0&&o.push({...function(e,t){let n=new u.L("alter");return ed(e,n),t[0].targetColumnName&&eg(n,t[0].targetColumnName),n.add("set TAG"),t.forEach((e,t)=>{t>0&&n.add(",");let r={name:e.name,database:e.database,schema:e.schema,type:s.M.TAG};n.add("IDENTIFIER(?) = {}",(0,h.M)(r),(0,y.i)(e.value))}),n.toQuery()}(e,g),desc:`${r}-set`});else if("tagsToUnset"===l)(null==g?void 0:g.length)>0&&o.push({...function(e,t){let n=new u.L("alter");return ed(e,n),t[0].targetColumnName&&eg(n,t[0].targetColumnName),n.add("unset TAG"),t.forEach((e,t,r)=>{let o={type:s.M.TAG,name:e.name,database:e.database,schema:e.schema};t<r.length-1?n.add("IDENTIFIER(?),",(0,h.M)(o)):n.add("IDENTIFIER(?)",(0,h.M)(o))}),n.toQuery()}(e,g),desc:`${r}-unset`});else if("columnToDrop"===l)o.push({...function(e,t){let n=new u.L("alter");ed(e,n),n.add("drop COLUMN");let r={type:s.M.SCHEMA,name:t};return n.add("{}",(0,h.M)(r)),n.toQuery()}(e,g),desc:`${r}-drop-column`});else if((e.type===s.M.TABLE||e.type===s.M.VIEW||e.type===s.M.DYNAMIC_TABLE||e.type===s.M.ICEBERG_TABLE||e.type===s.M.EXTERNAL_TABLE)&&"columnComment"===l){let{column:t,comment:n}=g;o.push({...function(e,t,n){let r=new u.L("ALTER");return(0,c.c)(r,e),r.add(`ALTER COLUMN ${(0,f.v)(t)}`),n?r.add("COMMENT {}",(0,y.i)(n)):r.add("UNSET COMMENT"),r.toQuery()}(e,t,n),desc:`${r}-column-comment`})}else{let t=e.type===s.M.WAREHOUSE&&"autoSuspend"===l;null!==g||e.type===s.M.RESOURCE_MONITOR||t?(i[l]=g,a=!0):d.push(l)}}let m=[];return o.length>0&&m.push(...o),a&&m.push({...en(e,i),desc:`${r}-set`}),d.length>0&&m.push({...ei(e,d),desc:`${r}-unset`}),n&&m.push(n),{alters:m,newName:p}}let et=[s.M.NETWORK_POLICY,s.M.NOTEBOOK,s.M.STREAMLIT];function en(e,t){let n=new u.L("alter");(0,c.c)(n,e);let r=Object.keys(t);if(e.type===s.M.RESOURCE_MONITOR&&1===r.length&&"triggers"===r[0])el(n,t.triggers);else if(e.type===s.M.SHARE&&void 0!==t.accounts&&null!==t.accounts){n.add("set");let e=t.accounts;delete t.accounts,(0,P.m)(n,e),V(n,t)}else n.add("set"),V(n,t,et.includes(e.type));return n.toQuery()}function er({id:e,addParams:t,dropParams:n,targetColumnName:r,entityColumns:o}){let i=new u.L("alter");ed(e,i);let a=null==t?void 0:t.policy.domain;return r&&eg(i,r),n&&t&&a!==s.M.ROW_ACCESS_POLICY&&a!==s.M.PRIVACY_POLICY?eo(i,t,r,o,!0):(n&&function(e,t){let{domain:n,name:r,schema:o,database:i}=t;n===s.M.MASKING_POLICY?e.add("unset masking policy"):n===s.M.ROW_ACCESS_POLICY?(e.add("drop row access policy"),e.add("IDENTIFIER(?)",(0,h.M)({type:n,name:r,schema:o,database:i}))):n===s.M.PRIVACY_POLICY?(e.add("drop privacy policy"),e.add("IDENTIFIER(?)",(0,h.M)({type:n,name:r,schema:o,database:i}))):n===s.M.AGGREGATION_POLICY?e.add("unset aggregation policy"):n===s.M.PROJECTION_POLICY&&e.add("unset projection policy")}(i,n),n&&t&&i.add(","),t&&eo(i,t,r,o)),i.toQuery()}function eo(e,t,n,r,o){let{policy:i,mappedColumns:a}=t,{domain:l,name:u,schema:c,database:d}=i,g={type:l,name:u,schema:c,database:d};l===s.M.MASKING_POLICY&&n&&a?(e.add("set masking policy"),e.add("IDENTIFIER(?)",(0,h.M)(g)),a.length>1&&(e.add("using ("),a.forEach((t,r,o)=>{0===r?e.add("{}",(0,h.M)({type:s.M.SCHEMA,name:n})):e.add("{}",(0,h.M)({type:s.M.SCHEMA,name:t.mappedColName})),r<o.length-1&&e.add(",")}),e.add(")")),o&&e.add("force")):l===s.M.ROW_ACCESS_POLICY&&!n&&a?(e.add("add row access policy"),e.add("IDENTIFIER(?)",(0,h.M)(g)),e.add("on ("),a.forEach((t,n,r)=>{let o={type:s.M.SCHEMA,name:t.mappedColName};e.add("{}",(0,h.M)(o)),n<r.length-1&&e.add(",")}),e.add(")")):l===s.M.AGGREGATION_POLICY?(e.add("set aggregation policy"),e.add("IDENTIFIER(?)",(0,h.M)(g)),(null==r?void 0:r.length)&&(e.add("ENTITY KEY ("),r.forEach((t,n)=>{e.add("{}",(0,h.M)({type:s.M.SCHEMA,name:t})),n<r.length-1&&e.add(",")}),e.add(")")),o&&e.add("force")):l===s.M.PROJECTION_POLICY&&n?(e.add("set projection policy"),e.add("IDENTIFIER(?)",(0,h.M)(g)),o&&e.add("force")):l===s.M.PRIVACY_POLICY&&(e.add("add privacy policy"),e.add("IDENTIFIER(?)",(0,h.M)(g)))}function ei(e,t){let n=new u.L("alter");n.addFullyQualifiedIdentifier(e),n.add("unset");for(let e=0;e<t.length;e++){let r=F(t[e]);e<t.length-1?n.add("{},",(0,S.a)(r)):n.add("{}",(0,S.a)(r))}return n.toQuery()}function ea(e,t){let n=new u.L("alter");return(0,c.c)(n,e),n.add("rename to IDENTIFIER(?)",(0,h.M)({...e,name:t})),n.toQuery()}function es(e,t){let n=new u.L("alter");return n.addFullyQualifiedIdentifier(e),n.add("{}",(0,S.a)(t)),n.toQuery()}function el(e,t){let{suspend:n,suspendImmediately:r,notify:o}=t;for(let t of((n||r||o)&&e.add("TRIGGERS"),n&&e.add("ON {} PERCENT DO SUSPEND",(0,_._)(n)),r&&e.add("ON {} PERCENT DO SUSPEND_IMMEDIATE",(0,_._)(r)),o))t&&e.add("ON {} PERCENT DO NOTIFY",(0,_._)(t))}function eu(e,t,n){let r=new u.L,o="";return e===s.M.ACCOUNT_EMAIL?"CREATE"===t?o="call system$ADD_EMAIL_STORAGE_FOR_ACCOUNT({}, {})":"DROP"===t&&(o="call system$DELETE_EMAIL_STORAGE_FOR_ACCOUNT({}, {})"):e===s.M.ORG_EMAIL&&("CREATE"===t?o="call system$ADD_EMAIL_STORAGE_FOR_ORGANIZATION({}, {})":"DROP"===t&&(o="call system$DELETE_EMAIL_STORAGE_FOR_ORGANIZATION({}, {})")),r.add(o,(0,y.i)(n.emailType),(0,y.i)(n.email)),r.toQuery()}function ec(e,t,n){let r=new u.L("alter");return(0,c.c)(r,e),r.add(`${n} to accounts`),t.forEach((e,t)=>{0!==t&&r.add(","),r.add("IDENTIFIER(?)",(0,h.M)(e))}),r.toQuery()}function ed(e,t){e.type===s.M.EXTERNAL_TABLE?t.add("{} IDENTIFIER(?)",(0,I.T)(s.M.TABLE),(0,h.M)(e)):e.type===s.M.MATERIALIZED_VIEW?t.add("{} IDENTIFIER(?)",(0,I.T)(s.M.VIEW),(0,h.M)(e)):t.addFullyQualifiedIdentifier(e)}function eg(e,t){let n={type:s.M.SCHEMA,name:t};e.add("modify COLUMN"),e.add("{}",(0,h.M)(n))}function ep({id:e,actions:t,toSet:n,toUnset:r,targetColumnName:o,descPrefix:i}){let a="";n&&r?a=`${i}-drop-and-add-row-access-policy`:n?a=`${i}-add-row-access-policy`:r&&(a=`${i}-drop-row-access-policy`),t.push({...er({id:e,addParams:n,dropParams:r,targetColumnName:o}),desc:a})}function ef({id:e,actions:t,toSet:n,toUnset:r,entityColumns:o,descPrefix:i}){let a="";n&&r?t.push({...er({id:e,addParams:n,dropParams:r,entityColumns:o}),desc:`${i}-set-aggregation-policy-force`}):n?(a=`${i}-set-aggregation-policy`,t.push({...er({id:e,addParams:n,entityColumns:o}),desc:a})):r&&(a=`${i}-unset-aggregation-policy`,t.push({...er({id:e,dropParams:r}),desc:a}))}},987826:function(e,t,n){"use strict";n.d(t,{J:()=>i});var r=n(812199),o=n(503025);let i=e=>{let t=e.filter(e=>!(0,r.U)(e));return 0===t.length?"":JSON.stringify(t.reduce((e,t)=>({...e,[t.key]:(0,o._)(t.value)?t.value:JSON.parse(t.value)}),{}))}},721208:function(e,t,n){"use strict";n.d(t,{F:()=>i});var r=n(867668),o=n(411733);function i(e){try{return(0,r.jsonParseDoubleDollarSafe)(e)}catch(e){return o.cM.error(Error(`error running jsonParseDoubleDollarSafe ${e}`)),{}}}},812199:function(e,t,n){"use strict";n.d(t,{U:()=>r});let r=e=>""===e.key&&""===e.value},503025:function(e,t,n){"use strict";n.d(t,{_:()=>r});let r=e=>{try{let t=JSON.parse(e);return"string"==typeof t}catch(e){return!0}}},886608:function(e,t,n){"use strict";n.d(t,{n:()=>c,y:()=>u});var r=n(889692),o=n.n(r),i=n(875934),a=n.n(i),s=n(586575),l=n(721208);function u(e){return(0,s.l)(e,o())}let c=e=>{let t=(0,l.F)(null!=e?e:"{}");return a()(t)?void 0:u(t)}},672135:function(e,t,n){"use strict";n.d(t,{m:()=>i});var r=n(420174),o=n(159771);function i(e,t){e.add("ACCOUNTS ="),t.forEach((t,n)=>{0!==n&&e.add(","),e.add("{}",(0,o.M)({type:r.M.ACCOUNT,name:t}))})}},927359:function(e,t,n){"use strict";n.d(t,{I:()=>a});var r=n(852043),o=n(935426),i=n(672135);function a(e,t,n){let a=new r.L("alter");(0,o.c)(a,e),a.add(n);let s=t.accounts||[];return delete t.accounts,(0,i.m)(a,s),a.toQuery()}},338753:function(e,t,n){"use strict";n.d(t,{a:()=>s});var r=n(852043),o=n(159771),i=n(113939),a=n(366202);let s=(e,t)=>{let{shareId:n,distribution:s,title:l,description:u,profile:c,targetAccounts:d,regions:g,autoFulfillment:p,reviewParameter:f="FALSE",publishParameter:m="FALSE"}=t,E={title:l,description:u,profile:null!=c?c:void 0,terms_of_service:{type:"OFFLINE"},targets:{accounts:d.length>0?d:void 0,regions:g.length>0?g:void 0},auto_fulfillment:p?{refresh_type:p.refreshType,refresh_schedule:p.refreshSchedule}:void 0};return new r.L().add("CREATE LISTING IDENTIFIER(?) FOR SHARE IDENTIFIER(?) AS {} DISTRIBUTION={} REVIEW={} PUBLISH={}",(0,o.M)(e),(0,o.M)(n),(0,a.Z)(E,{forceQuotes:!0}),(0,i.V)(s),(0,i.V)(f),(0,i.V)(m)).toQuery()}},967309:function(e,t,n){"use strict";n.d(t,{a:()=>r.a});var r=n(338753)},254038:function(e,t,n){"use strict";n.d(t,{_:()=>i});var r=n(852043),o=n(159771);let i=e=>new r.L().add("DROP LISTING IDENTIFIER(?)",(0,o.M)(e)).toQuery()},370823:function(e,t,n){"use strict";n.d(t,{_:()=>r._});var r=n(254038)},763153:function(e,t,n){"use strict";n.d(t,{s:()=>s});var r=n(852043),o=n(159771),i=n(366202),a=n(355640);let s=({id:e,alterProps:t,descPrefix:n})=>{let{listingDetails:s}=t,l=(0,a.f)(s);return{alterSqlQuery:new r.L("ALTER LISTING IDENTIFIER(?) AS {}",(0,o.M)(e),(0,i.Z)(l,{forceQuotes:!0})).toQuery(),desc:`${n}-edit`}}},317719:function(e,t,n){"use strict";n.d(t,{g:()=>l});var r=n(802417),o=n(763153),i=n(150529),a=n(309567);let s={[r.d.EDIT]:o.s,[r.d.PUBLISH]:i.F,[r.d.UNPUBLISH]:a.r},l=e=>{let{alterSqlQuery:t,desc:n,newName:r}=(0,s[e.alterProps.alterType])(e);return{alters:[{...t,desc:n.replaceAll("_","-").toLowerCase()}],newName:null!=r?r:""}}},608865:function(e,t,n){"use strict";n.d(t,{g:()=>r.g});var r=n(317719)},150529:function(e,t,n){"use strict";n.d(t,{F:()=>i});var r=n(852043),o=n(159771);let i=({id:e,descPrefix:t})=>({alterSqlQuery:new r.L("ALTER LISTING IDENTIFIER(?) PUBLISH",(0,o.M)(e)).toQuery(),desc:`${t}-publish`})},309567:function(e,t,n){"use strict";n.d(t,{r:()=>i});var r=n(852043),o=n(159771);let i=({id:e,descPrefix:t})=>({alterSqlQuery:new r.L("ALTER LISTING IDENTIFIER(?) UNPUBLISH",(0,o.M)(e)).toQuery(),desc:`${t}-unpublish`})},355640:function(e,t,n){"use strict";n.d(t,{f:()=>r.f});var r=n(297439)},297439:function(e,t,n){"use strict";n.d(t,{f:()=>l});var r=n(114858),o=n.n(r),i=n(586575),a=n(515521),s=n(617212);let l=e=>{var t,n,r,l,u,c;let d=(0,s.T)(e.resources),g=(0,a.q)(e.dataDictionary);return{title:e.title,subtitle:null!=(t=e.subtitle)?t:void 0,description:null!=(n=e.description)?n:void 0,custom_contact:null!=(r=e.customContact)?r:void 0,profile:null!=(l=e.profile)?l:void 0,terms_of_service:{type:e.termsOfService.type,link:null!=(u=e.termsOfService.link)?u:void 0},auto_fulfillment:e.autoFulfillment?{refresh_type:e.autoFulfillment.refreshType,refresh_schedule:e.autoFulfillment.refreshSchedule}:void 0,business_needs:e.businessNeeds,targets:{accounts:e.targetAccounts,regions:e.regions},usage_examples:e.usageExamples,categories:e.categories,resources:d,data_attributes:e.dataAttributes?{refresh_rate:e.dataAttributes.refreshRate,geography:{geo_option:e.dataAttributes.geography.geoOption,granularity:e.dataAttributes.geography.granularity,coverage:e.dataAttributes.geography.coverage},time:(0,i.l)(e.dataAttributes.time,o()),features:null!=(c=e.dataAttributes.features)?c:void 0}:void 0,data_dictionary:g}}},515521:function(e,t,n){"use strict";n.d(t,{q:()=>r});let r=e=>{if(e)return{featured:e}}},617212:function(e,t,n){"use strict";n.d(t,{T:()=>r});let r=e=>{var t,n;if(e)return{documentation:null!=(t=e.documentation)?t:void 0,media:null!=(n=e.media)?n:void 0}}},933366:function(e,t,n){"use strict";n.d(t,{FX:()=>v,Iq:()=>C,Pl:()=>A,S6:()=>S,SN:()=>m,Wh:()=>y,X7:()=>N,YY:()=>g,_w:()=>h,cC:()=>f,cQ:()=>E,i4:()=>p,ll:()=>_,ny:()=>k,qz:()=>b,sq:()=>T,wS:()=>I,yu:()=>L,zZ:()=>R});var r=n(420174),o=n(571947),i=n(360715),a=n(123246),s=n(852043),l=n(159771),u=n(144237),c=n(36534),d=n(115228);function g(e){return new s.L().add("CALL {}!GET_SPENDING_LIMIT();",(0,l.M)(e)).toQuery()}function p(e){return new s.L().add("CALL {}!GET_NOTIFICATION_INTEGRATION_NAME();",(0,l.M)(e)).toQuery()}function f(e){return new s.L().add("CALL {}!GET_NOTIFICATION_EMAIL();",(0,l.M)(e)).toQuery()}function m(e,t){let{lowerBound:n,upperBound:r}=t;return new s.L().add("CALL {}!get_spending_history({}, {})",(0,l.M)(e),(0,c.i)(n),(0,c.i)(r)).toQuery()}function E(e){return new s.L().add("CREATE SNOWFLAKE.CORE.BUDGET {}();",(0,l.M)(e)).toQuery()}function h(e,t){return new s.L().add("CALL {}!SET_SPENDING_LIMIT({});",(0,l.M)(e),(0,u._)(t)).toQuery()}function v(e,t){return new s.L().add("CALL {}!SET_EMAIL_NOTIFICATIONS({});",(0,l.M)(e),(0,c.i)(t)).toQuery()}function S(){return new s.L("CALL SYSTEM$SHOW_BUDGETS_IN_ACCOUNT();").toQuery()}function _(){return new s.L("CALL SYSTEM$SHOW_BUDGET_DETAILS_IN_ACCOUNT();").toQuery()}function b(e){return new s.L().add("CALL {}!ACTIVATE();",(0,l.M)(e)).toQuery()}function I(e){return new s.L().add("CALL {}!DEACTIVATE();",(0,l.M)(e)).toQuery()}function y(e,t){return new s.L("ALTER SNOWFLAKE.CORE.BUDGET {} RENAME TO {};",(0,l.M)(e),(0,l.M)(t)).toQuery()}let R=e=>{let{inclusiveDateRange:t,timezone:n,serviceType:r,budgetId:u}=e,{lowerBound:d,upperBound:g}=(0,a.A)(t),p=(0,i.f)(t);return new s.L().add("CALL {}!GET_SERVICE_TYPE_USAGE({}, {}, {}, {}, {});",(0,l.M)(u),(0,c.i)(r),(0,c.i)(p),(0,c.i)(n||"UTC"),(0,c.i)((0,o.c)(d)),(0,c.i)((0,o.c)(g))).toQuery()},T=e=>new s.L().add("CALL {}!get_linked_resources();",(0,l.M)(e)).toQuery(),N=e=>new s.L().add("CALL {}!get_linked_tags();",(0,l.M)(e)).toQuery(),C=e=>new s.L().add("CALL {}!get_activation_date();",(0,l.M)(e)).toQuery(),A=(e,t)=>{if(t.type===r.M.TAG){let{tagName:n,tagValue:r}=(0,d.Q)(t);return new s.L().add("CALL {}!ADD_TAG((SELECT SYSTEM$REFERENCE('TAG', {}, 'SESSION', 'APPLYBUDGET')), {});",(0,l.M)(e),(0,c.i)(n),(0,c.i)(r)).toQuery()}let n=t.type===r.M.APPLICATION?r.M.DATABASE:t.type;return new s.L().add("CALL {}!ADD_RESOURCE(SELECT SYSTEM$REFERENCE({}, '{}', 'SESSION', 'APPLYBUDGET'));",(0,l.M)(e),(0,c.i)(n),(0,l.M)(t)).toQuery()},L=(e,t)=>{if(t.type===r.M.TAG){let{tagName:n,tagValue:r}=(0,d.Q)(t);return new s.L().add("CALL {}!REMOVE_TAG((SELECT SYSTEM$REFERENCE('TAG', {}, 'SESSION', 'APPLYBUDGET')), {});",(0,l.M)(e),(0,c.i)(n),(0,c.i)(r)).toQuery()}let n=t.type===r.M.APPLICATION?r.M.DATABASE:t.type;return new s.L().add("CALL {}!REMOVE_RESOURCE(SELECT SYSTEM$REFERENCE({}, '{}', 'SESSION', 'APPLYBUDGET'));",(0,l.M)(e),(0,c.i)(n),(0,l.M)(t)).toQuery()};function k(e){return new s.L().add("CALL {}!GET_CONFIG();",(0,l.M)(e)).toQuery()}},523930:function(e,t,n){"use strict";n.d(t,{BW:()=>p,CG:()=>f,DS:()=>v,Hb:()=>S,M0:()=>m,Qo:()=>I,Rf:()=>y,Tp:()=>_,U9:()=>N,V1:()=>E,YK:()=>R,cA:()=>T,fd:()=>b,iv:()=>h,oh:()=>C});var r=n(420174),o=n(852043),i=n(620400),a=n(159771),s=n(144237),l=n(370264),u=n(345950),c=n(36534),d=n(113939),g=n(987826);function p(e){return new o.L().add("ALTER {} {} CHECKOUT;",(0,l.T)(e.type),(0,a.M)(e)).toQuery()}function f(e){return new o.L().add("SHOW CHECKOUTS IN {} {};",(0,l.T)(e.type),(0,a.M)(e)).toQuery()}function m(e){return new o.L().add("CALL SYSTEM$SHOW_WAREHOUSES_FOR_FILE_BASED_ENTITY({});",(0,c.i)(e)).toQuery()}function E(e){return new o.L().add("CALL SYSTEM$SHOW_SCHEMAS_IN_ACCOUNT_WITH_CREATE_FILE_BASED_ENTITY({});",(0,c.i)(e)).toQuery()}function h(e){return e.params?function({entityId:e,scheduleName:t,scheduleCronExpression:n,scheduleTimezone:i,warehouse:s,params:l}){return new o.L(`CREATE TASK IDENTIFIER(?) WAREHOUSE={} SCHEDULE={} CONFIG=$$${(0,g.J)([{id:0,key:"params",value:null!=l?l:""}])}$$ AS BEGIN LET PARAMS STRING := SYSTEM$GET_TASK_GRAPH_CONFIG('params')::string; EXECUTE {} {}(:PARAMS); END;`,(0,a.M)({type:r.M.TASK,name:t,database:e.database,schema:e.schema}),(0,c.i)(s),(0,c.i)(`USING CRON ${n} ${null!=i?i:"UTC"}`),(0,d.V)(e.type),(0,a.M)(e)).toQuery()}(e):function({entityId:e,scheduleName:t,scheduleCronExpression:n,scheduleTimezone:i,warehouse:s}){return new o.L("CREATE TASK IDENTIFIER(?) WAREHOUSE={} SCHEDULE={} AS EXECUTE {} {}();",(0,a.M)({type:r.M.TASK,name:t,database:e.database,schema:e.schema}),(0,c.i)(s),(0,c.i)(`USING CRON ${n} ${null!=i?i:"UTC"}`),(0,d.V)(e.type),(0,a.M)(e)).toQuery()}(e)}function v(e){return new o.L().add("ALTER TASK IDENTIFIER(?) RESUME",(0,a.M)(e)).toQuery()}function S(e,{from:t,live:n,versionAlias:r}){let i=new o.L("ALTER {} {} ADD",(0,l.T)(e.type),(0,a.M)(e));return n&&i.add("LIVE"),i.add("VERSION"),r&&!1===/^live$/iu.test(r)&&i.add("{}",(0,c.i)(r)),i.add("FROM {}",null==t||"last"===t?(0,d.V)("LAST"):(0,u.F)(t.gitRepository,t.path)).toQuery()}function _(e){return new o.L("ALTER {} {} COMMIT;",(0,l.T)(e.type),(0,a.M)(e)).toQuery()}function b(e,{username:t,password:n,name:r,email:i,comment:s,secret:d,to:g}){let p=new o.L("ALTER {} {} PUSH",(0,l.T)(e.type),(0,a.M)(e));return g&&p.add("TO {}",(0,u.F)(g.gitRepository,g.path)),d&&p.add("GIT_CREDENTIALS={}",(0,a.M)(d)),t&&p.add("USERNAME={}",(0,c.i)(t)),n&&p.add("PASSWORD={}",(0,c.i)(n)),r&&p.add("NAME={}",(0,c.i)(r)),i&&p.add("EMAIL={}",(0,c.i)(i)),s&&p.add("COMMENT={}",(0,c.i)(s)),p.toQuery()}function I(e,t=!1){let n=new o.L("ALTER {} {} PULL",(0,l.T)(e.type),(0,a.M)(e));return t&&n.add("ENABLE_MANUAL_CONFLICT_RESOLUTION=true"),n.toQuery()}function y({entityId:e,maxRuns:t}){return new o.L().add("CALL SYSTEM$LIST_FILE_BASED_ENTITY_EXECUTIONS({}, {}, {});",(0,c.i)(e.type),(0,c.i)((0,i.m)(e)),(0,s._)(t)).toQuery()}function R({entityId:e,queryId:t}){return new o.L().add("CALL SYSTEM$GET_FILE_BASED_ENTITY_EXECUTION({}, {}, {});",(0,c.i)(e.type),(0,c.i)((0,i.m)(e)),(0,c.i)(t)).toQuery()}function T(e,t){return new o.L(`ALTER {} IDENTIFIER(?) EXECUTE AS ${t}`,(0,l.T)(e.type),(0,a.M)(e)).toQuery()}function N(e,t){return new o.L("ALTER {} IDENTIFIER(?) RENAME TO IDENTIFIER(?)",(0,l.T)(e.type),(0,a.M)(e),(0,a.M)(t)).toQuery()}function C(e,t,n){return new o.L("ALTER {} IDENTIFIER(?) MOVE TO SCHEMA IDENTIFIER(?) GRANT OWNERSHIP TO ROLE IDENTIFIER(?)",(0,l.T)(e.type),(0,a.M)(e),(0,a.M)(t),(0,c.i)(n)).toQuery()}},115228:function(e,t,n){"use strict";n.d(t,{Q:()=>r});let r=e=>{var t;let n=(null==e||null==(t=e.database)?void 0:t.replace("/","."))||"",[r="",o=""]=e.name.split("/");return{tagName:[...n&&[n],r].join("."),tagValue:o}}},360688:function(e,t,n){"use strict";n.d(t,{Y:()=>o});var r,o=((r={}).terse="terse",r.show="show",r.describe="describe",r.grants="grants",r.grants_to="grants_to",r.grants_of="grants_of",r.grantable_privileges="grantable_privileges",r.future_grants="future_grants",r.visible_grants="visible_grants",r.replication_information="replication_information",r.get_ddl="get_ddl",r.bootstrap="bootstrap",r.organization_account_info="organization_account_info",r.external_table="external_table",r.query_result="query_result",r.query_history="query_history",r.query_plan="query_plan",r.user_name="user_name",r.preview="preview",r.inbound_shares="inbound_shares",r.outbound_shares="outbound_shares",r.outbound_share_details="outbound_share_details",r.share_properties="share_properties",r.provider_data_dictionary_shared_object_list="provider_data_dictionary_shared_object_list",r.pwd_change_info="pwd_change_info",r.edition="edition",r.available_databases="available_databases",r.replication="replication",r.available_roles="available_roles",r.mfa="mfa",r.mfa_optin="mfa_optin",r.authorized_actions="authorized_actions",r.metrics="metrics",r.utilization="utilization",r.cluster_utilization="cluster_utilization",r.org_contract_balance="org_contract_balance",r.anaconda_terms="anaconda_terms",r.gov_marketplace_terms="gov_marketplace_terms",r.is_marketplace_terms_accepted="is_marketplace_terms_accepted",r.marketplace_terms="marketplace_terms",r.columns="columns",r.tag_references="tag_references",r.tag_references_internal="tag_references_internal",r.related_listings="related_listings",r.tag_references_all_columns="tag_references_all_columns",r.policy_references="policy_references",r.list_entities_bottomup_check="list_entities_bottomup_check",r.entity_detail="entity_detail",r.by_name_reference="by_name_reference",r.authorized_operations="authorized_operations",r.popularity_scores="popularity_scores",r.listing_popularity_scores="listing_popularity_scores",r.provider_popularity_scores="provider_popularity_scores",r.category_popularity_scores="category_popularity_scores",r.listing_category_mapping="listing_category_mapping",r.database_refresh_history="database_refresh_history",r.imported_databases="imported_databases",r.listing_database_replication_schedules="listing_database_replication_schedules",r.listings_all_private_exchanges="listing_all_private_exchanges",r.private_listings_all_public_exchanges="private_listings_all_public_exchanges",r.listing_target_accounts="listing_target_accounts",r.listing_data_dictionary_provider_featured_objects="listing_data_dictionary_provider_featured_objects",r.available_regions="available_regions",r.listing_data_dictionary_consumer_shared_object_list="listing_data_dictionary_consumer_shared_object_list",r.listing_data_dictionary_consumer_featured_objects="listing_data_dictionary_consumer_featured_objects",r.is_database_imported="is_database_imported",r.mcd_properties="mcd_properties",r.listing_replication_schedules="listing_replication_schedules",r.listing_fulfillment_status="listing_fulfillment_status",r.share_validation_for_fulfillment="share_validation_for_fulfillment",r.compatibility_checker_for_fulfillment="compatibility_checker_for_fulfillment",r.terms_acknowledged="terms_acknowledged",r.is_organization_feature_enabled="is_organization_feature_enabled",r.listing_data_dictionary_consumer_object_details="listing_data_dictionary_consumer_object_details",r.exchange_regions="exchange_regions",r.spending_limit="spending_limit",r.spending_history="spending_history",r.notification_integration="notification_integration",r.notification_email="notification_email",r.show_budgets_in_account="show_budgets_in_account",r.show_budget_details_in_account="show_budget_details_in_account",r.resource_usage="resource_usage",r.get_attached_resources="get_attached_resources",r.activation_date="activation_date",r.get_config="get_config",r.get_linked_tags="get_linked_tags",r.password_policy="password_policy",r.application_instances="application_instances",r.application_metadata="application_metadata",r.owned_objects="owned_objects",r.privileges="privileges",r.references="references",r.versions="versions",r.associated_listings="associated_listings",r.release_directives="release_directives",r.version_manifest="version_manifest",r.application_package_file="application_package_file",r.application_package_validation_for_fulfillment="application_package_validation_for_fulfillment",r.dcr_versions_info="dcr_versions_info",r.application_package_size="application_package_size",r.application_package_available_regions="application_package_available_regions",r.show_in_account="show_in_account",r.show_in_account_limit="show_in_account_limit",r.eligible_objects_for_file_based_entity="eligible_objects_for_file_based_entity",r.contact_references_on_object="contact_references_on_object",r.semantic_view_references="semantic_view_references",r)},362772:function(e,t,n){"use strict";n.d(t,{p:()=>o});var r,o=((r={}).unloaded="unloaded",r.loading="loading",r.loaded="loaded",r.refreshing="refreshing",r.error="error",r)},523311:function(e,t,n){"use strict";n.d(t,{Q:()=>o});var r,o=((r={}).EDIT_APP_PACKAGE="EDIT_APP_PACKAGE",r.RENAME_APP_PACKAGE="RENAME_APP_PACKAGE",r.ADD_VERSION="ADD_VERSION",r.ADD_PATCH_TO_VERSION="ADD_PATCH_TO_VERSION",r.DROP_VERSION="DROP_VERSION",r.SET_RELEASE_DIRECTIVE="SET_RELEASE_DIRECTIVE",r.SET_DEFAULT_RELEASE_DIRECTIVE="SET_DEFAULT_RELEASE_DIRECTIVE",r.UNSET_RELEASE_DIRECTIVE="UNSET_RELEASE_DIRECTIVE",r.MODIFY_RELEASE_DIRECTIVE="MODIFY_RELEASE_DIRECTIVE",r.REGISTER_VERSION="REGISTER_VERSION",r.DEREGISTER_VERSION="DEREGISTER_VERSION",r)},665988:function(e,t,n){"use strict";n.d(t,{X:()=>o});var r,o=((r={}).list="list",r.byid="byid",r.forwardId="forwardid",r)},802417:function(e,t,n){"use strict";n.d(t,{d:()=>o});var r,o=((r={}).EDIT="EDIT",r.PUBLISH="PUBLISH",r.UNPUBLISH="UNPUBLISH",r)},872083:function(e,t,n){"use strict";n.d(t,{j:()=>o});var r=n(665988);function o(e){return(null==e?void 0:e.resultType)===r.X.byid}},91559:function(e,t,n){"use strict";n.d(t,{D:()=>o});var r=n(362772);function o(e){return(null==e?void 0:e.loadState)===r.p.error&&void 0==e.result&&void 0==e.resultType}},857401:function(e,t,n){"use strict";n.d(t,{n:()=>o});var r=n(420174);function o(e){return e.type===r.M.NOTEBOOK||e.type===r.M.STREAMLIT}},514209:function(e,t,n){"use strict";n.d(t,{g:()=>o});var r=n(665988);function o(e){return(null==e?void 0:e.resultType)===r.X.list}},940936:function(e,t,n){"use strict";n.d(t,{M:()=>o});var r=n(362772);function o(e){return(null==e?void 0:e.loadState)===r.p.loading}},426384:function(e,t,n){"use strict";function r(e){return!!(null==e?void 0:e.isRefreshing)}n.d(t,{O:()=>r})},793589:function(e,t,n){"use strict";n.d(t,{l:()=>o});var r,o=((r={}).ADD="ADD",r.REMOVE="REMOVE",r.CLEAR="CLEAR",r)},176150:function(e,t,n){"use strict";n.d(t,{Aw:()=>l,KP:()=>a,gV:()=>s,oI:()=>i});var r=n(847345),o=n(315183);let i=(0,r.createContext)(o.IL),a=()=>(0,r.useContext)(i),s=()=>{let{featureFlags:e}=a().services;return e},l=e=>s().isEnabled(e)},251515:function(e,t,n){"use strict";n.d(t,{i:()=>a});var r=n(411733),o=n(166273),i=n(646525);function a(e,t,n){let a,s=0,l=0,u=0,c=1,{maxRetries:d=20,exponent:g=1.5,interval:p=1,constantRetryTimeInSec:f,maxBackOffIntervalInSec:m=45,shouldPauseOnInactive:E=!0,enableBackOffOnPollingFailures:h=!1,maxPollingFailuresBeforeBackOff:v=5,enforceMaxRetryOnConsecutivePollFailures:S=!1}=n||{},_=null==n?void 0:n.customBackOffTimer,b=e,I=i.G.IDLE,y={[i.z.STOP]:[]},R=()=>"hidden"===document.visibilityState&&I===i.G.RETRYING?void D(i.z.PAUSE):"visible"===document.visibilityState&&I===i.G.PAUSED?void D(i.z.RESTART):void 0,T=()=>{E&&document.removeEventListener("visibilitychange",R,!1)},N=0,C=()=>{clearTimeout(s),c=1,s=0,l=0,N=0,a=void 0},A=()=>{let e=c>d&&!f||N>d&&S;y[i.z.STOP].forEach(t=>t(e,a))},L=e=>{let t=e;if(_){let t=Math.max(u,_(e,c,N,n));return u=0,t}!f||f&&N>=v?(t+=Number(Math.pow(p*g,h?N:c).toFixed(2)),t=Math.min(t,m)):t=f;let o=u>t?u:t;return u>0&&r.cM.info(`Retriable backoff set: ${o} ${new Date}`),u=0,o},k=async()=>{if(I===i.G.RETRYING){if((null==t?void 0:t.isUserIdle())&&E){r.cM.info("Retriable User idle. Skipping retry"),l||(l=L(l)),s=window.setTimeout(k,1e3*l);return}if(c>d&&!f)return r.cM.info("Retriable Max retries reached. Stopping retries"),O(i.G.IDLE);try{await b(),N=0,a=void 0}catch(e){r.cM.error(Error(`Retriable Async function execution failed with: ${e}`)),e instanceof o.M&&(u=e.retryAfterMs/1e3,r.cM.info(`Retriable Have Http429, setting "minBackoffTimeFrom429" to ${u} ${new Date}`)),N+=1,a=e}if(S&&N>d)return r.cM.info("Retriable Max retries reached. Stopping retries"),O(i.G.IDLE);I===i.G.RETRYING&&(c+=1,l=L(l),s=window.setTimeout(k,1e3*l))}},w={[i.G.IDLE]:{[i.G.RETRYING]:{action:[k,()=>{E&&document.addEventListener("visibilitychange",R,!1)}]}},[i.G.PAUSED]:{[i.G.IDLE]:{action:[A,C,T]},[i.G.RETRYING]:{action:k}},[i.G.RETRYING]:{[i.G.IDLE]:{action:[A,C,T]},[i.G.PAUSED]:{action:()=>clearTimeout(s)}}},O=e=>{if(w[I][e]){let t=w[I][e];I=e,t&&("function"==typeof t.action&&t.action(),Array.isArray(t.action)&&t.action.map(e=>e()))}},D=(e,t)=>{switch(e){case i.z.RESTART:O(i.G.IDLE),O(i.G.RETRYING);break;case i.z.STOP:O(i.G.IDLE);break;case i.z.START:O(i.G.RETRYING);break;case i.z.PAUSE:O(i.G.PAUSED);break;case i.z.RESET:{let e=I;O(i.G.IDLE);let{asyncFunction:n,retriableOptions:r}=t||{};n&&(b=n),r&&(d=r.maxRetries||d,g=r.exponent||g,p=r.interval||p,f=r.constantRetryTimeInSec||f,m=r.maxBackOffIntervalInSec||m,E=r.shouldPauseOnInactive||E,h=r.enableBackOffOnPollingFailures||h,v=r.maxPollingFailuresBeforeBackOff||v,S=r.enforceMaxRetryOnConsecutivePollFailures||S),O(e)}break;default:throw`Unrecognized event: ${e}`}};return{start:()=>D(i.z.START),stop:()=>D(i.z.STOP),restart:()=>D(i.z.RESTART),reset:e=>D(i.z.RESET,e),currentState:()=>I,onStop:e=>(y[i.z.STOP].includes(e)||y[i.z.STOP].push(e),()=>{let t=y[i.z.STOP].indexOf(e);-1!==t&&y[i.z.STOP].splice(t,1)})}}},646525:function(e,t,n){"use strict";n.d(t,{G:()=>a,z:()=>i});var r,o,i=((r={}).START="START",r.STOP="STOP",r.RESTART="RESTART",r.RESET="RESET",r.PAUSE="PAUSE",r),a=((o={}).IDLE="IDLE",o.RETRYING="RETRYING",o.PAUSED="PAUSED",o)},936378:function(e,t,n){"use strict";n.d(t,{i:()=>r.i});var r=n(251515)},686762:function(e,t,n){"use strict";n.d(t,{IG:()=>p,cf:()=>g,cs:()=>m});var r,o=n(286204),i=n(24149),a=n(70734),s=n(242291),l=n(293572),u=n(586938),c=n(90373),d=n(847345),g=((r={}).WEB_SOCKET_LOGGING="WEB_SOCKET_LOGGING",r.NOTEBOOK_EDIT_LOCK_CHECK="NOTEBOOK_EDIT_LOCK_CHECK",r.NOTEBOOK_EDIT_STATUS_SHORT_POLL="NOTEBOOK_EDIT_STATUS_SHORT_POLL",r);function p(e){return"true"===localStorage.getItem(f(e))}function f(e){return`debug:${e}`}function m({onHide:e}){let t=(0,d.useRef)(null),[n,r]=(0,i._)(f("WEB_SOCKET_LOGGING"),!1),[g,p]=(0,i._)(f("NOTEBOOK_EDIT_LOCK_CHECK"),!1),[m,E]=(0,i._)(f("NOTEBOOK_EDIT_STATUS_SHORT_POLL"),!1);return(0,o.jsxs)(a.Vq,{manuallyShown:!0,causalElement:t,onHide:e,children:[(0,o.jsx)(a.fK,{children:"Debug menu"}),(0,o.jsxs)(a.a7,{children:[(0,o.jsxs)(s.X,{align:"justify",children:[(0,o.jsx)(l._,{htmlFor:"log-web-socket-setting",children:"Log web socket messages"}),(0,o.jsx)(u.r,{id:"log-web-socket-setting",checked:n,onChange:()=>r(!n),value:"1"})]}),(0,o.jsxs)(s.X,{align:"justify",marginTop:12,children:[(0,o.jsx)(l._,{htmlFor:"log-notebook-edit-lock-check",children:"Log notebook concurrent edit check"}),(0,o.jsx)(u.r,{id:"log-notebook-edit-lock-check",checked:g,onChange:()=>p(!g),value:"1"})]}),(0,o.jsxs)(s.X,{align:"justify",verticalAlign:"middle",marginTop:12,children:[(0,o.jsx)(l._,{htmlFor:"log-notebook-edit-lock-poll",children:"Use short poll frequency for notebook edit status (10s)"}),(0,o.jsx)(u.r,{id:"log-notebook-edit-lock-poll",checked:m,onChange:()=>E(!m),value:"1"})]})]}),(0,o.jsx)(a.cN,{children:(0,o.jsx)(c.zx,{use:"primary",onClick:e,children:"Close"})})]})}m.displayName="DebugMenuDialog"},50420:function(e,t,n){"use strict";n.d(t,{Ef:()=>i,Fk:()=>o,GY:()=>r,VD:()=>s,Zl:()=>a});let r="YYYY-MM-DD HH24:MI:SS.FF3 TZHTZM",o="YYYY-MM-DD HH24:MI:SS.FF3",i="YYYY-MM-DD",a="HH24:MI:SS",s=86400},571947:function(e,t,n){"use strict";function r(e){return`${e.format("YYYY-MM-DD")}T00:00:00Z`}n.d(t,{c:()=>r})},360715:function(e,t,n){"use strict";n.d(t,{f:()=>i});var r=n(137435),o=n(359483);let i=(e,t)=>(0,r.d)(e)?"month":(0,o.e)(e)||t?"day":"hour"},123246:function(e,t,n){"use strict";function r(e){let t=e.endDate.clone().add(1,e.unitOfTime);return{lowerBound:e.startDate.clone(),upperBound:t}}n.d(t,{A:()=>r})},137435:function(e,t,n){"use strict";function r({startDate:e,endDate:t}){return t.diff(e,"months",!0)>6}n.d(t,{d:()=>r})},359483:function(e,t,n){"use strict";function r({startDate:e,endDate:t}){return t.diff(e,"days")>7}function o({startDate:e,endDate:t}){return t.diff(e,"days")>0}n.d(t,{e:()=>r,f:()=>o})},372504:function(e,t,n){"use strict";n.d(t,{J:()=>s});var r=n(286204),o=n(173624),i=n(493076),a=n(847345);function s(e,t,{highlightColor:n}={}){let l=function(e){if(e.length<2)return e;let t=e.slice();t.sort((e,t)=>e[0]-t[0]);let n=[t[0]];for(let e=1;e<t.length;e++){let r=t[e],o=n[n.length-1][1];r[0]<=o?n[n.length-1][1]=Math.max(o,r[1]):n.push(r)}return n}(e),u=[],c=0;for(let e=0;e<l.length;e++){let s=l[e];u.push((0,r.jsxs)(a.Fragment,{children:[c!==s[0]&&(0,r.jsx)(o.x,{display:"inline",children:t.substring(c,s[0])}),(0,r.jsx)(o.x,{fontWeight:600,color:n||i.Il.Blue50,display:"inline",children:t.substring(s[0],s[1])})]},e)),c=s[1]}return c!==t.length&&u.push((0,r.jsx)(o.x,{display:"inline",children:t.substring(c)},l.length)),u}},586575:function(e,t,n){"use strict";n.d(t,{l:()=>function e(t,n){return o()(t)?t.map(t=>e(t,n)):a()(t)?l()(c()(t,t=>e(t,n)),(e,t)=>n(t)):t}});var r=n(653101),o=n.n(r),i=n(922967),a=n.n(i),s=n(328446),l=n.n(s),u=n(66172),c=n.n(u)},400229:function(e,t,n){"use strict";n.d(t,{w:()=>u});var r=n(868562),o=n(744758),i=n(654548),a=n(713390),s=n(312954),l=n(978579);function u(e,t,n){let{getFormattedNumericValue:u,dateOutputFormat:c,timeOutputFormat:d,timestampOutputFormat:g,timezone:p}=n||{};return null===e?"null":"date"===t?(0,o.w)(e,{dateFormat:c})||"":(0,s.o)(t)?(0,a.p)(e,{colType:t,timestampFormat:g,timezone:p})||"":"time"===t?(0,i.Q)(e,d)||"":(0,l.h)(t)?(null==u?void 0:u(e))||e:"boolean"===t?(0,r.r)(e):e}},868562:function(e,t,n){"use strict";function r(e){return"0"===e?"FALSE":"1"===e?"TRUE":e}n.d(t,{r:()=>r})},744758:function(e,t,n){"use strict";n.d(t,{w:()=>i});var r=n(109008),o=n(50420);function i(e,t){let{dateFormat:n=o.Ef}=t,i="";try{i=new Date(parseInt(e,10)*o.VD*1e3).toISOString().split("T")[0]}catch(e){}return(0,r.p6)(i,n)}},654548:function(e,t,n){"use strict";n.d(t,{Q:()=>s});var r=n(109008),o=n(378707),i=n.n(o),a=n(50420);function s(e,t){let n=null!=t?t:a.Zl,o=i()(e,"X.SSSSSSSSS").utc().format("HH:mm:ss"),[s,l]=e.split("."),u=`${o}.${void 0===l?"0":l}`;return(0,r.mr)(u,n)}},713390:function(e,t,n){"use strict";n.d(t,{p:()=>a});var r=n(109008),o=n(50420),i=n(642085);function a(e,t){let{colType:n,timestampFormat:a,timezone:s}=t,l=(0,i.e)(e,{colType:n,timezone:s}),u="timestamp_ntz"===n?o.Fk:o.GY;return(0,r.i$)(l,a||u)}},642085:function(e,t,n){"use strict";n.d(t,{e:()=>p});var r=n(411733),o=n(378707),i=n.n(o),a=n(612328),s=n.n(a);let l=e=>{let[t,n]=e.split(".");if(!e.startsWith("-")||void 0===n)return e;let r=Number(s()(n,9,"0"));return r<1e6&&r>0?`${t}.001`:e};var u=n(704629),c=n.n(u);let d=(e,t)=>{let[n,o]=e.split("|"),[i,a]=t.split(".");if(void 0===o&&r.cM.info(`Invalid dateTimeAndTimezone input to getTimestampWithNanoseconds: ${e} value from GS: ${t}`),void 0===a)return o?`${n}.0${o}`:n;{let e=t.startsWith("-")?c()(String((1e9-Number(s()(a,9,"0")))%1e9),9,"0"):a;return`${n}.${e}${o}`}},g=e=>{let t=Math.abs(1440-e),n=c()(Math.floor(t/60).toString(),2,"0"),r=c()(Math.floor(t%60).toString(),2,"0");return e<1440?`-${n}${r}`:`+${n}${r}`},p=(e,t)=>{let{colType:n,timezone:o}=t,a="YYYY-MM-DD HH:mm:ss|Z";if("timestamp_tz"===n){let[t,n]=e.split(" ");if("string"==typeof n){let e=Number(n);if(Number.isNaN(e))r.cM.info(`Invalid timestamp_tz timezone offset: ${n}`);else{let n=`${l(t)} ${g(e)}`;return d(i().parseZone(n,"X.SSSSSSSSS ZZ").format(a),t)}}return d(i()(l(t),"X.SSSSSSSSS").tz(null!=o?o:"UTC").format(a),t)}return"timestamp_ntz"===n?d(i().utc(l(e),"X.SSSSSSSSS").format(a),e):d(i()(l(e),"X.SSSSSSSSS").tz(null!=o?o:"UTC").format(a),e)}},312954:function(e,t,n){"use strict";function r(e){return"date"===e||o(e)}function o(e){return"timestamp_ltz"===e||"timestamp_ntz"===e||"timestamp_tz"===e}n.d(t,{K:()=>r,o:()=>o})},978579:function(e,t,n){"use strict";n.d(t,{h:()=>r});let r=e=>"fixed"===e||"real"===e},981713:function(e,t,n){"use strict";n.d(t,{CZ:()=>f,LU:()=>p,pD:()=>c,q$:()=>d,qv:()=>g,uf:()=>u});var r=n(753427),o=n.n(r),i=n(373945),a=n.n(i);let s=[["",1],["K",1e3],["M",1e6],["B",1e9],["T",1e12]],l=(e=0)=>0===e?"0,0":`0,0.${"0".repeat(e)}`,u=(e,t=1)=>{let n=o()(e)?0:t;return a()(e).format(l(n))};function c(e,t=!1){let n=0;e>=3600&&(n=Math.floor(e/3600));let r="";return n>0&&(r+=String(n),t?(r+=" hour",n>1&&(r+="s")):r+="h"),r}function d(e,t=!1){let n=0;e>=60&&(n=Math.floor(e/60));let r="";return n>0&&(r+=String(n),t?(r+=" minute",n>1&&(r+="s")):r+="m"),r}function g(e){return e>=1e3?p(e/1e3):`${e.toFixed(0)}ms`}function p(e,t=!1,n=!1){let r=e,o=c(r,t);o.length&&(o+=" ");let i=+(r<10);r>=3600&&(r%=3600);let a=d(r,t);return a.length&&(o+=`${a} `),r>=60&&(r%=60),t?(n&&o.length&&(o+="and "),r>=60?o+=`${r.toFixed(i)} second`:Number.isInteger(r)?o+=`${r} second`:o+=`${r.toFixed(i)} second`,r>1&&(o+="s")):o+=`${r.toFixed(i)}s`,o}let f=(e,t,n)=>m(e,t,n,s),m=(e,t,n,r)=>{let o=0,i="";if(e<0)return"";for(let t=r.length-1;t>=0;t--)if(e/r[t][1]>=1){i=r[t][0],o=r[t][1];break}0===o&&(o=1);let a=u(e/(o||1),t)+i;return n&&1!==o?`${a} (${u(e,t)})`:a}},935426:function(e,t,n){"use strict";n.d(t,{c:()=>a});var r=n(420174),o=n(159771),i=n(370264);function a(e,t){if(t.type===r.M.EXTERNAL_TABLE)e.add("{} IDENTIFIER(?)",(0,i.T)(r.M.TABLE),(0,o.M)(t));else if(t.type===r.M.ML_MODEL_VERSION){let n={database:t.database,schema:t.schema,name:t.module,type:r.M.ML_MODEL};e.add("MODEL IDENTIFIER (?) MODIFY VERSION {}",(0,o.M)(n),{bindingsJSONRepr:t.name,inlineRepr:t.name})}else e.addFullyQualifiedIdentifier(t)}},524225:function(e,t,n){"use strict";n.d(t,{J:()=>i});var r=n(851678),o=n(19318);function i(e,t){let n=(0,r.v)(e);if(7!==n.length)throw Error(`Invalid identifier: '${e}'`);let i=n[1],a=n[3],s=n[5];return{type:t,database:(0,o.b)(i),schema:(0,o.b)(a),name:(0,o.b)(s)}}},170656:function(e,t,n){"use strict";n.d(t,{m:()=>i});let r=/(\([^\(\)]+\))\s*RETURN/u,o=/(\(.+\))\s*/u;function i(e){if(!e)return"";let t=e.match(r),n=e.match(o);return t&&t.length>1?t[1]:n&&n.length>1?function(e){let t=e;if(!t)return"";let n=t.indexOf(" RETURN");if(-1===n&&(n=t.length),-1===(n=(t=t.slice(0,n)).lastIndexOf(")"))||-1===(n=t.lastIndexOf(")")))return"()";let r=n-1,o=1;for(;r>=0&&o>0;)")"===t[r]?o+=1:"("===t[r]&&(o-=1),r-=1;return 0!==o?"()":t.slice(r+1,n+1)||"()"}(e):"()"}},996913:function(e,t,n){"use strict";n.d(t,{L:()=>o});var r=n(170656);function o(e){if(!e)return{name:"",args:""};let t=(0,r.m)(e),n=e.indexOf(t);return -1===n?{name:e,args:"()"}:{args:t,name:e.slice(0,n)}}},569867:function(e,t,n){"use strict";function r(e,t){return"prefix"===t?`${e}%`:"substring"===t?`%${e}%`:e}n.d(t,{b:()=>r})},257213:function(e,t,n){"use strict";n.d(t,{M:()=>a});var r=n(852043),o=n(935426),i=n(159771);function a(e,t,n){let a=new r.L("alter");return(0,o.c)(a,e),a.add("rename to IDENTIFIER(?)",(0,i.M)({...e,name:t})),void 0!==n&&a.add("save_old_url = "+n),a.toQuery()}},620745:function(e,t,n){"use strict";n.d(t,{$:()=>i});var r=n(903542),o=n(154079);function i(e){let{database:t,schema:n,name:i}=e;return[t,n,i].map(e=>(0,o.v)((0,r.H)(e))).join(".")}},142471:function(e,t,n){"use strict";function r(e){return e.replace(/([%\\])/g,"_")}n.d(t,{S:()=>r})},851678:function(e,t,n){"use strict";function r(e){return e.split(/((?:[^."]|"(?:[^"]|"")*")+)/u)}n.d(t,{v:()=>r})},940470:function(e,t,n){"use strict";n.d(t,{Q:()=>s,e:()=>a});var r=n(991658),o=n(76954);let i=/[A-Za-z0-9$_]/u;class a{unquotedName(){let e="";for(;this.lexer.hasNext()&&i.test(this.lexer.peek());)e+=this.lexer.next();if(!(0,o.SD)(e))throw Error(`'${this.input}': Invalid unquoted identifier '${e}'`);return e.toUpperCase()}token(e){if(!this.lexer.hasNext())throw Error(`'${this.input}': Unexpected end of input. Expected '${e}'`);let t=this.lexer.next();if(t!==e)throw Error(`'${this.input}': Invalid character '${t}' after '${this.lexer.getReadSoFar()}'. Expected '${e}'`);return t}quotedName(){let e="";for(this.token('"');this.lexer.hasNext();){let t=this.lexer.next();if('"'===t)if('"'===this.lexer.peek())e+=this.lexer.next();else break;else e+=t}return e}maybeQuotedName(){return'"'===this.lexer.peek()?this.quotedName():this.unquotedName()}optionallyFullyQualifiedName(){let e=this.maybeQuotedName();if(this.lexer.hasNext()){this.token(".");let t=this.maybeQuotedName();return this.token("."),{database:e,schema:t,name:this.maybeQuotedName()}}return{name:e}}fullyQualifiedName(){let e=this.maybeQuotedName();this.token(".");let t=this.maybeQuotedName();return this.token("."),{database:e,schema:t,name:this.maybeQuotedName()}}constructor(e){this.input=e,this.lexer=new r.h(e)}}let s=(e,t)=>{let n=new a(e.trim());if(!t)return n.fullyQualifiedName();let r=n.optionallyFullyQualifiedName();return{...t,...r}}},904660:function(e,t,n){"use strict";n.d(t,{D:()=>o});var r=n(903542);function o(e,t){return{inlineRepr:e.map(e=>t?`'${e}'`:`${(0,r.H)(e)}`).join(",")}}},829490:function(e,t,n){"use strict";function r(e){if(!!e!==e)throw Error("Didn't pass a boolean");return{bindingsJSONRepr:e,inlineRepr:String(e)}}n.d(t,{S:()=>r})},274271:function(e,t,n){"use strict";function r(e){if(!/^[A-Za-z0-9_]+(\([0-9, ]+\))?$/u.test(e))throw Error(`String is not a valid datatype: ${e}`);return{inlineRepr:e}}n.d(t,{j:()=>r})},64562:function(e,t,n){"use strict";function r(e){if(!e.match(/^[A-Za-z_][A-Za-z_0-9]*$/))throw Error(`String is not a valid keyword: ${e}`);return{inlineRepr:e}}n.d(t,{e:()=>r})},516415:function(e,t,n){"use strict";function r(e){if(!e.match(/^[A-Za-z_][A-Za-z0-9_ ]*$/))throw Error(`String is not a valid set of keywords: ${e}`);return{inlineRepr:e}}n.d(t,{a:()=>r})},994200:function(e,t,n){"use strict";n.d(t,{I:()=>a});var r=n(569867),o=n(142471),i=n(903542);function a(e,t){let n=(0,r.b)((0,o.S)(e),t);return{bindingsJSONRepr:n,inlineRepr:`'${(0,i.H)(n)}'`}}},144237:function(e,t,n){"use strict";function r(e){if(!Number.isFinite(e))throw Error("Didn't pass a finite number");return{bindingsJSONRepr:e,inlineRepr:String(e)}}n.d(t,{_:()=>r})},468690:function(e,t,n){"use strict";function r(e){return{inlineRepr:e}}n.d(t,{M:()=>r})},28705:function(e,t,n){"use strict";n.d(t,{Q:()=>o});var r=n(620745);function o(e){let t=`'@${(0,r.$)(e)}'`;return{bindingsJSONRepr:t,inlineRepr:t}}},345950:function(e,t,n){"use strict";n.d(t,{F:()=>i});var r=n(903542),o=n(620745);function i(e,t){let n=`'@${(0,o.$)(e)}/${(0,r.H)(t)}'`;return{bindingsJSONRepr:n,inlineRepr:n}}},359248:function(e,t,n){"use strict";n.d(t,{K:()=>o});var r=n(903542);function o(e){return{inlineRepr:e.map(e=>`'${(0,r.H)(e)}'`).join(",")}}},264602:function(e,t,n){"use strict";n.d(t,{t:()=>o});var r=n(154079);let o=e=>{let t=(0,r.v)(e);return{bindingsJSONRepr:t,inlineRepr:t}}},366202:function(e,t,n){"use strict";n.d(t,{Z:()=>o});var r=n(880735);function o(e,t){let n=r.$w(e,t);return{inlineRepr:`$$${n}$$`}}},653546:function(e,t,n){"use strict";n.d(t,{RT:()=>s,Z2:()=>a,ZL:()=>i});var r,o=n(19318),i=((r={}).OnlyWhenFullySurrounding="onlyWhenFullySurrounding",r.WhenAtLeastOnOneSide="whenAtLeastOnOneSide",r);function a(e,t="onlyWhenFullySurrounding"){return e?s(e,t):e}function s(e,t="onlyWhenFullySurrounding"){let n,r=(0,o.b)(e);if(e!==r)return r;return n=e,"whenAtLeastOnOneSide"===t&&n?('"'===n.charAt(0)&&(n=n.substr(1,n.length-1)),'"'===n.charAt(n.length-1)&&(n=n.substr(0,n.length-1))):n&&'"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substr(1,n.length-2)),n}},414710:function(e,t,n){"use strict";n.d(t,{U:()=>c});var r=n(947272),o=n(18852),i=n.n(o),a=n(847345),s=n(327898),l=n(799787),u=n(134445);function c(e,t,n,o){var c;let d=a.useContext(u.L),g=(0,l.h)(null==d||null==(c=d.user)?void 0:c.api,"UserStore is not loaded"),p=a.useContext(r.BQ);return(0,a.useMemo)(()=>({executeQuery:(r,a,l,u,c)=>{var d,f,m,E,h,v,S,_,b;return d=g,f=r,m=e,E=n,h=a,v=l,S=u,_=o,b={profiler:p,secondaryRoles:t,...c},(0,s.O)(_,{getCacheKey:()=>{var e;let t={sqlQuery:f,currentRole:m,currentWarehouse:E,description:h,fetchId:v,hideFromQueryHistory:S,secondaryRoles:null==b?void 0:b.secondaryRoles},n=null==b||null==(e=b.requestContext)?void 0:e.userKey;return n&&(t[n]=n),i()(t)},getData:async()=>{var e;let t=null==b||null==(e=b.profiler)?void 0:e.group(`executeSqlQuery:${h}`);null==t||t.addContext("role",m),null==t||t.addContext("warehouse",E),null==t||t.addContext("sqlText",f.sqlText),null==t||t.addContext("pid",null==b?void 0:b.pid);try{return null==t||t.start(),{tableData:await d.query(f,{isInternal:S,role:m,warehouse:E,desc:h,context:null==b?void 0:b.context,requestContext:null==b?void 0:b.requestContext,pid:null==b?void 0:b.pid,secondaryRoles:null==b?void 0:b.secondaryRoles}),timestamp:new Date(Date.now())}}finally{null==t||t.end()}}})}}),[g,o,p,e,t,n])}},992143:function(e,t,n){"use strict";n.d(t,{O:()=>g,l:()=>p});var r=n(792851),o=n(18852),i=n.n(o),a=n(847345),s=n(327898),l=n(595124),u=n(994497),c=n(426172),d=n(101290);let[g,p]=(0,r.Z)(()=>(function(){let e=(0,l.b)(),t=(0,a.useCallback)(async(t,n,r,o=u.U.urc.requestContext())=>{var i;let a=await (0,s.O)(e,{getCacheKey:()=>{var e;return f(t,n,r,null!=(e=o.role)?e:"")},getData:async()=>await (0,c._9)(t,n,r,o)});return e.clearEntry(f(t,n,r,null!=(i=o.role)?i:"")),a},[e]),n=(0,a.useCallback)(async(t,n,r,o,i=u.U.urc.requestContext())=>{let a=await (0,d.u)(t,n,r,o,i);if(a.success){var s;e.clearEntry(f(t,n,r,null!=(s=i.role)?s:""))}return a},[e]);return(0,a.useMemo)(()=>({read:t,write:n}),[t,n])})());function f(e,t,n,r){return i()({role:r,stage:e,path:t,fileName:n})}},735929:function(e,t,n){"use strict";n.d(t,{J:()=>l,R:()=>u});var r=n(700577),o=n(576605),i=n(28705),a=n(626342);let s="/files/download";async function l(e,t,n,i,l){return(0,a.a)()?await function(e,t,n,i={},a){var l,u;let d=r.i._DP_DISABLE_DEFAULT_REQUEST_CONTEXT_FOR_STAGE_FILE_OPERATIONS(),g={body:JSON.stringify({stage:e,filePath:t,role:d?n.role:null!=(l=n.role)?l:"PUBLIC",secondaryRoles:d?n.secondaryRoles:null!=(u=n.secondaryRoles)?u:"ALL"}),method:"POST",headers:{"Content-Type":"application/json",...i,...a&&{Accept:"text/plain"}}};return(0,o.nufetchForm)(s,n,g,"/v1").then(e=>a&&(null==e?void 0:e.textContent)?(c(new Blob([e.textContent],{type:"application/octet-stream"}),a),{}):e)}(e,t,n,i,l):await function(e,t,n,i,a){var l,u,d;let g=r.i._DP_DISABLE_DEFAULT_REQUEST_CONTEXT_FOR_STAGE_FILE_OPERATIONS(),p=new FormData;p.set("stage",e),p.set("relativePath",t),p.set("allowUnencryptedReadWrite","true"),g?n.secondaryRoles&&p.set("secondaryRoles",n.secondaryRoles):p.set("secondaryRoles",null!=(l=n.secondaryRoles)?l:"ALL");let f={method:"POST",body:p,...i?{headers:i}:{}};return a&&(f.headers={...f.headers||{},Accept:"text/plain"}),(0,o.nufetchForm)(s,g?n:{...n,role:null!=(u=n.role)?u:"PUBLIC",secondaryRoles:null!=(d=n.secondaryRoles)?d:"ALL"},f).then(e=>a&&(null==e?void 0:e.textContent)?(c(new Blob([e.textContent],{type:"application/octet-stream"}),a),{}):e)}(e,t,n,i,l)}function u(e){return(0,i.Q)(e).inlineRepr}function c(e,t){let n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t;let o=()=>{setTimeout(()=>{URL.revokeObjectURL(n),r.removeEventListener("click",o)},500)};r.addEventListener("click",o),r.click()}},626342:function(e,t,n){"use strict";n.d(t,{a:()=>o,z:()=>i});var r=n(700577);function o(){return r.i.UI_ENABLE_WAW_DEX_FEATURE_12()}function i(){return r.i.UI_ENABLE_WAW_DEX_FEATURE_13()}},382021:function(e,t,n){"use strict";n.d(t,{L:()=>o});var r=n(409435);function o(e,t){return(0,r.Vo)([e,t],!0)}},409435:function(e,t,n){"use strict";function r(e){return e?e.startsWith("/")?e:`/${e}`:""}function o(e,t=!1){let n=e.map(e=>e?e.replace(/^\/|\/$/gu,""):"").filter(e=>""!==e).join("/");return t?`/${n}`:n}n.d(t,{Vo:()=>o,yx:()=>r})},426172:function(e,t,n){"use strict";n.d(t,{JN:()=>l,_9:()=>s,rU:()=>a});var r=n(994497),o=n(735929),i=n(382021);async function a(e,t,n,s=r.U.urc.requestContext()){let{textContent:l}=await (0,o.J)(e,(0,i.L)(t,n),s,{Accept:"text/plain"});return l}async function s(e,t,n,o=r.U.urc.requestContext()){try{let r=await a(e,t,n,o);return{success:!0,content:r,error:null}}catch(e){if(e instanceof Error)return{success:!1,error:e,content:null};return{success:!1,error:Error("Unknown Error"),content:null}}}async function l(e){let{success:t,error:n,content:r}=await e;if(t)return r;throw n}},101290:function(e,t,n){"use strict";n.d(t,{g:()=>l,u:()=>u});var r=n(700577),o=n(576605),i=n(994497),a=n(626342),s=n(409435);async function l(e,t,n,u,c=i.U.urc.requestContext()){var d,g,p;let f=r.i._DP_DISABLE_DEFAULT_REQUEST_CONTEXT_FOR_STAGE_FILE_OPERATIONS(),m=new FormData;if(m.set("stage",e),m.set("path",(0,s.yx)(t)||"/"),c.secondaryRoles&&m.set("secondaryRoles",c.secondaryRoles),(0,a.z)()){m.set("fileName",n),f?c.role&&m.set("role",c.role):m.set("role",null!=(d=c.role)?d:"PUBLIC");let e=new URLSearchParams;m.forEach((t,n)=>{e.append(n,t.toString())});let t=`/files/upload?${e.toString()}`;await (0,o.nufetchForm)(t,f?c:{...c,role:null!=(g=c.role)?g:"PUBLIC"},{method:"POST",body:u,headers:{"Content-Type":"application/octet-stream",Accept:"text/plain"}},"/v1")}else m.set("file",new File([u],n)),await (0,o.nufetchForm)("/files/upload",f?c:{...c,role:null!=(p=c.role)?p:"PUBLIC"},{method:"POST",body:m})}async function u(e,t,n,r,o=i.U.urc.requestContext()){try{return await l(e,t,n,r,o),{success:!0,error:null}}catch(e){if(e instanceof Error)return{success:!1,error:e};return{success:!1,error:Error("Unknown Error")}}}},981053:function(e,t,n){"use strict";n.d(t,{k:()=>i});var r=n(847345),o=n(134445);function i(e){let t=(0,o.m)(["user"]).user;return(0,r.useMemo)(()=>!!t&&t.userRequestContext(e),[t,e])}},947464:function(e,t,n){"use strict";n.d(t,{Z:()=>f});var r=n(411733),o=n(200207),i=n(576605),a=n(667680),s=n(988387),l=n(40897),u=n(255846),c=n(123331),d=n(650824),g=n(941409);async function p(){var e,t;if(null==(t=s.X.stores)||null==(e=t.user)?void 0:e.isGuestUser)return;let n=new l.E,r=new g.s,a=new u.s,p=new d.P(new o.$,n,e=>new c.w(i,e),r,a);await p.restPassthrough("POST","/request/console/bootstrap-data-request",{role:"PUBLIC",isJsonBody:!0,keepAlive:!1},{dataKinds:[]})}let f=new class{watch(e){e.addEventListener("mousemove",this.onGlobalMouseMoveDebounced),e.addEventListener("mousedown",this.onGlobalMouseDownDebounced)}unwatch(e){e.removeEventListener("mousemove",this.onGlobalMouseMoveDebounced),e.removeEventListener("mousedown",this.onGlobalMouseDownDebounced)}registerUserActivityListener(e){this.userActivityListeners.push(e)}unregisterUserActivityListener(e){this.userActivityListeners=this.userActivityListeners.filter(t=>t!==e)}isUserIdle(){return Date.now()-this.lastView.getTime()>6e4}checkForSessionValidity(){this.isStarted&&((async()=>{if("hidden"!==document.visibilityState&&Date.now()-this.lastView.getTime()>6e4){r.cM.info("Tracker: Check","Checking session with bootstrap activity");try{await p()}catch(e){r.cM.error(e,{message:"User session check failed."}),this.isStarted=!1}}})(),this.validityCheckTimer=window.setTimeout(()=>this.checkForSessionValidity(),60001))}startUserSessionValidityCheck(){this.isStarted||(this.isStarted=!0,this.checkForSessionValidity())}stopUserSessionValidityCheck(){this.validityCheckTimer&&clearTimeout(this.validityCheckTimer),this.validityCheckTimer=null,this.isStarted=!1}view(){let e=new Date;this.lastView=e,this.userActivityListeners.forEach(t=>t(e))}constructor(){this.lastView=new Date,this.onGlobalMouseMoveDebounced=(0,a.D)(()=>this.view(),100),this.onGlobalMouseDownDebounced=(0,a.D)(()=>this.view(),100),this.userActivityListeners=[],this.isStarted=!1,this.onVisibilityChange=()=>{this.isStarted&&"visible"===document.visibilityState&&(this.stopUserSessionValidityCheck(),this.startUserSessionValidityCheck())},document.addEventListener("visibilitychange",this.onVisibilityChange)}}},603419:function(e,t,n){"use strict";n.d(t,{fc:()=>l,xK:()=>u,zp:()=>s});var r=n(78633),o=n(847345),i=n(936378),a=n(947464);function s(e,t={}){let{pollingIntervalInSec:n=10,maxBackOffIntervalInSec:r=45,shouldPauseOnInactive:o,enableBackOffOnPollingFailures:l,maxPollingFailuresBeforeBackOff:u}=t;return(0,i.i)(e,a.Z,{maxRetries:1/0,constantRetryTimeInSec:n,maxBackOffIntervalInSec:r,shouldPauseOnInactive:o,enableBackOffOnPollingFailures:l,maxPollingFailuresBeforeBackOff:u})}function l(e,t={}){let[n]=o.useState(s(e,t)),i=(0,r.N)(t);return o.useEffect(()=>{let{pollingIntervalInSec:t=10,maxBackOffIntervalInSec:r=45,shouldPauseOnInactive:o,enableBackOffOnPollingFailures:a,maxPollingFailuresBeforeBackOff:s}=i;n.reset({asyncFunction:e,retriableOptions:{constantRetryTimeInSec:t,maxBackOffIntervalInSec:r,shouldPauseOnInactive:o,enableBackOffOnPollingFailures:a,maxPollingFailuresBeforeBackOff:s}})},[e,i]),o.useEffect(()=>()=>{n.stop()},[n]),n}function u(e,t){let{maxRetries:n,shouldPauseOnInactive:r,enforceMaxRetryOnConsecutivePollFailures:o}=t;return(0,i.i)(e,a.Z,{maxRetries:n,shouldPauseOnInactive:r,enforceMaxRetryOnConsecutivePollFailures:o})}},134445:function(e,t,n){"use strict";n.d(t,{L:()=>s,m:()=>u});var r=n(78633),o=n(491002),i=n(847345),a=n(570096);let s=i.createContext(void 0),l=()=>{};function u(e,t=l,n=a.I){let c=i.useContext(s),d=(0,r.N)(e.reduce((e,t)=>(e[t]=c[t],e),{})),g=(0,r.N)(Object.keys(d).map(e=>d[e])),p=(0,r.N)({...d,untracked:c}),f=i.useCallback((e,n)=>{t(e,p,n)},[t,p]),m=(0,o.N)(),E=i.useCallback((e,t)=>{n(e,t)&&m()},[m,n]);return i.useEffect(()=>(g.forEach(e=>{e.__subscribe(f,E)}),()=>g.forEach(e=>{e.__unsubscribe(f,E)})),[g,f,E]),p}},941409:function(e,t,n){"use strict";n.d(t,{s:()=>r});class r{async receive(e){}addUpdater(e,t,n){}removeUpdater(e,t,n){}}},216300:function(e,t,n){"use strict";n.d(t,{E:()=>s,t:()=>a});var r=n(286204),o=n(847345);let i=(0,o.createContext)({data:null,loading:!1,appViewRequestId:"default-request-id"}),a=({bootstrapResult:e,children:t})=>(0,r.jsx)(i.Provider,{value:e,children:t});a.displayName="StreamlitBootstrapDataProvider";let s=()=>(0,o.useContext)(i)},812859:function(e,t,n){"use strict";n.d(t,{T:()=>l});var r=n(722497),o=n(354908),i=n(636249),a=n(186074),s=n(561298);let l=({error:e,isUserError:t})=>{let n,l,u;if(e instanceof a.Z?n=e.payload:e instanceof s.a||e instanceof Error?n=e.message:"string"==typeof e?n=e:null!=e&&(n="unknown error"),e instanceof o.M){if(l=e.logDetailMessage,!(u=e.externalErrorCause.code)&&e.message){let t=e.message.match(/^(\d+):/u);t&&(u=t[1])}}else e instanceof i.P?u=e.errorCode:e instanceof a.Z?u=e.topic.toString():e instanceof s.a&&(l=e.errors.map(e=>e.message).join(", "));return{error:n,isUserError:t||(0,r.Z)(e),errorDetail:l,errorCode:u}}},246220:function(e,t,n){"use strict";n.d(t,{aR:()=>s,ho:()=>a,ur:()=>i});let r="streamlit-",o=["embed","embed_options","__parentOrigin","__clientVersion"];function i(e){let t=new URLSearchParams;for(let[n,r]of e)!o.includes(n)&&n.length>0&&t.append(n,r);return t}function a({snowsightQueryParams:e,iframeQueryParams:t}){let n=new URLSearchParams;for(let[t,o]of e)t.startsWith(r)||n.append(t,o);for(let[e,o]of i(t))n.append(`${r}${e}`,o);return n}function s(e){let t=new URLSearchParams;for(let[n,o]of e)if(n.startsWith(r)){let e=n.replace(r,"");e.length>0&&t.append(e,o)}return i(t)}},491830:function(e,t,n){"use strict";n.d(t,{Du:()=>s,FF:()=>v,Sz:()=>f,VP:()=>p,VS:()=>c,YT:()=>u,fY:()=>l,fe:()=>d,hk:()=>h,mR:()=>E,s9:()=>m,zL:()=>g});var r=n(852043),o=n(620400),i=n(829490),a=n(36534);function s({fullStreamlitIdentifier:e,isPrivatelink:t}){let n=new r.L().add("CALL SYSTEM$GENERATE_STREAMLIT_URL_FROM_NAME({}",(0,a.i)((0,o.m)(e)));return n.add(", {}",(0,i.S)(t)),n.add(");"),n.toQuery()}function l(e){return new r.L().add("CALL SYSTEM$GENERATE_STREAMLIT_TOKEN({});",(0,a.i)((0,o.m)(e))).toQuery()}function u(e){return new r.L().add("CALL SYSTEM$GET_STREAMLIT_API_TOKEN({});",(0,a.i)((0,o.m)(e))).toQuery()}function c(e,t){return new r.L().add("CALL SYSTEM$GENERATE_STREAMLIT_TOKEN_V2({}, {});",(0,a.i)((0,o.m)(e)),(0,i.S)(t)).toQuery()}function d(e){return new r.L().add("CALL SYSTEM$STREAMLIT_RELOAD({});",(0,a.i)((0,o.m)(e))).toQuery()}function g(e,t){return new r.L().add("CALL SYSTEM$ASSOCIATE_STAGE_WITH_STREAMLIT({}, {});",(0,a.i)((0,o.m)(e)),(0,a.i)((0,o.m)(t))).toQuery()}function p(e){return new r.L().add("CALL SYSTEM$STREAMLIT_RERUN({});",(0,a.i)((0,o.m)(e))).toQuery()}function f(e,t,n={}){return new r.L().add("CALL SYSTEM$LOG_STREAMLIT_TELEMETRY({},{},{});",(0,a.i)(null===e?"":(0,o.m)(e)),(0,a.i)(t),(0,a.i)(JSON.stringify(n))).toQuery()}function m(e,t){return new r.L().add("CALL SYSTEM$LOG_STREAMLIT_TELEMETRY_BATCH({},{});",(0,a.i)(null===e?"":(0,o.m)(e)),(0,a.i)(JSON.stringify(t))).toQuery()}function E({fullStreamlitIdentifier:e,appViewRequestId:t,isPrivatelink:n,historyQueryId:s}){let l=new r.L().add("CALL SYSTEM$STREAMLIT_BOOTSTRAP({}",(0,a.i)((0,o.m)(e))),u=(0,a.i)(null!=t?t:""),c=[{param:u,couldIgnore:!t},{param:(0,i.S)(n),couldIgnore:!1},{param:(0,a.i)(null!=s?s:""),couldIgnore:!s}];return c.slice(0,c.findLastIndex(e=>!e.couldIgnore)+1).forEach(e=>l.add(", {}",e.param)),l.add(");"),l.toQuery()}function h(e){return new r.L().add("CALL SYSTEM$STREAMLIT_BOOTSTRAP_STARTUP_STATUS({});",(0,a.i)((0,o.m)(e))).toQuery()}function v({srcStreamlitIdentifier:e,newStreamlitName:t,newStreamlitTitle:n}){return new r.L().add("CALL SYSTEM$DUPLICATE_STREAMLIT_WITHOUT_EMBEDDED_STAGE({}, {}, {});",(0,a.i)((0,o.m)(e)),(0,a.i)(t),(0,a.i)(n)).toQuery()}},750512:function(e,t,n){"use strict";n.d(t,{$g:()=>u,AU:()=>v,EX:()=>b,JI:()=>S,MI:()=>c,TW:()=>N,Ui:()=>l,Wh:()=>_,_t:()=>d,bH:()=>a,c:()=>i,cI:()=>C,cQ:()=>g,dr:()=>R,fY:()=>T,gN:()=>p,jU:()=>h,kL:()=>E,lU:()=>y,qK:()=>I,sB:()=>m,uy:()=>s,w:()=>A,wd:()=>f,x3:()=>o});var r=n(700577);function o(){return r.i.UI_ENABLE_STREAMLIT_EMBEDDED_STAGES()}function i(){return r.i.ENABLE_STREAMLIT_VERSIONED_STAGE()}function a(){return r.i.FEATURE_UI_ENABLE_STREAMLIT_SCHEDULING()}function s(){return r.i.UI_ENABLE_STREAMLIT_DEBUG_CONSOLE_LOGGING_FOR_TESTING()}function l(){return r.i.UI_ENABLE_STREAMLIT_SUPPRESS_WEBSOCKET_HEARTBEATS()}function u(){return r.i.UI_ENABLE_STREAMLIT_DEBUG_FATAL_EXCEPTION_OVERRIDE_FOR_TESTING()}function c(){return r.i.UI_ENABLE_STREAMLIT_ON_SPCS()}function d(){return r.i.UI_ENABLE_STREAMLIT_PREAMBLE_CSP_VIOLATION_DETECTION()}function g(){return r.i.UI_ENABLE_STREAMLIT_PREAMBLE_SERVICE_WORKER()}function p(){return r.i.UI_ENABLE_STREAMLIT_BATCH_TELEMETRY_ENDPOINT()}function f(){return r.i.UI_ENABLE_STREAMLIT_PIPE_TELEMETRY_TO_BATCH_ENDPOINT()}function m(){return r.i.STREAMLIT_BATCH_TELEMETRY_QUEUE_THROTTLE_IN_MS()}function E(){return r.i.UI_ENABLE_STREAMLIT_INDIVIDUAL_LOAD_METRICS()}function h(){return r.i.ENABLE_STREAMLIT_SPCS_RUNTIME_V2()}function v(){return r.i.UI_ENABLE_STREAMLIT_DISPLAY_SPCS_DETAILED_LOAD_SEQUENCE()}function S(){return r.i.UI_ENABLE_STREAMLIT_RESTRICTED_CALLERS_RIGHTS()}function _(){return r.i.FEATURE_COPILOT_STREAMLIT()}function b(){return r.i.UI_ENABLE_STREAMLIT_APP_STATE_MACHINE()}function I(){return r.i._DP_UI_ENABLE_STREAMLIT_LIST_VIEW_RUNTIME_STATUS_COLUMN()}function y(){return r.i.UI_ENABLE_CHROMELESS_SIS_APPS()}function R(){return r.i._DP_UI_ENABLE_STREAMLIT_WEBSOCKET_HEALTHCHECK()}function T(){return r.i._DP_UI_ENABLE_STREAMLIT_WEBSOCKET_HEALTHCHECK_SHADOW_MODE()}function N(){return r.i._DP_UI_ENABLE_STREAMLIT_CACHE_IFRAME_URL()}function C(){return r.i._DP_UI_ENABLE_STREAMLIT_CACHE_BOOTSTRAP_DATA()}function A(){return r.i._DP_UI_ENABLE_STREAMLIT_PROMPT_INPUT()}},60178:function(e,t,n){"use strict";n.d(t,{Y:()=>p,t:()=>g});var r=n(869677),o=n(700577),i=n(411733),a=n(847345),s=n(988554),l=n(799787),u=n(134445),c=n(491830),d=n(92766);let g=640;function p(){var e;let t=o.i._DP_UI_ENABLE_STREAMLIT_WEBSOCKET_TELEMETRY(),{dataDiscoverRole:n,secondaryRoles:p}=(0,s.j)(),f="log-streamlit-batch-telemetry",m=(0,a.useContext)(u.L),E=(0,l.h)(null==m||null==(e=m.user)?void 0:e.api,"UserStore is not loaded");return t&&d.WD.forEach(e=>d.kD.add(e)),(0,a.useCallback)(async({events:e,fullStreamlitIdentifier:t})=>{let o=e.filter(e=>d.kD.has(e.eventName));if(0===o.length)return;let a=Date.now();for(let e=0;e<o.length;e+=g){let s=function(e,t,n){let r={};for(let a of e){var o,i;let{eventName:e,additionalParams:s={},componentName:l}=a,u={clientTimeStamp:null!=(o=s.clientTimeStamp)?o:n,...s,componentName:l,isPrivateLink:t()},c=null!=(i=r[e])?i:[];c.push(u),r[e]=c}return r}(o.slice(e,e+g),r.Y,a),l=(0,c.s9)(t,s);try{await E.query(l,{isInternal:!0,role:n,secondaryRoles:p,desc:f})}catch(e){i.cM.error(e)}}},[E,n,p,f])}},92766:function(e,t,n){"use strict";n.d(t,{Qh:()=>E,WD:()=>f,kD:()=>m});var r=n(869677),o=n(700577),i=n(411733),a=n(847345),s=n(988554),l=n(799787),u=n(134445),c=n(468804),d=n(491830),g=n(750512),p=n(824950);let f=[c.dO0,c.uYd,c.TV5,c.UfY,c.X9g],m=new Set([c.WmD,c.D3Z,c.w0o,c.SxE,c.Zq6,c.Hqt,c.pwE,c.ESo,c.RKz,c.__d,c.KF8,c.Bpb,c.qnG,c.rKO,c.hn2,c.IeT,c.cT0,c.u9u,c.Vdk,c.wKB,c.Rb3,c.J8b,c.yDA,c.Xrf,c.me3,c.VF4,c.VjJ,c.FSx,c.xJE,c.m2U,c.peE,c.Ao4,c.jym,c.UG5,c.t6j,c.mBZ]);function E(){var e;let t=o.i._DP_UI_ENABLE_STREAMLIT_WEBSOCKET_TELEMETRY(),n=(0,g.gN)(),c=(0,g.wd)()&&n,{dataDiscoverRole:E,secondaryRoles:h}=(0,s.j)(),v="log-streamlit-telemetry",S=(0,a.useContext)(u.L),_=(0,l.h)(null==S||null==(e=S.user)?void 0:e.api,"UserStore is not loaded"),b=(0,p.m)();return t&&f.forEach(e=>m.add(e)),(0,a.useCallback)(e=>{let{fullStreamlitIdentifier:t,componentName:n,eventName:o,additionalParams:a={}}=e;if(!m.has(o))return;if(c&&b){a.clientTimeStamp=Date.now(),b.enqueueItem({...e,additionalParams:a});return}let s={...a,componentName:n,clientTimeStamp:Date.now(),eventType:o,isPrivateLink:(0,r.Y)()},l=(0,d.Sz)(t,o,s);_.query(l,{isInternal:!0,role:E,secondaryRoles:h,desc:v}).catch(e=>{i.cM.error(e)})},[c,b,_,E,h,v])}},878085:function(e,t,n){"use strict";n.d(t,{Z:()=>i});var r=n(847345),o=n(750512);let i=()=>{let e=(0,o.uy)();return{debugLog:(0,r.useCallback)((t,n,...r)=>{e&&console.debug(`[ST_DEBUG][${t}]`,n,...r)},[e])}}},799990:function(e,t,n){"use strict";n.d(t,{H:()=>l,h:()=>s});var r=n(847345),o=n(420174),i=n(524225);let a=r.createContext(""),s=a.Provider,l=e=>{let t=(0,r.useContext)(a),n=e||t;return{entityId:(0,r.useMemo)(()=>(0,i.J)(n,o.M.STREAMLIT),[n]),entityIdStr:n}}},331638:function(e,t,n){"use strict";n.d(t,{A:()=>o});var r=n(239661);function o(e){let t=(0,r.f)({iframeUrl:e,page:void 0});return t?new URL(t).origin:void 0}},239661:function(e,t,n){"use strict";n.d(t,{f:()=>c});var r=n(646588),o=n(847345),i=n(703694),a=n(799787),s=n(952874),l=n(974053),u=n(246220);function c({iframeUrl:e,page:t,rawParams:n=(0,l.s)()}){let{colorScheme:c}=(0,r.ZQ)();return(0,o.useMemo)(()=>{if(!e)return;(0,a.N)(""===new URL(e).search,"Base URL must not contain search parameters");let r=new URL(null!=t?t:"",e.endsWith("/")?e:`${e}/`);r.searchParams.set("embed","true"),r.searchParams.append("embed_options","show_padding"),"dark"===c&&r.searchParams.append("embed_options","dark_theme"),"light"===c&&r.searchParams.append("embed_options","light_theme"),r.searchParams.set("__parentOrigin",window.location.origin),r.searchParams.set("__clientVersion",encodeURIComponent(i.X.clientVersion||""));let o=(0,u.ur)(r.searchParams);for(let[e,t]of((0,a.N)((0,s.r)(o),`Unknown query parameter(s) [${o.toString()}] set on Streamlit iFrame URL.`),(0,u.aR)(n)))r.searchParams.append(e,t);return r.toString()},[e,t,c,n])}},824950:function(e,t,n){"use strict";n.d(t,{m:()=>u});var r=n(847345),o=n(59383),i=n(620400),a=n(134445),s=n(750512),l=n(60178);let u=()=>{var e;let t=(0,l.Y)(),n=(0,r.useCallback)(e=>{let n={};for(let t of e){var r;let e=t.fullStreamlitIdentifier?(0,i.m)(t.fullStreamlitIdentifier):"<none>",o=null!=(r=n[e])?r:[];o.push(t),n[e]=o}for(let e of Object.values(n))t({fullStreamlitIdentifier:e[0].fullStreamlitIdentifier,events:e.map(e=>({componentName:e.componentName,eventName:e.eventName,additionalParams:e.additionalParams}))})},[t]),{analytics:u}=(0,a.m)(["analytics"]),c=u.getStreamlitQueue(),d=null!=(e=(0,s.sB)())?e:5e3,g=(0,s.wd)()?new o._(n,d,l.t):void 0;return c||u.setStreamlitQueue(g),null!=c?c:g}},332287:function(e,t,n){"use strict";n.d(t,{I:()=>o});var r,o=((r={}).loading="loading",r.loaded="loaded",r.suspended="suspended",r)},636249:function(e,t,n){"use strict";n.d(t,{P:()=>r});class r extends Error{}},186074:function(e,t,n){"use strict";n.d(t,{Z:()=>r});class r extends Error{constructor({topic:e,level:t,payload:n}){super(n),this.topic=e,this.level=t,this.payload=n}}},561298:function(e,t,n){"use strict";n.d(t,{a:()=>r});class r extends AggregateError{}},271343:function(e,t,n){"use strict";n.d(t,{e:()=>r});let r={CONNECTED:"CONNECTED",DISCONNECTED_FOREVER:"DISCONNECTED_FOREVER",INITIAL:"INITIAL",PINGING_SERVER:"PINGING_SERVER",CONNECTING:"CONNECTING"}},955407:function(e,t,n){"use strict";function r(e,t){let n=e,r=null;for(;n;){let e=n;if(e.getAttribute&&(r=e.getAttribute(t)))return r;n=n.parentNode}return null}function o(e,t){return r(e,"data-"+t)}function i(e,t){for(;e;){if(t(e))return!0;e=e.parentNode}return!1}function a(){}function s(e){e.preventDefault(),e.stopPropagation()}function l(e){return e.stopPropagation()}function u(e){e.dataTransfer.setData("text/plain",""),d(e)}function c(e){e.preventDefault(),e.dataTransfer.dropEffect="move"}function d(e){if(e.dataTransfer.effectAllowed="move",e.dataTransfer.setDragImage){let t=document.createElement("img");t.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",e.dataTransfer.setDragImage(t,0,0)}}function g(e){for(;e;){if(e.getAttribute&&e.getAttribute("data-is-popover"))return e;e=e.parentNode}}function p(e,t){let n=g(e),r=g(t);return n&&r&&n===r}n.d(t,{DY:()=>i,EI:()=>a,Jf:()=>d,Ob:()=>p,QO:()=>c,UW:()=>l,aC:()=>r,nm:()=>u,qf:()=>s,um:()=>o})},343451:function(e,t,n){"use strict";n.d(t,{C:()=>a,X:()=>s});var r=n(286204),o=n(847345);let i=(0,o.createContext)({}),a=({children:e})=>{let t=o.useRef(),n=(0,o.useMemo)(()=>({getQueryCodeState:t}),[]);return(0,r.jsx)(i.Provider,{value:n,children:e})};a.displayName="QueryCodeProvider";let s=()=>(0,o.useContext)(i)},404229:function(e,t,n){"use strict";n.d(t,{z:()=>u});var r=n(847345),o=n(209268),i=n(403771),a=n(652691),s=n(420174),l=n(221874);let u=e=>{let t=(0,l.h)(),{logEventToSnowflakeAndDatadog:n}=(0,i.z)(),u=sessionStorage.getItem(o.VE);return(0,r.useCallback)(r=>{let{fullIdentifier:o,forceLog:i,...l}=r;switch(e){case s.M.STREAMLIT:t({fullStreamlitIdentifier:o,...l,eventType:l.eventType});break;case s.M.NOTEBOOK:n({component:r.componentName,event:r.eventName,type:r.eventType,data:{...r.additionalTelemetryParams,windowId:u,fullNotebookIdentifier:o}});break;default:throw(0,a.U)(e),Error(`Received call to logFileBasedEntityEvent with unsupported type: ${e}`)}},[n,t,e,u])}},711081:function(e,t,n){"use strict";n.d(t,{_:()=>l});var r=n(700577),o=n(847345),i=n(797325),a=n(800840),s=n(134445);function l(){let e=(0,o.useContext)(a.V1),t=(0,s.m)(["user"]),{formatMessage:n}=(0,i.Z)(),l=r.i.UI_ENABLE_NOTEBOOK_FEATURE_60();return(0,o.useCallback)(async(r,o,i)=>{let a={lastUpdatedUser:t.user.currentUserId,lastUpdatedTime:Date.now()};try{await e.alter(o,r,{comment:JSON.stringify(a)},{secondaryRoles:i,isInternalQuery:l})}catch(e){throw Error(n({id:"Could not refresh last updated information. Error: {message}"},{message:e instanceof Error?e.message:"unknown error"}))}},[n,e,t.user.currentUserId,l])}},306148:function(e,t,n){"use strict";n.d(t,{j:()=>C});var r=n(286204),o=n(628155),i=n(995780),a=n(813673),s=n(314040),l=n(657952),u=n(242291),c=n(222182),d=n(493076),g=n(173624),p=n(887463),f=n(70734),m=n(90373),E=n(874437),h=n(847345),v=n(797325),S=n(354908),_=n(623368),b=n(940591),I=n(261459),y=n(620400),R=n(468804),T=n(194838),N=n(404229);let C=h.memo(({hideLayer:e,sourceEntityIdentifier:t,sourceEntityTitle:n,dialogTitle:C,navigateToNewEntity:A,embeddedStageEnabled:L=!1,versionedStageEnabled:k=!0,openNewEntityButtonText:w,duplicate:O,readyForDuplication:D,entityShared:M,validateName:x,additionalTelemetryParams:U})=>{let{formatMessage:P}=(0,v.Z)(),[$,F]=(0,h.useState)(""),B=(0,h.useRef)(!1),[G,V]=(0,h.useState)(o.Yg.NONE),[j,H]=(0,h.useState)(!1),[W,K]=(0,h.useState)(null),Q=(0,N.z)(t.type),z=(0,h.useRef)(!1),q=(0,h.useRef)(null),Y=(0,b.Z)(t);(0,h.useEffect)(()=>{B.current||F(n?`Copy of ${n}`:"")},[n]);let X=(0,h.useCallback)(e=>{B.current=!0,F(e.target.value)},[]),Z=G!==o.Yg.INVALID&&$&&!j&&D,J=(0,h.useCallback)(async()=>{if(!Z)return;H(!0);let e=null,n=null,r=null,o=!1,a=null,s=(0,y.m)(t);try{(0,_.H$)(T.g3,s),a=await O({newEntityName:$,newEntityTitle:$}),K(a),o=!0}catch(a){var l;let t;n=a instanceof S.M?null==(l=a.externalErrorCause)?void 0:l.code:void 0,r=a instanceof S.M?a.statusCode:void 0,t=n===E.SFDBErrorCode.ALREADY_EXISTS_002002?P({id:"This name is used by another notebook. Try a different name."}):(a instanceof Error?a.message:void 0)||P({id:"Error when duplicating the object. Try again later."}),(0,i.w)({type:"alert",content:t,autoDismiss:!1}),o=!1,e=null==a?void 0:a.message}finally{H(!1);let i=(0,_.Oi)({event:T.g3,markers:[s],isUserE2E:!1}),{duration:l}=(0,_.bR)(T.g3,i);Q({fullIdentifier:t,componentName:R.jNi,eventName:R.LGO,eventType:o?"ui_response_success":"ui_response_error",forceLog:!1,additionalTelemetryParams:{success:o,embeddedStageEnabled:L,versionedStageEnabled:k,error:null!=e?e:void 0,errorStatusCode:null!=r?r:void 0,errorCode:null!=n?n:void 0,hasUserChangedTitle:B.current,runtime:Y?"spcs":"wh",durationMs:l,newEntityIdentifier:o?(0,y.m)(a):void 0,...U}})}},[Z,O,L,P,Y,Q,$,t,k,U]),ee=(0,h.useCallback)(()=>{W&&(e(),A(W))},[e,A,W]),et=(0,h.useMemo)(()=>(0,r.jsx)(a.q,{minHeight:30,paddingTop:4,paddingBottom:4,borderRadius:8,width:"100%"}),[]),en=(0,h.useMemo)(()=>(0,r.jsxs)(s.g,{children:[(0,r.jsx)(l.lt,{layout:"compact",children:(0,r.jsx)(l.MR,{label:P({id:"Name"}),input:{value:$,disabled:j,validation:e=>x?x(e):(0,I.hs)(e,P),onValidationChange:V,onChange:X,spellCheck:!1,autoFocus:!0}})}),M&&(0,r.jsxs)(u.X,{marginTop:16,verticalAlign:"middle",children:[(0,r.jsx)(c.JO,{icon:"warning-triangle",color:d.Q2.iconColor,flexShrink:0,marginRight:8,size:16}),(0,r.jsx)(g.x,{size:"small",display:"inline-flex",verticalAlign:"middle",weight:400,color:d.Il.Gray70,children:P({id:"The duplicated app will not be shared with the same roles."})})]})]}),[M,P,X,j,$,x]),er=(0,h.useMemo)(()=>(0,r.jsxs)(p.s,{align:"center",children:[(0,r.jsx)(c.JO,{flexShrink:0,color:d.Q2.statusSuccessColor,icon:"status-success",height:64,width:64}),(0,r.jsx)(g.x,{size:"default",display:"inline-flex",verticalAlign:"middle",weight:400,marginTop:24,color:d.Q2.primaryTextColor,children:P({id:"Copy of {sourceEntityTitle} created!"},{sourceEntityTitle:n})})]}),[P,n]);(0,h.useEffect)(()=>{z.current||(Q({fullIdentifier:t,componentName:R.jNi,eventName:R.mL4,eventType:"ui_impression",forceLog:!1,additionalTelemetryParams:{embeddedStageEnabled:L,versionedStageEnabled:k}}),z.current=!0)},[L,Q,t,k]);let eo=(0,h.useRef)(null),[ei,ea]=(0,h.useState)("auto");(0,h.useEffect)(()=>{eo.current&&ea(eo.current.scrollHeight)},[W,D]);let es=(0,h.useMemo)(()=>W?{transitionProperty:"height",transitionDuration:"1000ms",transitionTimingFunction:"ease"}:{},[W]);return(0,r.jsxs)(f.Vq,{manuallyShown:!0,onHide:e,causalElement:q,children:[(0,r.jsx)(f.fK,{children:C}),(0,r.jsx)(f.a7,{children:(0,r.jsx)(s.g,{height:ei,...es,ref:eo,children:W?er:D?en:et})}),(0,r.jsxs)(f.cN,{children:[(0,r.jsx)(m.zx,{use:"default",onClick:e,disabled:j,marginRight:8,telemetryComponent:R.jNi,telemetryName:R.c6E,telemetryData:{sourceEntityIdentifier:t,embeddedStageEnabled:L,versionedStageEnabled:k,hasUserChangedTitle:B.current},children:W?P({id:"Close"}):P({id:"Cancel"})}),(0,r.jsx)(m.zx,{use:"primary",onClick:W?ee:J,disabled:!Z,inProgress:j,telemetryComponent:R.jNi,telemetryName:W?R.RVD:R.J9z,telemetryData:{sourceEntityIdentifier:t,newEntityIdentifier:null!=W?W:void 0,embeddedStageEnabled:L,versionedStageEnabled:k,hasUserChangedTitle:B.current},children:W?null!=w?w:P({id:"Open app"}):P({id:"Duplicate"})})]})]})});C.displayName="DuplicateFileBasedEntityDialog"},515562:function(e,t,n){"use strict";n.d(t,{C$:()=>y,Fx:()=>_,Gk:()=>m,Jf:()=>f,Oz:()=>v,XJ:()=>I,qL:()=>b,xe:()=>S});var r,o=n(286204),i=n(396271),a=n(856631),s=n(411733),l=n(550333),u=n.n(l);n(847345);var c=n(645952),d=n(765496),g=n(420174),p=n(981713),f=((r={}).initializingMessage="initializingMessage",r.startingComputePoolMessage="startingComputePoolMessage",r.startingContainerServiceMessage="startingContainerServiceMessage",r.connectingServiceMessage="connectingServiceMessage",r.waitingEndpointMessage="waitingEndpointMessage",r.waitingEndpointMessageStreamlit="waitingEndpointMessageStreamlit",r.runningAppMessage="runningAppMessage",r.runningAppMessageStreamlit="runningAppMessageStreamlit",r.fullComputePoolMessage="fullComputePoolMessage",r.insufficientCapacityErrorMessage="insufficientCapacityErrorMessage",r.generalContainerClientErrorMessage="generalContainerClientErrorMessage",r.unreachableContainerErrorMessage="unreachableContainerErrorMessage",r.generalContainerRunErrorMessage="generalContainerRunErrorMessage",r.reusingExistingServiceMessage="reusingExistingServiceMessage",r.oomWarehouseErrorMessage="oomWarehouseErrorMessage",r.generalWarehouseErrorMessage="generalWarehouseErrorMessage",r.oomContainerErrorMessageWithLink="oomContainerErrorMessageWithLink",r.oomContainerErrorMessageWithoutLink="oomContainerErrorMessageWithoutLink",r.oomStreamlitContainerErrorMessageWithoutLink="oomStreamlitContainerErrorMessageWithoutLink",r.oomStreamlitContainerErrorMessageWithLink="oomStreamlitContainerErrorMessageWithLink",r);let m=e=>{if(!e)return;let t=e.name;if(!(t in f))throw Error(`Unknown FormattedMessageSupplier key: ${t}`);return t},E=(e,t,n)=>({initializingMessage:()=>(0,o.jsx)(c.Z,{id:"Initializing connection and scanning existing service…"}),startingComputePoolMessage:e=>(null==e?void 0:e.duration)?(0,o.jsx)(c.Z,{id:"{duration} \xb7 Starting compute pool. This can take 3–5 minutes…",values:e}):(0,o.jsx)(c.Z,{id:"Starting compute pool. This can take 3–5 minutes…"}),startingContainerServiceMessage:e=>(null==e?void 0:e.duration)?(0,o.jsx)(c.Z,{id:"{duration} \xb7 Starting container service. This can take 3–5 minutes…",values:e}):(0,o.jsx)(c.Z,{id:"Starting container service. This can take 3–5 minutes…"}),connectingServiceMessage:()=>(0,o.jsx)(c.Z,{id:"Connecting to container service…"}),waitingEndpointMessage:()=>(0,o.jsx)(c.Z,{id:"Waiting for notebook endpoint to be ready…"}),waitingEndpointMessageStreamlit:()=>(0,o.jsx)(c.Z,{id:"Waiting for Streamlit endpoint to be ready…"}),runningAppMessage:()=>(0,o.jsx)(c.Z,{id:"Running notebook application…"}),runningAppMessageStreamlit:()=>(0,o.jsx)(c.Z,{id:"Running Streamlit…"}),fullComputePoolMessage:()=>(0,o.jsx)(c.Z,{id:"Couldn’t start session because compute pool is full. Try a different compute pool or contact your admin."}),insufficientCapacityErrorMessage:()=>(0,o.jsx)(c.Z,{id:"Couldn't start session due to insufficient capacity from cloud provider. Try a different compute pool or try again later."}),generalContainerRunErrorMessage:()=>(0,o.jsx)(c.Z,{id:"Couldn't start session due to an issue with Snowpark Container Services: {errorDetail}",values:t}),unreachableContainerErrorMessage:()=>(0,o.jsx)(c.Z,{id:"Session ended due to unreachable container."}),generalContainerClientErrorMessage:()=>(0,o.jsx)(c.Z,{id:"Encountered error with service connection: {errorDetail}",values:t}),reusingExistingServiceMessage:e=>(null==e?void 0:e.duration)?(0,o.jsx)(c.Z,{id:"{duration} \xb7 Trying to reuse existing service. This can take 1–5 minutes…",values:e}):(0,o.jsx)(c.Z,{id:"Trying to reuse existing service. This can take 1–5 minutes…"}),oomWarehouseErrorMessage:()=>(0,o.jsx)(c.Z,{id:"Notebook session ended due to out of memory issue. Try limiting your dataset or use a Snowpark-optimized warehouse."}),generalWarehouseErrorMessage:()=>(0,o.jsx)(c.Z,{id:"Notebook session ended due to error: {errorDetail}",values:t}),oomStreamlitContainerErrorMessageWithoutLink:()=>(0,o.jsx)(c.Z,{id:"Your session had to restart due to an out-of-memory error. For more memory, ask the app owner to select a larger compute pool for this app."}),oomStreamlitContainerErrorMessageWithLink:()=>(0,o.jsx)(c.Z,{id:"Your session had to restart due to an out-of-memory error. For more memory, ask the app owner to select a larger compute pool for this app. <link>Learn more</link>"}),oomContainerErrorMessageWithoutLink:()=>(0,o.jsx)(c.Z,{id:"Your session had to restart due to an out-of-memory error. For more memory, go to your settings and select a larger compute pool."}),oomContainerErrorMessageWithLink:()=>(0,o.jsx)(c.Z,{id:"Your session had to restart due to an out-of-memory error. For more memory, go to your settings and select a larger compute pool. <link>Learn more</link>",values:{link:e=>(0,o.jsx)(a.h,{href:null!=n?n:"",external:!0,color:i.lx.reusableLinkDefault,children:e})}})})[e],h={STARTING_COMPUTE_POOL_INFO_STRING:"Compute pool node(s) are being provisioned",STARTING_SERVICE_INFO_STRING:"Waiting to start",FULL_COMPUTE_POOL_ERROR_SUBSTRING:"Notebook service is unschedulable in full compute pool",INSUFFICIENT_RESOURCES_ERROR_SUBSTRING:"Unschedulable due to insufficient",INSUFFICIENT_CAPACITY_ERROR_SUBSTRING:"Compute pool insufficient capacity error",UNREACHABLE_CONTAINER_ERROR_PREFIX:"UNAVAILABLE:",RUNNING_STRING:"Running",OOM_WAREHOUSE_ERROR_SUBSTRING:"Function available memory exhausted"},v=()=>(0,o.jsx)(c.Z,{id:"Packages updated successfully."}),S=(e,t,n)=>{var r,o,i;switch(e.topic){case 1:return E("initializingMessage");case 2:{let t=e.payload?JSON.parse(e.payload):void 0,n=Object.values(null!=(r=null==t?void 0:t.containers)?r:{}).flat().map(e=>e.message);if(n.includes(h.STARTING_COMPUTE_POOL_INFO_STRING))return E("startingComputePoolMessage");return n.includes(h.STARTING_SERVICE_INFO_STRING)||n.includes(h.RUNNING_STRING)||s.cM.warn(`Unrecognized service status message: ${e.payload}`),E("startingContainerServiceMessage")}case 3:return E("connectingServiceMessage");case 4:if(t===g.M.STREAMLIT)return E("waitingEndpointMessageStreamlit");return E("waitingEndpointMessage");case 5:if(t===g.M.STREAMLIT)return E("runningAppMessageStreamlit");return E("runningAppMessage");case 6:{let t=e.payload;if(null==t?void 0:t.includes(h.FULL_COMPUTE_POOL_ERROR_SUBSTRING))return E("fullComputePoolMessage");if((null==t?void 0:t.includes(h.INSUFFICIENT_CAPACITY_ERROR_SUBSTRING))||(null==t?void 0:t.includes(h.INSUFFICIENT_RESOURCES_ERROR_SUBSTRING)))return E("insufficientCapacityErrorMessage");return E("generalContainerRunErrorMessage",{errorDetail:t})}case 7:{let r=n?n("developer-guide/snowpark-container-services/working-with-compute-pool"):void 0;if("OOM_KILLED"===e.errorReason){if(t===g.M.STREAMLIT)return E(r?"oomStreamlitContainerErrorMessageWithLink":"oomStreamlitContainerErrorMessageWithoutLink",void 0,r);return E(r?"oomContainerErrorMessageWithLink":"oomContainerErrorMessageWithoutLink",void 0,r)}if(null==(o=e.payload)?void 0:o.startsWith(h.UNREACHABLE_CONTAINER_ERROR_PREFIX))return E("unreachableContainerErrorMessage");return E("generalContainerClientErrorMessage",{errorDetail:e.payload})}case 8:return E("reusingExistingServiceMessage");case 101:if(null==(i=e.payload)?void 0:i.includes(h.OOM_WAREHOUSE_ERROR_SUBSTRING))return E("oomWarehouseErrorMessage");return E("generalWarehouseErrorMessage",{errorDetail:e.payload});default:return void s.cM.warn(`Unrecognized lifecycle message topic: ${e.topic}`)}},_=(e,t,n=!1)=>{let r=(null==t?void 0:t.type)==="ReceivedStreamlitLifecycleMsg"?S(t.data,e):void 0,o=m(r),i="startingComputePoolMessage"===o||"startingContainerServiceMessage"===o||"reusingExistingServiceMessage"===o,{elapsedTimeMs:a}=(0,d.a)({epochName:"startingService",callbackFreqMs:i?1e3:null}),s=i?n?(0,p.qv)(a):u().duration(a,"milliseconds").format("h[h] m[m] s[s]",0,{trim:"all"}):void 0;return{displayTextSupplier:r,values:i?{duration:s}:void 0}},b=(e,t,n=!1)=>{let{displayTextSupplier:r,values:o}=_(e,t,n);return null==r?void 0:r(o)},I=e=>(null==e?void 0:e.length)?e.map(e=>e.error).join("\n"):null,y=e=>(null==e?void 0:e.length)?e.map(e=>e.message).join("\n"):null},65150:function(e,t,n){"use strict";n.d(t,{fs:()=>a,gE:()=>i,gK:()=>s,tZ:()=>r,yN:()=>o});let r="ui_click",o="ui_visit",i="ui_keyboard",a="ui_response_success",s="ui_response_error"},522878:function(e,t,n){"use strict";n.d(t,{J:()=>i});var r=n(80127),o=n(700577);function i(){let e=o.i.UI_ENABLE_NOTEBOOK_FEATURE_33();return r.v.addFeatureFlagEvaluation("EnableRunWhileCacheLoading",e),e}},916394:function(e,t,n){"use strict";n.d(t,{S:()=>s});var r=n(847345),o=n(550891),i=n(415422);let a=o.H.cacheFiller;function s(e,t){let n=(0,i.q)(e,(e,t,n)=>{a.debug("New Start Document Cache Load Effect"),e.registerHandler(t.docCacheHandler)}),o=(0,i.q)(e,(e,t,n)=>{a.debug("New End Document Cache Load Effect"),e.unregisterHandler(t.docCacheHandler)}),s=(0,i.q)(e,(e,n,r)=>{a.debug("New Fetch Cache Results called");let o=n.cellIds.map(e=>({cellId:e})),i=0;e.connection.isConnected()&&o&&o.length>0&&(i=1e3*t,e.registerHandler(n.messageHandler),e.sendMessage({previousResults:{warmStart:!1,cellIds:o,allowResultsAfterStart:!0}})),setTimeout(()=>{a.debug("Cells Timedout",{cellIds:n.cellIds}),n.messageHandler.onCancel(n.cellIds,"Timeout")},i)}),l=(0,i.q)(e,(e,t,n)=>{a.debug("New Fetch Cache Results DONE called"),e.unregisterHandler(t.messageHandler)});return(0,r.useMemo)(()=>({newStartDocumentCachedLoad:n,newEndDocumentCachedLoad:o,newFetchCachedResults:s,newFetchCachedResultsDone:l}),[o,s,l,n])}},697056:function(e,t,n){"use strict";n.d(t,{j:()=>a});var r=n(550891),o=n(53722);let i=r.H.cacheFiller,a={NEW_START_DOCUMENT_CACHE_LOAD:function(e,t,n){if(i.debug("NEW_START_DOCUMENT_CACHE_LOAD",{cacheLoadId:t.cacheLoadId}),"pending"===e.cacheStatus)return void i.reportError("unexpected_nested_document_cache_start","Should not get a start documnet cache load in pending",{action:t});e.cacheLoadId=t.cacheLoadId,e.cacheStatus="pending";let{id:r,role:o,secondaryRoles:a}=t;n({type:"newStartDocumentCachedLoad",id:r,role:o,secondaryRoles:a,docCacheHandler:t.docCacheHandler,pageMode:t.pageMode}),e.cacheLoadId=t.cacheLoadId,e.cacheStatus="pending"},NEW_END_DOCUMENT_CACHE_LOAD:function(e,t,n){if(i.debug("NEW_END_DOCUMENT_CACHE_LOAD"),null==t.cacheLoadId||e.cacheLoadId===t.cacheLoadId){e.cacheLoadId=void 0;let r=e.cacheStatus;i.assertOrReport("pending"===e.cacheStatus||"loaded"===e.cacheStatus,"end_document_cache_load_without_pending_cache_status","Running a cache load batch with the cacheStatus in a non-pending state",{cacheStatus:r,cacheLoadId:t.cacheLoadId}),"error"!==r&&(e.cacheStatus="loaded");let{id:o,role:a,secondaryRoles:s}=t;n({type:"newEndDocumentCachedLoad",id:o,role:a,secondaryRoles:s,pageMode:t.pageMode,docCacheHandler:t.docCacheHandler})}},NEW_START_FETCHING_CACHED_RESULT:function(e,t,n){let{id:r,role:o,secondaryRoles:a,cellIds:s}=t;i.debug("NEW_START_FETCHING_CACHED_RESULT",{cellIds:s}),(null==t.cacheLoadId||e.cacheLoadId===t.cacheLoadId)&&s&&s.length>0&&(i.assertOrReport("pending"===e.cacheStatus||"loaded"===e.cacheStatus,"active_batch_without_pending_cache_status","Running a cache load batch with the cacheStatus in a non-pending state",{cacheStatus:e.cacheStatus,cellIds:s,cacheLoadId:t.cacheLoadId}),"pending"!==e.cacheStatus&&"loaded"!==e.cacheStatus?t.messageHandler.onCancel(s,"RunAlreadyHappened"):n({type:"newFetchCachedResults",id:r,role:o,secondaryRoles:a,cellIds:t.cellIds,messageHandler:t.messageHandler,pageMode:t.pageMode,cacheLoadId:t.cacheLoadId}))},NEW_END_FETCHING_CACHED_RESULT:function(e,t,n){let{id:r,role:o,secondaryRoles:a}=t;i.debug("NEW_END_FETCHING_CACHED_RESULT"),n({type:"newFetchCachedResultsDone",id:r,role:o,secondaryRoles:a,messageHandler:t.messageHandler,pageMode:t.pageMode})},NEW_SET_CACHE_RESULTS:function(e,t,n){i.debug("NEW_SET_CACHE_RESULTS",{cellId:t.cellId});let r=e.notebookState;if(!r)return void i.error("No Notebook state when setting cache results");if(null==t.cacheLoadId||e.cacheLoadId===t.cacheLoadId){var a;let{cellId:n,messages:s}=t;i.debug("Updating cache state for cell",{cellId:n});let l=null==(a=e.notebookState)?void 0:a.getCellById(n);if(null==l||"neverRun"!==l.result.status.cellRunStatus)return void i.error("Cell is already updated before the cache result, so ignoring the cache result");if("pending"===e.cacheStatus||"loaded"===e.cacheStatus){let a=r.updateCellResult(n,{message:s});if(null!=t.cellCacheMetadata&&(i.debug("Cell has cellCacheMetadata",{cellId:n,cellCacheMetadata:t.cellCacheMetadata}),a=a.updateCellResult(n,{selfContentHash:t.cellCacheMetadata.selfContentHash,fullContentHash:t.cellCacheMetadata.fullContentHash,runId:t.cellCacheMetadata.runId,parentExecutionId:t.cellCacheMetadata.parentExecutionId,executionId:t.cellCacheMetadata.executionId,tempSelfContentHash:void 0,tempFullContentHash:void 0,tempRunId:void 0,tempParentExecutionId:void 0,tempExecutionId:void 0})),t.queryId){let r=t.messages.some(e=>(0,o.G)(e));e.notebookState=a.updateCellStatus(n,{cellRunStatus:r?"error":"success"})}else e.notebookState=a.updateCellStatus(n,{cellRunStatus:"idle"});i.debug("Updated cache state for cell",{cellId:n})}else i.reportError("active_batch_without_pending_cache_status","Running a cache load batch with the cacheStatus in a non-pending state",{cacheStatus:e.cacheStatus,cellId:n,cacheLoadId:t.cacheLoadId})}}}},731296:function(e,t,n){"use strict";n.d(t,{W:()=>f});var r=n(286204),o=n(847345),i=n(797325),a=n(38362),s=n(620400),l=n(306148),u=n(707764),c=n(754198),d=n(742935),g=n(310887),p=n(53760);let f=o.memo(({hideLayer:e,sourceFullNotebookIdentifier:t,urlData:n,sessionSettings:f})=>{var m;let{formatMessage:E}=(0,i.Z)(),{sourceNotebookDetails:h,duplicate:v,readyForDuplication:S}=(0,u.b)({sourceNotebookId:t,sessionSettings:f}),{pageMode:_}=(0,c.T2)(),b=(0,o.useCallback)(e=>{a.k.navigate({region:n.region,org:n.org,entityIdStr:(0,s.m)(e)})},[n.org,n.region]),I=(0,o.useCallback)(e=>{let t=(0,p.V)(e);return(0,d.t)(t,E)},[E]),y=(0,o.useMemo)(()=>({notebookRuntime:(0,g.e)((null==f?void 0:f.runtimeName)||(null==h?void 0:h.runtimeName)),pageMode:_}),[null==h?void 0:h.runtimeName,null==f?void 0:f.runtimeName,_]);return(0,r.jsx)(l.j,{hideLayer:e,sourceEntityIdentifier:t,sourceEntityTitle:null!=(m=null==h?void 0:h.name)?m:"",dialogTitle:E({id:"Duplicate Notebook"}),openNewEntityButtonText:E({id:"Open notebook"}),readyForDuplication:S,duplicate:v,navigateToNewEntity:b,validateName:I,additionalTelemetryParams:y})});f.displayName="DuplicateNotebookDialog"},980142:function(e,t,n){"use strict";n.d(t,{z:()=>h});var r=n(286204),o=n(70734),i=n(60575),a=n(173624),s=n(493076),l=n(314040),u=n(90373),c=n(529909),d=n(847345),g=n(645952),p=n(800840),f=n(360688),m=n(420174),E=n(940936);let h=({hide:e,fullNotebookIdentifier:t})=>{var n,c;let h=(0,d.useRef)(null),S=(0,p.fo)(),_=S.useGetSkippableNoThrow(t,f.Y.describe),b=(null==_||null==(c=_.result)||null==(n=c.columns[0])?void 0:n.externalAccessIntegrations)||[],[I,y]=S.useHydratedListNoThrow(m.M.EXTERNAL_ACCESS_INTEGRATION,f.Y.show,void 0);if(null==I||(0,E.M)(y)||(0,E.M)(_))return(0,r.jsx)(v,{});let R={};for(let e of I)R[e.name]=e;let T=b.filter(e=>{var t;return!(null==(t=R[e])?void 0:t.enabled)});return(0,r.jsxs)(o.Vq,{manuallyShown:!0,onHide:e,causalElement:h,children:[(0,r.jsx)(o.fK,{children:(0,r.jsx)(g.Z,{id:"Can't start Notebook"})}),(0,r.jsxs)(o.a7,{children:[(0,r.jsx)(i.n,{marginBottom:24,children:(0,r.jsx)(a.x,{color:s.Q2.secondaryTextColor,children:(0,r.jsx)(g.Z,{id:"There was a problem attaching one or more external access integrations to this notebook:"})})}),(0,r.jsx)("ul",{children:T.map(e=>(0,r.jsx)("li",{children:e},e))})]}),(0,r.jsx)(o.cN,{children:(0,r.jsxs)(l.g,{children:[(0,r.jsx)(u.zx,{onClick:e,children:(0,r.jsx)(g.Z,{id:"Close"})}),(0,r.jsx)(u.zx,{use:"primary",onClick:async function(){await S.alter(t,{externalAccessIntegrations:b.filter(e=>!T.includes(e))}),e()},marginLeft:8,children:(0,r.jsx)(g.Z,{id:"Remove unavailable integrations"})})]})})]})};function v(){let e=(0,d.useRef)(null);return(0,r.jsxs)(o.Vq,{manuallyShown:!0,causalElement:e,children:[(0,r.jsx)(o.fK,{}),(0,r.jsx)(o.a7,{display:"flex",justifyContent:"center",alignItems:"center",children:(0,r.jsx)(c.T,{})}),(0,r.jsx)(o.cN,{})]})}h.displayName="NotebookExternalAccessIntegrationErrorDialog",v.displayName="LoadingDialog"},925470:function(e,t,n){"use strict";n.d(t,{T:()=>s,b:()=>a});var r=n(286204),o=n(847345);let i=(0,o.createContext)({triggerDialog:()=>{}}),a=()=>(0,o.useContext)(i);function s({children:e,triggerDialog:t}){let n=(0,o.useMemo)(()=>({triggerDialog:t}),[t]);return(0,r.jsx)(i.Provider,{value:n,children:e})}s.displayName="NotebookPaneShowDialogProvider"},989721:function(e,t,n){"use strict";n.d(t,{Q:()=>i,h:()=>o});var r=n(184547);let o=(e,t)=>{let n={primaryRole:e};if(t===r.Bq||""===t)n.allSelected=!0;else if(t===r.sM)n.noneSelected=!0;else if(t){let e=t.split(",").map(e=>e.trim()).filter(e=>!!e);e.length>0&&(n.selected={role:e})}return n},i=e=>{var t;return e.allSelected?r.Bq:e.noneSelected?r.sM:(null==(t=e.selected)?void 0:t.role)?e.selected.role.join(","):""}},177302:function(e,t,n){"use strict";n.d(t,{k:()=>d});var r=n(700577),o=n(847345),i=n(988554),a=n(255490),s=n(190279),l=n(800840),u=n(134445),c=n(182699);let d=()=>{let{dataDiscoverRole:e,secondaryRoles:t}=(0,i.j)(),n=(0,l.fo)(e,{secondaryRoles:t}),{user:d}=(0,u.m)(["user"]),g=(0,a.U)();return(0,o.useCallback)(async({notebookId:o,sessionSettings:i,pageMode:a})=>{var l;let u=await g(o,e,t),p=d.api.query((0,s.HS)({notebookUrlId:u.urlId,sessionSettingsData:JSON.stringify(i)}),{role:e,secondaryRoles:t,isInternal:!0,desc:"save-notebook-session-settings"}),f="ownerMode"===a?{queryWarehouse:i.queryWarehouse&&i.queryWarehouse!==u.queryWarehouse?i.queryWarehouse:void 0,warehouse:i.codeWarehouse&&i.codeWarehouse!==u.codeWarehouse?i.codeWarehouse:void 0,runtimeName:i.runtimeName&&i.runtimeName!==u.runtimeName?i.runtimeName:void 0,computePool:i.computePool&&i.computePool!==u.computePool?i.computePool:void 0,runtimeEnvironmentVersion:i.runtimeEnvironmentVersion&&i.runtimeEnvironmentVersion.toLowerCase()!==(null==(l=u.runtimeEnvironmentVersion)?void 0:l.toLowerCase())?i.runtimeEnvironmentVersion:void 0,idleAutoShutdownTimeSeconds:i.idleAutoShutdownTimeSeconds&&i.idleAutoShutdownTimeSeconds!==u.idleAutoShutdownTimeSeconds?i.idleAutoShutdownTimeSeconds:void 0,externalAccessIntegrations:i.externalAccessIntegrations&&!(0,c.W)(i.externalAccessIntegrations||[],u.externalAccessIntegrations||[])?i.externalAccessIntegrations:void 0}:{},m=Object.keys(f).some(e=>!!f[e])&&!r.i._DP_UI_NOTEBOOK_UNWIND_SHARING_DPO_SAVE()?n.alter(o,f):Promise.resolve();await Promise.all([p,m])},[e,t,d,g,n])}},481263:function(e,t,n){"use strict";n.d(t,{S:()=>s});var r=n(286204),o=n(70734),i=n(90373),a=n(645952);let s=({hide:e,restart:t})=>(0,r.jsxs)(o.Vq,{manuallyShown:!0,causalElement:{current:null},children:[(0,r.jsx)(o.fK,{children:(0,r.jsx)(a.Z,{id:"Restart required"})}),(0,r.jsx)(o.a7,{children:(0,r.jsx)(a.Z,{id:"Due to a conflict with updated packages, a session restart is required. This will reset any variables you might have created."})}),(0,r.jsxs)(o.cN,{children:[(0,r.jsx)(i.zx,{onClick:e,children:(0,r.jsx)(a.Z,{id:"Not now"})}),(0,r.jsx)(i.zx,{use:"primary",marginLeft:8,onClick:()=>{try{t()}finally{e()}},children:(0,r.jsx)(a.Z,{id:"Restart session"})})]})]});s.displayName="PackageUpdateAlertDialog"},998447:function(e,t,n){"use strict";n.d(t,{c:()=>i});var r=n(286204),o=n(645952);let i=()=>(0,r.jsx)(o.Z,{id:"Can’t start container notebooks using the ACCOUNTADMIN, SECURITYADMIN, or ORGADMIN roles. Switch your role by clicking your profile icon in the left navigation menu, and then try again."})},664063:function(e,t,n){"use strict";n.d(t,{J:()=>i});var r=n(286204),o=n(645952);function i(e){switch(e){case"valid":return null;case"empty":return(0,r.jsx)(o.Z,{id:"Missing"});case"tooLong":return(0,r.jsx)(o.Z,{id:"Couldn’t start notebook. Notebook name exceeds maximum length of 255 characters"});case"invalidCharacters":return(0,r.jsx)(o.Z,{id:"Couldn’t start notebook. Notebook name can only include letters, numbers, spaces, underscores, -, $, and :"})}}},222683:function(e,t,n){"use strict";n.d(t,{n:()=>i});var r=n(286204),o=n(645952);let i=()=>(0,r.jsx)(o.Z,{id:"Kernel restarted. Your notebook is ready to run."})},691352:function(e,t,n){"use strict";n.d(t,{e:()=>i});var r=n(184547),o=n(304241);function i(e){let t=(0,o.h)(e),n=e===r.GF,i=e===r.rJ;return t||n||i}},298448:function(e,t,n){"use strict";n.d(t,{E:()=>c,U:()=>u});var r=n(286204),o=n(792851),i=n(847345);let[a,s]=(0,o.Z)(function(){let[e,t]=(0,i.useState)(null),n=(0,i.useCallback)(e=>{t(e)},[]),r=(0,i.useCallback)(()=>{t(null)},[]);return(0,i.useMemo)(()=>({openDialog:n,dialog:e,hideDialog:r}),[n,e,r])});function l(){let{dialog:e}=s();return(0,r.jsx)(r.Fragment,{children:e})}function u({children:e}){return(0,r.jsxs)(a,{children:[(0,r.jsx)(l,{}),e]})}function c(){let{openDialog:e,hideDialog:t}=s();return{openDialog:e,hideDialog:t}}l.displayName="Dialog",u.displayName="NotebookDialogProvider"},896909:function(e,t,n){"use strict";n.d(t,{$:()=>r});let r=4},12935:function(e,t,n){"use strict";n.d(t,{K7:()=>i,Q8:()=>o,hj:()=>r});let r=604800,o=15,i=3600},547709:function(e,t,n){"use strict";n.d(t,{L:()=>h});var r=n(463198),o=n(700577),i=n(797325),a=n(988554),s=n(443547),l=n(255490),u=n(616014),c=n(126020),d=n(799787),g=n(606765),p=n(620400),f=n(679239),m=n(216591);let E=()=>{let e=(0,f.KP)(),t=(0,m.N)();return(0,r.z)(async n=>{try{return await e(n)}catch(e){if(e.message.match(/failed paddingTrim/iu))return console.error(e),t.logError({notebookIdentifier:(0,p.m)(n.id),error:"failed paddingTrim"}),Promise.resolve("");throw e}})},h=()=>{let e=(0,l.U)(),t=(0,u.h)(),n=(0,c.iA)(),p=E(),{formatMessage:f}=(0,i.Z)(),m=o.i.UI_ENABLE_NOTEBOOK_FEATURE_0(),{dataDiscoverRole:h}=(0,a.j)(),[v]=(0,g.zv)();return(0,r.z)(async(r,o,i)=>{let[a,l]=await Promise.all([e(r,o,i),v({applicationName:r.database,role:h})]),{mainFile:u,lastVersionLocationUri:c}=a,{rootLocation:g,kind:E,isLive:S}=(0,s.R)(a);if(!l.isError&&!0===l.data)return p({id:r,rootLocation:c,mainFile:u,throwRawError:m});if("checkouts"===E)return await t({id:r,role:o,secondaryRoles:i}),p({id:r,rootLocation:g,mainFile:u,throwRawError:m});if("versioned"===E){if(S)return p({id:r,rootLocation:g,mainFile:u,throwRawError:m});let e=await n({id:r,role:o,secondaryRoles:i});return p({id:r,rootLocation:(0,d.h)(e.liveVersionLocationUri,f({id:"Live version could not be created."})),mainFile:u,throwRawError:m})}throw Error(f({id:"Could not fetch notebook. Invalid or unsupported notebook location."}))})}},457632:function(e,t,n){"use strict";n.d(t,{l:()=>g});var r=n(700577),o=n(847345),i=n(988554),a=n(288579),s=n(583700),l=n(134445),u=n(691352),c=n(7163),d=n(913984);let g=()=>{let{dataDiscoverRole:e,secondaryRoles:t}=(0,i.j)(),n=(0,l.m)([]).untracked.user,g=r.i.UI_ENABLE_NOTEBOOK_DISABLED_SPCS_EXPERIENCE_FOR_ADMINS(),p=(0,c.U)();return(0,o.useCallback)(async r=>{let o=await p(r,e,t),i=!o.runtimeName||o.runtimeName===s.U,l=(0,u.e)(e);if(g&&!i&&l)return{additionalProtoParams:[],activeInstanceJobId:null,activeNotebookInstancesNum:0,additionalMetadata:{}};let c=await (0,d.jX)({userStore:n,fullNotebookIdentifier:r,role:e,secondaryRoles:t});return(0,a.F)({runningInstances:c,isWarehouseRuntime:i})},[e,t,n,p,g])}},607860:function(e,t,n){"use strict";n.d(t,{M:()=>l});var r=n(700577),o=n(847345),i=n(134445),a=n(467975),s=n(216591);function l(){let{user:e}=(0,i.m)(["user"]),t=(0,s.N)(),n=r.i.UI_ENABLE_NOTEBOOK_FEATURE_44();return(0,o.useCallback)(async({id:r,role:o,secondaryRoles:i})=>await (0,a.n)({deleteAllRunningNotebookInstances:n,userStore:e,id:r,role:o,secondaryRoles:i,logNotebookEvent:t.logNotebookEvent}),[n,e,t.logNotebookEvent])}},707764:function(e,t,n){"use strict";n.d(t,{b:()=>c});var r=n(700577),o=n(847345),i=n(960058),a=n(343983),s=n(583700),l=n(474522),u=n(62678);let c=({sourceNotebookId:e,sessionSettings:t})=>{let n=r.i.UI_ENABLE_NOTEBOOKS_WH_PYTHON_ENVIRONMENT(),c=!!(0,u.C)(e),d=(0,o.useCallback)(e=>{var r,o,i,l;let u=(null!=(r=null==t?void 0:t.runtimeName)?r:e.runtimeName)||s.U;return{runtimeName:u,queryWarehouse:(null!=(o=null==t?void 0:t.queryWarehouse)?o:e.queryWarehouse)||void 0,warehouse:(null!=(i=null==t?void 0:t.codeWarehouse)?i:e.codeWarehouse)||void 0,...(0,a.V)(n&&!c&&(!!e.runtimeEnvironmentVersion||!!(null==t?void 0:t.runtimeEnvironmentVersion)),{runtimeEnvironmentVersion:(null==t?void 0:t.runtimeEnvironmentVersion)||e.runtimeEnvironmentVersion||void 0}),computePool:u===s.U?void 0:(null!=(l=null==t?void 0:t.computePool)?l:e.computePool)||void 0}},[n,c,t]),{sourceEntityDetails:g,duplicate:p,readyForDuplication:f}=(0,i.z)(e),m=(0,o.useCallback)(async e=>{var t,n;let r=null!=(n=null==e?void 0:e.newEntityName)?n:`Copy of ${null!=(t=null==g?void 0:g.name)?t:""}`,o=(0,l._t)(r);return await p({newEntityName:o,getAdditionalProps:d})},[p,null==g?void 0:g.name,d]);return{sourceNotebookDetails:g,duplicate:m,readyForDuplication:f}}},45186:function(e,t,n){"use strict";n.d(t,{P:()=>a});var r=n(847345),o=n(190279),i=n(134445);let a=()=>{let{user:e}=(0,i.m)(["user"]);return(0,r.useCallback)(async({id:t,queryId:n,role:r,secondaryRoles:i,isHistoryQueryResultEnabled:a})=>(await e.api.query((0,o.Zl)({fullNotebookIdentifier:t,queryId:a?n:void 0}),{isInternal:!0,role:r,secondaryRoles:i,desc:"generate-notebook-token"})).rows[0][0],[e.api])}},188081:function(e,t,n){"use strict";n.d(t,{W:()=>a});var r=n(847345),o=n(190279),i=n(134445);let a=()=>{let{user:e}=(0,i.m)(["user"]);return(0,r.useCallback)(async({id:t,role:n,secondaryRoles:r,isPrivatelink:i})=>{let a=await e.api.query((0,o.eO)({fullNotebookIdentifier:t,isAccountUsingPrivateLink:i}),(0,o.wZ)(n,r));return(0,o.Te)(a.rows[0][0])},[e.api])}},479777:function(e,t,n){"use strict";n.d(t,{X:()=>s,n:()=>l});var r=n(847345),o=n(420174),i=n(524225);let a=r.createContext(""),s=a.Provider,l=e=>{let t=(0,r.useContext)(a);return(0,r.useMemo)(()=>(0,i.J)(e||t,o.M.NOTEBOOK),[e,t])}},62678:function(e,t,n){"use strict";n.d(t,{C:()=>c});var r=n(700577),o=n(51802),i=n(800840),a=n(583700),s=n(360688),l=n(940936),u=n(902960);function c(e){var t,n,c,d,g;let p=(0,i.fo)(),f=r.i.UI_ENABLE_NOTEBOOK_FEATURE_40(),m=(0,o.$)(),{editorState:E}=(0,u.P)();if(m)return!1;if(!f){let t=p.get(e,s.Y.describe);if((0,l.M)(t))return null;let n=null==t||null==(g=t.result)?void 0:g.columns[0];return!!(null==n?void 0:n.runtimeName)&&n.runtimeName!==a.U}return(null==E?void 0:E.notebookRuntime)==="spcs"||!!(null==E||null==(n=E.notebookSessionSettingsState)||null==(t=n.settings)?void 0:t.runtimeName)&&(null==E||null==(d=E.notebookSessionSettingsState)||null==(c=d.settings)?void 0:c.runtimeName)!=="SYSTEM$WAREHOUSE_RUNTIME"}},45103:function(e,t,n){"use strict";n.d(t,{w:()=>o});var r=n(700577);function o(){return r.i.UI_ENABLE_NOTEBOOK_SINGLE_IFRAME()}},902960:function(e,t,n){"use strict";n.d(t,{P:()=>u});var r=n(847345),o=n(988554),i=n(672340),a=n(780131),s=n(479777),l=n(754198);function u(){var e,t;let{dataDiscoverRole:n,secondaryRoles:u}=(0,o.j)(),c=(0,s.n)(),{pageMode:d,pageModeDetails:g}=(0,l.T2)(),{getNotebookEditorState:p,dispatchNotebookEditorStatesMap:f,connectToWebSocket:m,disconnectWebsocket:E,subscribe:h,setHeartbeatPollEndTimeUpdateCallback:v,getWebsocketConnection:S}=(0,a.PW)(),{childFrame:_}=(0,i.KE)()||{},b=(0,r.useCallback)(e=>{var t,r;if(null==_||null==(t=_.snowbooks)?void 0:t.dispatchNotebookEditorState){let t=Object.fromEntries(Object.entries(e).filter(([e,t])=>"function"!=typeof t));_.snowbooks.dispatchNotebookEditorState(t)}else f({id:c,role:n,secondaryRoles:u,queryId:null==g||null==(r=g.historyQueryData)?void 0:r.queryId,pageMode:d,...e})},[f,null==g||null==(e=g.historyQueryData)?void 0:e.queryId,c,n,u,_,d]);return{editorState:p(c,n,u),dispatchNotebookEditorState:b,disconnectWebsocket:(0,r.useCallback)(e=>E(c,n,u,e),[E,c,n,u]),connectToWebSocket:(0,r.useCallback)(e=>{var t;return m({id:c,role:n,secondaryRoles:u,pageMode:d,urlInfo:e,queryId:null==g||null==(t=g.historyQueryData)?void 0:t.queryId})},[m,null==g||null==(t=g.historyQueryData)?void 0:t.queryId,c,n,u,d]),subscribe:h,setHeartbeatPollEndTimeUpdateCallback:v,getWebsocketConnection:(0,r.useCallback)(()=>S(c,n,u),[S,c,n,u])}}},307239:function(e,t,n){"use strict";n.d(t,{U:()=>l});var r=n(847345),o=n(988554),i=n(664983),a=n(190279),s=n(414710);function l(){let e="get-notebook-history-file-url",{dataDiscoverRole:t,secondaryRoles:n}=(0,o.j)(),{executeQuery:l}=(0,s.U)(t,n,""),{fetchId:u}=(0,i.m)(e);return(0,r.useCallback)(async({notebookId:t,historyQueryId:n})=>{var r,o;let i=(0,a.zd)({fullNotebookIdentifier:t,queryId:n}),{tableData:s}=await l(i,e,u,!0);if(null==(o=s.rows)||null==(r=o[0])?void 0:r[0]){let e=JSON.parse(s.rows[0][0]);if(e.content)return e.content}return""},[e,l,u])}},754198:function(e,t,n){"use strict";n.d(t,{T2:()=>a,rB:()=>i});var r=n(847345);let o=(0,r.createContext)({pageMode:null,pageModeDetails:null,ownerRole:""}),i=o.Provider,a=()=>(0,r.useContext)(o)},261389:function(e,t,n){"use strict";n.d(t,{q:()=>v});var r=n(463198),o=n(995780),i=n(700577),a=n(722497),s=n(847345),l=n(134445),u=n(7163),c=n(665127),d=n(316181),g=n(50665),p=n(856369),f=n(428263),m=n(938157);let E=()=>{let e=(0,g.U)(),t=(0,d.L)(),n=i.i.FEATURE_UI_ENABLE_NOTEBOOKS_SCHEDULING();return(0,r.z)(async(r,i)=>{let{id:a,role:s,secondaryRoles:l,queryId:u,pageMode:c}=r;try{let r=u?await e({notebookId:a,historyQueryId:u}):await t(a,s,l);u&&!r&&(r=await t(a,s,l)),i({type:"LOAD_SUCCEEDED",id:a,role:s,secondaryRoles:l,pageMode:c,error:null,result:r,enableSafeCellIdGeneration:n})}catch(e){(0,o.w)({content:e.message,type:"alert",autoDismiss:!1}),i({type:"LOAD_FAILED",id:a,role:s,secondaryRoles:l,error:e,pageMode:c})}})},h=()=>{let e=(0,p.N)(),t=(0,c._)(),n=(0,u.U)(),{localTimeToServerTime:s}=(0,m.h)(),d=i.i.UI_ENABLE_NOTEBOOK_FEATURE_0(),g=(0,f.d)(),E=(0,l.m)(["user"]);return(0,r.z)(async(r,i)=>{var l,u,c,p,f,m,h,v,S;let _,b,{id:I,role:y,secondaryRoles:R,content:T,lastEditStatus:N,isSourceCodeChange:C,lastestNotebookLoadTime:A,currentNotebookViewId:L,pageMode:k}=r,w=T,O="",D="canSave";try{let{urlId:r}=await n(I,y,R);O=r;let{checkStatus:o,lastEditStatusRetrieved:a}=await g({id:I,urlId:r,currentNotebookViewId:L,lastEditStatusInMemory:N,lastestNotebookLoadTime:A});if(D=o,b=null!=a?a:void 0,_=null!=(l=null!=a?a:N)?l:void 0,"canSave"!==D){if(!C)return void i({type:"SAVE_SUCCEEDED",id:I,role:y,secondaryRoles:R,error:null,editStatusToUpdate:b,saveDone:!1,isSourceCodeChange:C,pageMode:k});i({type:"SAVE_FAILED",id:I,role:y,secondaryRoles:R,error:null,editStatusToUpdate:b,isSourceCodeChange:C,saveEligibilityCheckStatus:D,editingUserId:null!=(u=null==_?void 0:_.authorId)?u:"",editingUserName:null!=(c=null==_?void 0:_.authorName)?c:"",editingUserEmail:null==_?void 0:_.authorEmail,lastEditTime:null==_?void 0:_.lastEditTime,pageMode:k});return}if(C){let e=Date.now(),t=s(e);b={notebookId:O,authorId:null!=(m=E.user.currentUserId)?m:"",authorName:null!=(h=null==(p=E.user.currentUser)?void 0:p.username)?h:"",authorEmail:null==(f=E.user.currentUser)?void 0:f.email,sessionId:L,lastEditTime:t};let n=JSON.parse(T);n.metadata.lastEditStatus=b,w=JSON.stringify(n,null,1),_=b}await e(I,y,R,w,!0),i({type:"SAVE_SUCCEEDED",id:I,role:y,secondaryRoles:R,error:null,editStatusToUpdate:b,saveDone:!0,isSourceCodeChange:C,pageMode:k}),await t(I,y,R)}catch(e){if(d&&(0,a.Z)(e))return void i({type:"NETWORK_CONDITION_CHANGED",id:I,role:y,secondaryRoles:R,onlineToSnowflakeServer:!1,pageMode:k});if(!C)return void i({type:"SAVE_SUCCEEDED",id:I,role:y,secondaryRoles:R,error:null,editStatusToUpdate:b,saveDone:!1,isSourceCodeChange:C,pageMode:k});(0,o.w)({content:e.message,type:"alert"}),i({type:"SAVE_FAILED",id:I,role:y,secondaryRoles:R,error:e,editStatusToUpdate:b,editingUserId:null!=(v=null==_?void 0:_.authorId)?v:"",editingUserName:null!=(S=null==_?void 0:_.authorName)?S:"",editingUserEmail:null==_?void 0:_.authorEmail,lastEditTime:null==_?void 0:_.lastEditTime,isSourceCodeChange:C,pageMode:k})}})},v=()=>{let e=E(),t=h();return(0,s.useMemo)(()=>({readFromStage:e,writeToStage:t}),[e,t])}},216591:function(e,t,n){"use strict";n.d(t,{N:()=>_});var r=n(80127),o=n(928874),i=n(869677),a=n(847345),s=n(403771),l=n(338291),u=n(620400),c=n(75065),d=n(468804),g=n(194838),p=n(405776),f=n(45103);let m="ui_response_success",E="ui_response_error",h="ui_click",v="ui_visit",S=new Set([d.AzE,d.K5H,d.Uzq,d.RSw,d.y10,d.ua8,d.MSS,d.ImF,d.lWk,d.zrf,d.d0B,d.Mhg,d.zGh,d.iJ8,d.UcJ,d.xAk,d.Ht5,d.vwS,d.wi4,d.dJY,d.MKg,d._KU,d.Hn4,d.YeT,d.foX,d.aDE,d.QuQ,d.z_f,d.yzn,d.F1$,d.AK5,d.Ari,d.ZOT,d.$aC,d.DsD,d.mBO,d.FXf,d.w08,d.G0u,d.ru7,d.kDJ,d.NJ3,d.rxA,d.BdL,d.ZL3,d.$V2,d.hPp,d.nJK]);function _(){let{logEventToSnowflakeAndDatadog:e,markEventStart:t,measureEventDuration:n,markE2EEventStart:_,isMarkerSet:b,_getDurationsFromMarker:I}=(0,s.z)(),{logEvent:y}=(0,o.f1)(),R=(0,f.w)(),T=(0,a.useCallback)(t=>{t.data={...t.data,isPrivateLink:(0,i.Y)(),isSingleFrame:R},S.has(t.event)&&c.A.isDisallowedDatadogEvent(t)?e(t):y(t)},[e,y,R]),N=(0,a.useCallback)(e=>{var t;T({event:d.ImF,type:"ui_performance",data:{...e,notebookRuntime:null!=(t=e.notebookRuntime)?t:"unknown"}})},[T]),C=(0,a.useCallback)((e,t)=>{var n,r;let o=t?I(t):{};T({event:d.lWk,type:m,data:{...e,...o,notebookRuntime:null!=(n=e.notebookRuntime)?n:"unknown",sourceType:null!=(r=e.sourceType)?r:"unknown"}})},[T,I]),A=(0,a.useCallback)((e,t)=>{var n,r;let o=t?I(t):{};T({event:d.zrf,type:E,data:{...e,...o,notebookRuntime:null!=(n=e.notebookRuntime)?n:"unknown",sourceType:null!=(r=e.sourceType)?r:"unknown"}})},[T,I]),L=(0,a.useCallback)((e,t)=>{var n;let r=t?I(t):{};T({event:d.ua8,type:m,data:{...e,...r,notebookRuntime:null!=(n=e.notebookRuntime)?n:"unknown"}})},[T,I]),k=(0,a.useCallback)((e,t)=>{var n;let r=t?I(t):{};T({event:d.MSS,type:E,data:{...e,...r,notebookRuntime:null!=(n=e.notebookRuntime)?n:"unknown"}})},[T,I]),w=(0,a.useCallback)((e,t)=>{var n;let r=t?I(t):{};T({event:d.AzE,type:v,data:{...e,...r,notebookRuntime:null!=(n=e.notebookRuntime)?n:"unknown"}})},[T,I]),O=(0,a.useCallback)(e=>{T({event:d.G$y,type:E,data:e})},[T]),D=(0,a.useCallback)((e,t,n,r)=>{let o=r?I(r):{};T({event:t,type:h,data:{...n,...o,notebookIdentifier:(0,u.m)(e)}})},[T,I]),M=(0,a.useCallback)((e,t,n,r,o)=>{let i=o?I(o):{};t===d.Hn4&&(i.e2eDurationMs=(o?I({...o,event:g.QX,isUserE2E:!0}):{}).e2eDurationMs),T({event:t,type:r?"ui_response_success":"ui_response_error",data:{...n,...i,notebookIdentifier:(0,u.m)(e)}})},[T,I]),x=(0,a.useCallback)((e,t,n)=>{let r=n?I(n):{};T({event:d.Mhg,type:m,data:{...t,...r,notebookRuntime:t.notebookRuntime||"unknown",notebookIdentifier:(0,u.m)(e)}})},[T,I]),U=(0,a.useCallback)((e,t)=>{T({event:d.zGh,type:m,data:{...t,notebookRuntime:t.notebookRuntime||"unknown",notebookIdentifier:(0,u.m)(e)}})},[T]),P=(0,a.useCallback)((e,t)=>{T({event:d.QtC,type:m,data:{...t,notebookRuntime:t.notebookRuntime||"unknown",notebookIdentifier:(0,u.m)(e)}})},[T]),$=(0,a.useCallback)((e,t,n)=>{let r=n?I(n):{},o=(0,p.ne)(t.reason);T({event:o?d.YeT:d.iJ8,type:o?E:m,data:{...t,...r,error:t.error?t.error:o?t.reason:void 0,notebookRuntime:t.notebookRuntime||"unknown",notebookIdentifier:(0,u.m)(e)}})},[T,I]),F=(0,a.useCallback)((e,t,n)=>{let r=n?I(n):{},o={...t,...r,notebookRuntime:t.notebookRuntime||"unknown",notebookIdentifier:(0,u.m)(e)};T({event:d.d0B,type:v,data:o}),t.isReconnect&&T({event:d.foX,type:v,data:o})},[T,I]),B=(0,a.useCallback)((e,t,n)=>{let r=n?I(n):{};T({event:d.xAk,type:v,data:{...t,...r,notebookIdentifier:(0,u.m)(e)}})},[I,T]),G=(0,a.useCallback)((e,t,n)=>{let r=n?I(n):{};T({event:d.Ht5,type:v,data:{...t,...r,notebookIdentifier:(0,u.m)(e)}})},[I,T]),V=(0,a.useCallback)((e,t,n)=>{let r=n?I(n):{};T({event:d.vwS,type:v,data:{...t,...r,notebookIdentifier:(0,u.m)(e)}})},[I,T]),j=(0,a.useCallback)((e,t,n)=>{let r=n?I(n):{};T({event:d.UcJ,type:E,data:{...t,...r,notebookRuntime:t.notebookRuntime||"unknown",notebookIdentifier:(0,u.m)(e),isReconnect:!!t.isReconnect}}),t.isReconnect&&T({event:d.YeT,type:E,data:{...t,...r,notebookRuntime:t.notebookRuntime||"unknown",notebookIdentifier:(0,u.m)(e)}})},[T,I]),H=(0,a.useCallback)((e,t)=>{var n;let r=I({event:g.Sc,markers:[(0,u.m)(e),null!=(n=t.connectionId)?n:""]})||{};T({event:d.K5H,type:h,data:{...t,...r,notebookRuntime:t.notebookRuntime,notebookIdentifier:(0,u.m)(e)}})},[I,T]),W=(0,a.useCallback)((e,n)=>{t(g.Ti,(0,u.m)(e),n.connectionId||""),T({event:d.Uzq,type:h,data:{...n,notebookRuntime:n.notebookRuntime||"unknown",notebookIdentifier:(0,u.m)(e)}})},[T,t]),K=(0,a.useCallback)((e,t)=>{var n;let r=I({event:g.Ti,markers:[(0,u.m)(e),null!=(n=t.connectionId)?n:""]})||{};T({event:d.y10,type:m,data:{...t,...r,notebookRuntime:t.notebookRuntime||"unknown",notebookIdentifier:(0,u.m)(e)}})},[I,T]),Q=(0,a.useCallback)((e,t)=>{var n;let r=I({event:g.Ti,markers:[(0,u.m)(e),null!=(n=t.connectionId)?n:""]})||{};T({event:d.RSw,type:E,data:{...t,...r,notebookRuntime:t.notebookRuntime||"unknown",notebookIdentifier:(0,u.m)(e)}})},[I,T]),z=(0,a.useCallback)((e,t)=>{T({event:d.b0z,type:E,data:{...t,notebookRuntime:t.notebookRuntime||"unknown",notebookIdentifier:(0,u.m)(e)}})},[T]),q=(0,a.useCallback)((e,t)=>{var n;let o=I({event:g.Ff,markers:[(0,u.m)(e),null!=(n=t.connectionId)?n:""]})||{};T({event:t.error?d.YeT:d.aDE,type:t.error?E:m,data:{...t,...o,reconnectDurationMs:o.durationMs,notebookRuntime:t.notebookRuntime||"unknown",notebookIdentifier:(0,u.m)(e)}}),(null==o?void 0:o.durationMs)&&r.v.addDurationVital(d.qyZ,{startTime:Date.now()-o.durationMs,duration:o.durationMs})},[T,I]),Y=(0,a.useCallback)((e,t,n,r)=>{let o=r?I(r):{};T({event:d.wi4,type:null!=n?n:m,data:{...t,...o,notebookRuntime:t.notebookRuntime||"unknown",notebookIdentifier:(0,u.m)(e)}})},[T,I]),X=(0,a.useCallback)((e,t,n,r)=>{let o=r?I(r):{};T({event:d.wi4,type:null!=n?n:E,data:{...t,...o,notebookRuntime:t.notebookRuntime||"unknown",notebookIdentifier:(0,u.m)(e)}})},[T,I]),Z=(0,a.useCallback)((e,t,n,r,o)=>{let i=o?I(o):{};T({event:t,type:r?m:E,data:{...n,...i,notebookRuntime:n.notebookRuntime||"unknown",notebookIdentifier:(0,u.m)(e)}})},[T,I]),J=(0,a.useCallback)((e,t,n,r,o)=>{let i=o?I(o):{};T({event:t,type:null!=r?r:m,data:{...n,...i,notebookRuntime:n.notebookRuntime||"unknown",notebookIdentifier:(0,u.m)(e)}})},[T,I]),ee=(0,a.useCallback)(({notebookId:e,event:t,eventData:n,eventType:r,markerInfo:o,pageMode:i})=>{let a=o?I(o):{};T({event:t,type:r,data:{...n,...a,notebookRuntime:n.notebookRuntime||"unknown",notebookIdentifier:(0,u.m)(e),pageMode:i}})},[T,I]),et=(0,a.useCallback)((e,t,n,r,o)=>{let i=o?I(o):{};T({event:t,type:null!=r?r:m,data:{...n,...i,notebookRuntime:n.notebookRuntime||"unknown",notebookIdentifier:(0,u.m)(e)}})},[T,I]),en=(0,a.useCallback)((e,n,r)=>{t(g.nL,(0,u.m)(e),n.connectionId||"");let o={...n,notebookRuntime:n.notebookRuntime||"unknown",notebookIdentifier:(0,u.m)(e)};T({event:d.QuQ,type:h,data:o})},[T,t]),er=(0,a.useCallback)((e,t)=>{var n;let r=I({event:g.nL,markers:[(0,u.m)(e),null!=(n=t.connectionId)?n:""]})||{};T({event:t.error?d.yzn:d.z_f,type:t.error?E:m,data:{...t,...r,notebookRuntime:t.notebookRuntime||"unknown",notebookIdentifier:(0,u.m)(e)}})},[I,T]),eo=(0,a.useCallback)((e,t)=>{var n;let r=I({event:g.Ff,markers:[(0,u.m)(e),null!=(n=t.connectionId)?n:""]})||{};T({event:d.FXf,type:t.error?E:m,data:{...t,...r,reconnectDurationMs:r.durationMs,notebookRuntime:t.notebookRuntime||"unknown",notebookIdentifier:(0,u.m)(e)}})},[I,T]),ei=(0,a.useCallback)((e,t)=>{T({event:d.Nr9,type:"ui_impression",data:{...t,notebookRuntime:t.notebookRuntime||"unknown",notebookIdentifier:(0,u.m)(e)}})},[T]),ea=(0,a.useCallback)(e=>{var t;T({event:d.rxA,type:m,data:{...e,notebookRuntime:null!=(t=e.notebookRuntime)?t:"unknown"}})},[T]),es=(0,a.useCallback)((e,t)=>{var n;let r=t?I(t):{};T({event:e.error?d.ZL3:d.BdL,type:e.error?E:m,data:{...e,...r,notebookRuntime:null!=(n=e.notebookRuntime)?n:"unknown"}})},[T,I]),el=(0,a.useCallback)(e=>{var t;T({event:d.$V2,type:m,data:{...e,notebookRuntime:null!=(t=e.notebookRuntime)?t:"unknown"}})},[T]),eu=(0,a.useCallback)((e,t)=>{var n;let r=t?I(t):{};T({event:e.error?d.hPp:d.nJK,type:e.error?E:m,data:{...e,...r,notebookRuntime:null!=(n=e.notebookRuntime)?n:"unknown"}})},[T,I]),ec=(0,a.useCallback)((t,n)=>{var r,o;let i=I({event:l.Vm,markers:[(0,u.m)(t)]})||{};e({event:(null==(r=n.error)?void 0:r.errorMessage)?d.gRi:d.vSJ,type:(null==(o=n.error)?void 0:o.errorMessage)?E:m,data:{...i,controlResponse:n}})},[I,e]),ed=(0,a.useCallback)((e,t)=>{T({event:d.Z6m,type:m,data:{notebookIdentifier:(0,u.m)(e),connectionId:t.connectionId}})},[T]),eg=(0,a.useCallback)((e,t)=>{T({event:d.JVZ,type:m,data:{notebookIdentifier:(0,u.m)(e),connectionId:t.connectionId}})},[T]),ep=(0,a.useCallback)((e,t)=>{T({event:d.GO4,type:m,data:{notebookIdentifier:(0,u.m)(e),connectionId:t.connectionId,interactionType:t.interactionType}})},[T]);return(0,a.useMemo)(()=>({logCreateStarted:N,logCreateSuccess:C,logCreateFailed:A,logRenameSuccess:L,logRenameFailed:k,logNotebookEditEvent:et,logOpenDetailPage:w,logError:O,logCellUITelemetry:D,logCellRunTelemetry:M,logWebsocketConnected:x,logWebsocketDisconnected:$,logWebsocketControlMessage:U,logWebsocketStartConnecting:F,logWebsocketHeartbeat:B,logWebsocketHeartbeatStart:G,logWebsocketHeartbeatEnd:V,logWebsocketConnectError:j,logWebsocketConnectionStateChange:P,logSessionReconnectCompleted:q,logSessionEnd:H,logSessionStarting:W,logSessionStartSuccess:K,logSessionStartFailed:Q,logSessionErrorMessage:z,logKernelRestartBegin:en,logKernelRestartEnd:er,logRunRequested:Y,logRunRequestedError:X,logRunEvent:Z,logIPYNBEvent:J,markEventStart:t,markE2EEventStart:_,measureEvent:n,isMarkerSet:b,logNotebookEvent:ee,logSessionReconnectDetails:eo,logNotebookPackageUpdateAlert:ei,logSharePageLoadStarted:ea,logSharePageLoadCompleted:es,logShareStarted:el,logShareCompleted:eu,logCondaPackageUpdateTelemetry:ec,logResourceMonitorOpened:ed,logResourceMonitorClosed:eg,logResourceMonitorInteraction:ep}),[M,D,N,A,et,C,O,J,w,k,L,Z,Y,X,j,x,U,F,$,P,B,G,V,q,H,W,K,Q,z,en,er,t,_,n,b,ee,eo,ei,ea,es,el,eu,ec,ed,eg,ep])}},373516:function(e,t,n){"use strict";n.d(t,{d:()=>o});var r=n(847345);let o=({observerEnabled:e,visibleCallback:t})=>{(0,r.useEffect)(()=>{let n=()=>{e&&"visible"===document.visibilityState&&t&&t()};return document.addEventListener("visibilitychange",n),()=>{document.removeEventListener("visibilitychange",n)}},[e,t])}},550891:function(e,t,n){"use strict";n.d(t,{H:()=>i});var r=n(266046);let o={debug:10,info:20,error:30,reportError:40},i={cacheFiller:new class{constructor(e,t){this.debug=(e,t)=>{if(this.logLevel<=o.debug){let n=null!=t?JSON.stringify(t):"";console.debug(this.category+e,n)}},this.error=(e,t)=>{if(this.logLevel<=o.error){let n=null!=t?JSON.stringify(t):"";console.error(this.category+e,n)}},this.info=(e,t)=>{if(this.logLevel<=o.info){let n=null!=t?JSON.stringify(t):"";console.info(this.category+e,n)}},this.reportError=(e,t,n)=>{this.logLevel<=o.reportError&&(0,r.k)(t,{domain:"notebooks",loggingCategory:this.rawCategory,type:e,...n})},this.assertOrReport=(e,t,n,r)=>{e||this.reportError(t,n,r)},this.logLevel=null!=t?t:o.reportError,this.rawCategory=null!=e?e:"NOTEBOOK",this.category="["+this.rawCategory+"] "}}("CACHE_FILLER",o.error)}},672340:function(e,t,n){"use strict";n.d(t,{KE:()=>s,QI:()=>a,r9:()=>i});var r=n(286204),o=n(847345);let i=(0,o.createContext)(null),a=({children:e,...t})=>{let[n,a]=(0,o.useState)(null),[s,l]=(0,o.useState)(null),[u,c]=(0,o.useState)(t.methods||null),[d,g]=(0,o.useState)(t.iframeSrcProps||null),p=(0,o.useMemo)(()=>({methods:u,childFrame:n,childIframeEl:s,iframeSrcProps:d,setMethods:c,setChildFrame:a,setChildIframeEl:l,setIframeSrcProps:g}),[u,n,s,d]);return(0,r.jsx)(i.Provider,{value:p,children:e})};a.displayName="NotebookIframeProvider";let s=()=>{let e=(0,o.useContext)(i);return e||null}},827335:function(e,t,n){"use strict";n.d(t,{JM:()=>l,VN:()=>s,ZF:()=>u,k$:()=>c});var r=n(819260),o=n(792851),i=n(528297),a=n(847345);let[s,l,u,c]=(0,o.Z)(function({parentOrigin:e}){let t=(0,a.useRef)(null),n=(0,a.useRef)(null),[o,s]=(0,a.useState)(null),[l,u]=(0,a.useState)(void 0),[c,d]=(0,a.useState)(null);return(0,a.useEffect)(()=>{n.current=c},[c]),(0,a.useEffect)(()=>{null===t.current&&(t.current=(0,i.y1)({parentOrigin:e,methods:{snowbooks:{syncState:e=>{u({...e})},dispatchNotebookEditorState:e=>{var t;null==(t=n.current)||t.call(n,e)}}},debug:!1}),t.current.promise.then(e=>{s(e)}).catch(e=>{r.log.error("[Snowbooks] Error connecting to parent:",e)}))},[e]),(0,a.useEffect)(()=>()=>{var e;null==(e=t.current)||e.destroy(),s(null)},[]),{snowbooksParent:o,snowbooksState:l,setDispatchNotebookEditorState:d}},e=>e.snowbooksParent,e=>e.snowbooksState,e=>e.setDispatchNotebookEditorState)},7163:function(e,t,n){"use strict";n.d(t,{U:()=>s});var r=n(255490),o=n(827335),i=n(24930);function a(){let e=(0,o.JM)();if(!e)throw Error("Parent frame connection not available");return e.snowbooks.describeFileBasedEntity}function s(){return(0,i.U)(r.U,a)()}},665127:function(e,t,n){"use strict";n.d(t,{_:()=>s});var r=n(711081),o=n(827335),i=n(24930);function a(){let e=(0,o.JM)();if(!e)throw Error("Parent frame connection not available");return e.snowbooks.refreshLastUpdatedInfo}function s(){return(0,i.U)(r._,a)()}},316181:function(e,t,n){"use strict";n.d(t,{L:()=>s});var r=n(547709),o=n(827335),i=n(24930);function a(){let e=(0,o.JM)();if(!e)throw Error("Parent frame connection not available");return e.snowbooks.checkoutOrAddVersionAndRead}function s(){return(0,i.U)(r.L,a)()}},407380:function(e,t,n){"use strict";n.d(t,{l:()=>s});var r=n(457632),o=n(827335),i=n(24930);function a(){let e=(0,o.JM)();if(!e)throw Error("Parent frame connection not available");return e.snowbooks.createWebsocketProtoParams}function s(){return(0,i.U)(r.l,a)()}},664095:function(e,t,n){"use strict";n.d(t,{M:()=>s});var r=n(607860),o=n(827335),i=n(24930);function a(){let e=(0,o.JM)();if(!e)throw Error("Parent frame connection not available");return e.snowbooks.deleteNotebookInstances}function s(){return(0,i.U)(r.M,a)()}},987537:function(e,t,n){"use strict";n.d(t,{P:()=>s});var r=n(45186),o=n(827335),i=n(24930);function a(){let e=(0,o.JM)();if(!e)throw Error("Parent frame connection not available");return e.snowbooks.fetchNotebookAuthToken}function s(){return(0,i.U)(r.P,a)()}},383381:function(e,t,n){"use strict";n.d(t,{W:()=>s});var r=n(188081),o=n(827335),i=n(24930);function a(){let e=(0,o.JM)();if(!e)throw Error("Parent frame connection not available");return e.snowbooks.fetchNotebookUrlInfo}function s(){return(0,i.U)(r.W,a)()}},50665:function(e,t,n){"use strict";n.d(t,{U:()=>s});var r=n(307239),o=n(827335),i=n(24930);function a(){let e=(0,o.JM)();if(!e)throw Error("Parent frame connection not available");return e.snowbooks.getNotebookHistoryFile}function s(){return(0,i.U)(r.U,a)()}},345317:function(e,t,n){"use strict";n.d(t,{k:()=>s});var r=n(177302),o=n(827335),i=n(24930);function a(){let e=(0,o.JM)();if(!e)throw Error("Parent frame connection not available");return e.snowbooks.saveNotebookUserSessionSettings}function s(){return(0,i.U)(r.k,a)()}},530362:function(e,t,n){"use strict";n.d(t,{a:()=>s});var r=n(827335),o=n(24930);function i(){let e=(0,r.JM)();return(null==e?void 0:e.snowbooks)?t=>{var n;if(!t.notebookState)return;let r={...t,notebookState:null==(n=t.notebookState)?void 0:n.toJson()};e.snowbooks.reifyNotebookEditorState(r)}:()=>{}}function a(){return()=>{}}let s=()=>(0,o.U)(a,i)()},856369:function(e,t,n){"use strict";n.d(t,{N:()=>s});var r=n(679239),o=n(827335),i=n(24930);function a(){let e=(0,o.JM)();if(!e)throw Error("Parent frame connection not available");return e.snowbooks.writeToStageByObject}function s(){return(0,i.U)(r.Nk,a)()}},931013:function(e,t,n){"use strict";n.d(t,{Z:()=>s});var r=n(675134),o=n(827335),i=n(24930);function a(){let e=(0,o.JM)();if(!e)throw Error("Parent frame connection not available");return e.snowbooks.fetchSystemDate}function s(){return(0,i.U)(r.Z,a)()}},24930:function(e,t,n){"use strict";n.d(t,{U:()=>i});var r=n(847345),o=n(45103);function i(e,t){let n=(0,r.useRef)(e),i=(0,r.useRef)(!1),a=(0,o.w)();return window.__SNOWSIGHT_NOTEBOOK_PARENT_ORIGIN&&a&&!i.current&&(i.current=!0,n.current=t),n.current}},732551:function(e,t,n){"use strict";n.d(t,{D:()=>b});var r=n(411733),o=n(399808),i=n(697056),a=n(795400),s=n(488601),l=n(208412),u=n(334481),c=n(880441),d=n(50038),g=n(76688),p=n(727267),f=n(929853),m=n(610528),E=n(726912),h=n(878807),v=n(34286),S=n(868288);let _={START_LOADING:l.Av,LOAD_SUCCEEDED:l.pT,LOAD_FAILED:l.vh,START_SAVING:g.v,SAVE_SUCCEEDED:l.JQ,SAVE_FAILED:l.h1,UPDATE_NOTEBOOK_RUNTIME:f.O,SET_URL_ID_AND_RESULT_HEIGHT_MAP:l._9,FETCH_RESOURCE_USAGE:l.$R,SET_BOTTOM_BAR_STATE:l.U3,UPDATE_EDIT_STATUS:p.V,SET_NOTEBOOK_URL_INFO:d.u,ADD_CELL:l.i6,MODIFIED_CELL:l.dG,ADD_AND_MODIFY_CELL:l.p9,CELL_LANGUAGE:l.S4,CELL_CONTENT_STATE:l.xM,CELL_RESULT_HEIGHT:l.eQ,REMOVE_CELL:l.rZ,INSERT_BEFORE_CELL:l.B8,MOVE_CELL_UP:l.aF,MOVE_CELL_DOWN:l.Vd,ADVANCE_CELL:l.e7,UPDATE_SELECTED_CELL:l.n5,UNSELECT_CELL:l.X0,RENAME_CELL:l.em,UPDATE_MARKDOWN_CELL_RESULT:l.ch,RECEIVE_MESSAGE:l.QM,RECEIVE_CONTROL_MESSAGE:l.E7,RUN_NOTEBOOK:l.mW,CLEAR_CODE_RESULTS:l.Gl,RUN_NOTEBOOK_FAILED:l.EY,CANCEL_EXECUTION:l.qg,SHUTDOWN_NOTEBOOK:l.ov,START_NOTEBOOK:l.rM,RECONNECT_NOTEBOOK:l.iD,RESTART_NOTEBOOK:l.g3,RESTART_KERNEL:m.n,CLEAR_DISCONNECT_REASON:l.Ru,UPDATE_NOTEBOOK_SESSION_SETTINGS:h.w,SET_EXECUTION_CONFIGURATIONS:E.a,WEBSOCKET_UNMOUNTED:l.B_,WEBSOCKET_START_CONNECTING:l.rr,WEBSOCKET_CONNECTED:l.BX,WEBSOCKET_DISCONNECTED:l.Rx,WEBSOCKET_CONNECTION_ERROR:l.WS,NETWORK_CONDITION_CHANGED:v.n,UPDATE_PACKAGE:l.$y,UPDATE_PACKAGE_FAILED:l.kB,UPDATE_PACKAGE_DONE:l.y9,START_FETCHING_CACHED_RESULTS:l.v2,START_FETCHING_CACHE_RESULT:l.Xt,FETCHING_CACHE_TIMED_OUT:l.Qy,SET_NON_INTERACTIVE_MODE:l.ke,RESET_STATE:c.o,REPLACE_STATE:u.l,UPDATE_EDITOR_INTELLIGENCE_AGENT:l.L6,...i.j},b=(e,t,n)=>(i,l,u)=>{u(()=>(function(e,t){for(let n of t)try{n(e)}catch(e){r.cM.error(e,{message:"An error occurred in the notebook event listener"})}})(l,e));let c=(0,o.ZP)(i,e=>{let{type:t,id:n,role:r,secondaryRoles:o,pageMode:i}=l,c=(0,a.E)(n,r,o);if(e[c]||(e[c]=(0,S.a)({})),(0,s.X)(l)){var d;e[c].sessionLifecycleState={...null!=(d=e[c].sessionLifecycleState)?d:{},latestUserInteractionTime:Date.now()},u({type:"triggerUserInteractionKeepalive",id:n,role:r,secondaryRoles:o,pageMode:i})}let g=_[t];void 0!==g&&g(e[c],l,u)});if(n&&t){let{id:e,role:t,secondaryRoles:n,pageMode:r}=l;u({type:"syncNotebookEditorState",notebookEditorState:c[(0,a.E)(e,t,n)],id:e,role:t,secondaryRoles:n,pageMode:r})}return c}},780131:function(e,t,n){"use strict";n.d(t,{Hx:()=>ea,PW:()=>er,QE:()=>eo});var r=n(286204),o=n(463198),i=n(995780),a=n(411733),s=n(792851),l=n(367963),u=n.n(l),c=n(847345),d=n(797325),g=n(452374),p=n(781708),f=n(620400),m=n(603419),E=n(134445),h=n(955407),v=n(7163),S=n(80127),_=n(869677),b=n(700577),I=n(623368),y=n(747709),R=n(271343),T=n(522878),N=n(916394),C=n(731296),A=n(980142),L=n(925470),k=n(989721),w=n(481263),O=n(298448),D=n(12935),M=n(45103),x=n(261389),U=n(216591),P=n(407380),$=n(664095),F=n(987537),B=n(383381),G=n(345317),V=n(530362),j=n(194838),H=n(639090),W=n(721987),K=n(648647),Q=n(796522),z=n(795400),q=n(732551),Y=n(574883),X=n(132901),Z=n(273908),J=n(184078),ee=n(415422);let[et,en]=(0,s.Z)(()=>(function(){let{formatMessage:e}=(0,d.Z)(),t=(0,v.U)(),{openDialog:n,hideDialog:s}=(0,O.E)(),{triggerDialog:l}=(0,L.b)(),et=(0,U.N)(),en=b.i.UI_ENABLE_NOTEBOOK_LARGE_MESSAGE_CACHE(),er=b.i.FEATURE_UI_ENABLE_NOTEBOOKS_SCHEDULING(),eo=b.i.NOTEBOOK_ENABLE_IDLE_HEARTBEAT(),ei=b.i.NOTEBOOK_IDLE_HEARTBEAT_TIMEOUT_SECONDS(),ea=b.i.NOTEBOOK_CACHE_FETCHING_TIMEOUT_SECONDS(),es=b.i.UI_ENABLE_NOTEBOOK_FEATURE_1(),el=b.i.UI_ENABLE_NOTEBOOK_FEATURE_21(),eu=b.i.UI_ENABLE_NOTEBOOK_FEATURE_22(),ec=(0,M.w)(),ed=void 0!==window.__SNOWSIGHT_NOTEBOOK_PARENT_ORIGIN,eg=(0,T.J)(),ep=b.i.NOTEBOOK_UPDATE_PACKAGE_TIMEOUT_SECONDS()||300,ef=b.i.UI_ENABLE_NOTEBOOK_JUPYTER_VARIABLE_SEMANTICS(),em=b.i.UI_ENABLE_NOTEBOOK_FEATURE_40(),eE=(0,c.useRef)({}),eh=b.i.STREAMLIT_WEBSOCKET_IDLE_TIMEOUT(),ev=b.i.UI_ENABLE_NOTEBOOK_FEATURE_45()||ec,eS=(0,c.useRef)(null),{organization:e_}=(0,E.m)(["organization"]),{region:eb,org:eI}=e_.currentRegionAndOrgInfoFromOrganization,{readFromStage:ey,writeToStage:eR}=(0,x.q)(),eT=(0,G.k)(),{getDocsUrl:eN}=(0,y.V)(),eC=(0,c.useCallback)((e,t,n)=>void ey(t,n),[ey]),eA=(0,c.useCallback)((e,t,n)=>{let{id:r}=t;et.markEventStart(j.gr,(0,f.m)(r)),eR(t,n)},[eR,et]),eL=(0,c.useMemo)(()=>u()(eA,3e3,{trailing:!0}),[eA]),ek=(0,P.l)(),ew=(0,$.M)(),eO=(0,B.W)(),eD=(0,F.P)(),eM=(0,o.z)(async({id:e,role:t,secondaryRoles:n,queryId:r,connectExistingSession:o=!0,loadCachedResultsAfterConnection:i=!1,pageMode:a})=>{var s,l,u;let c=(0,z.E)(e,t,n),d=eE.current;(null==(s=d[c])?void 0:s.connection.isConnected())&&(null==(u=d[c])||u.connection.disconnect("NOTEBOOK_RECONNECT"));let g=p.Z(),m=tE[c],E=null==m?void 0:m.notebookRuntime,v=!!r,b=o&&!v,{ConnectionManager:I,webSocketProtoParams:y,urlInfo:T}=await (0,W._)({getNotebookUrlInfo:()=>eO({id:e,role:t,secondaryRoles:n,isPrivatelink:(0,_.Y)()}),getWebsocketProtoParams:()=>b?ek(e):Promise.resolve({additionalProtoParams:[],activeInstanceJobId:null,activeNotebookInstancesNum:void 0,additionalMetadata:void 0})});th({type:"SET_NOTEBOOK_URL_INFO",id:e,role:t,secondaryRoles:n,urlInfo:T,pageMode:a});let{additionalProtoParams:N,activeInstanceJobId:C,activeNotebookInstancesNum:A,additionalMetadata:L}=y,k=[(0,f.m)(e),g];et.markEventStart(j.x5,...k),et.markEventStart(j.wT,g||"UNKNOWN"),A&&et.markEventStart(j.Ff,(0,f.m)(e),g),et.logWebsocketStartConnecting(e,{connectionId:g,notebookViewId:null==m||null==(l=m.sessionLifecycleState)?void 0:l.notebookViewId,notebookRuntime:E,pageMode:a,isReconnect:!!A,reconnectInstanceId:null!=C?C:void 0,skipPingEnabled:ev}),th({type:"WEBSOCKET_START_CONNECTING",id:e,role:t,secondaryRoles:n,pageMode:a,numOfActiveSessions:A});let w=!!(A&&m&&"notStarted"!==m.runStatus&&!v),O=[],D=e=>{O.includes(e)||O.push(e)},M=e=>{let t=O.indexOf(e);t>=0&&O.splice(t,1)},x=e=>{let t=!0;for(let n of O)if(!(t=n.onMessage(e)))break;return t},U=e=>{let t=!0;for(let n of O)if(!(t=n.onSendMessage(e)))break;return t},P=e=>{let t=!0;for(let n of O)if(!(t=n.onControlMessage(e)))break;return t},$=(e,t,n)=>{let r=[];for(let o of O)o.onConnectionChange(e,t,n)||r.push(o);for(let e of r)M(e)},F=Date.now();return new Promise((o,s)=>{d[c]={registerHandler:D,unregisterHandler:M,sendMessage:e=>{if(U(e)){var t;null==(t=d[c])||t.connection.sendMessage(e)}},connection:new I({connectionId:g,additionalProtocolParams:N,skipPingEnabled:ev,onMessage:r=>{var o;g===(null==(o=d[c])?void 0:o.connectionId)&&(eg?x(r)&&th({type:"RECEIVE_MESSAGE",id:e,role:t,secondaryRoles:n,message:r,pageMode:a}):th({type:"RECEIVE_MESSAGE",id:e,role:t,secondaryRoles:n,message:r,pageMode:a}))},onControlMessage:r=>{var o,i;g===(null==(o=d[c])?void 0:o.connectionId)&&(eg?P(r)&&th({type:"RECEIVE_CONTROL_MESSAGE",id:e,role:t,secondaryRoles:n,message:r,isNotebookRestartKernelEnabled:!0,pageMode:a,updatePackageTimeoutId:tt.current,getDocsUrl:eN}):th({type:"RECEIVE_CONTROL_MESSAGE",id:e,role:t,secondaryRoles:n,message:r,isNotebookRestartKernelEnabled:!0,updatePackageTimeoutId:tt.current,pageMode:a,getDocsUrl:eN}),et.logWebsocketControlMessage(e,{connectionId:g,notebookViewId:null==m||null==(i=m.sessionLifecycleState)?void 0:i.notebookViewId,notebookRuntime:E,messageJson:r.toJSON(),pageMode:a}))},onConnectionError:r=>{var o,i;if(g!==(null==(o=d[c])?void 0:o.connectionId))return;let l="string"==typeof r?r:"Unknown error";et.logWebsocketConnectError(e,{connectionId:g,notebookViewId:null==m||null==(i=m.sessionLifecycleState)?void 0:i.notebookViewId,notebookRuntime:E,error:l,pageMode:a,isReconnect:!!A,reconnectInstanceId:null!=C?C:void 0},{event:j.x5,markers:k}),th({type:"WEBSOCKET_CONNECTION_ERROR",id:e,role:t,secondaryRoles:n,error:l,pageMode:a}),s()},connectionStateChanged:(r,l,u)=>{var p,f,h,v,_,b,I;if(g===(null==(p=d[c])?void 0:p.connectionId))switch($(r,l,u),r){case R.e.CONNECTED:th({type:"WEBSOCKET_CONNECTED",id:e,role:t,secondaryRoles:n,idOfAlreadyRunningInstance:null!=C?C:void 0,pageMode:a,streamlitVersionOfAlreadyRunningInstance:null==L?void 0:L.streamlitVersionOfAlreadyRunningInstance}),w&&th({type:"START_NOTEBOOK",id:e,role:t,secondaryRoles:n,userTriggered:!1,pageMode:a,isReplayingMessagesAfterReconnect:!0}),i&&th({type:"START_FETCHING_CACHED_RESULTS",id:e,role:t,secondaryRoles:n,pageMode:a}),et.logWebsocketConnected(e,{connectionId:g,notebookViewId:null==m||null==(f=m.sessionLifecycleState)?void 0:f.notebookViewId,notebookRuntime:E,connectionState:"CONNECTED",reason:u,error:l,isReconnect:!!A,reconnectInstanceId:null!=C?C:void 0,pageMode:a},{event:j.x5,markers:k}),S.v.addDurationVital(j.P7,{startTime:F,duration:Date.now()-F,context:{isReconnect:!!A,reconnectInstanceId:null!=C?C:void 0,skipPingEnabled:ev}}),o();break;case R.e.DISCONNECTED_FOREVER:th({type:"WEBSOCKET_DISCONNECTED",id:e,role:t,secondaryRoles:n,pageMode:a,reason:u}),null==(h=e1.current)||h.stop(),e1.current=null,eu&&eY(-1),et.logWebsocketDisconnected(e,{connectionId:g,notebookViewId:null==m||null==(v=m.sessionLifecycleState)?void 0:v.notebookViewId,notebookRuntime:E,connectionState:r,reason:u,error:l,isReconnect:!!A,reconnectInstanceId:null!=C?C:void 0,pageMode:a},{event:j.x5,markers:k}),u===H.w.NOTEBOOK_IDLE_TIMEOUT&&et.logSessionEnd(e,{connectionId:g,notebookViewId:null==m||null==(_=m.sessionLifecycleState)?void 0:_.notebookViewId,sessionStartId:null==m||null==(b=m.sessionLifecycleState)?void 0:b.sessionStartId,notebookRuntime:E,connectionState:r,reason:u,error:l,isReconnectEnabled:!0,pageMode:a}),s();break;default:et.logWebsocketConnectionStateChange(e,{connectionId:g,notebookViewId:null==m||null==(I=m.sessionLifecycleState)?void 0:I.notebookViewId,notebookRuntime:E,connectionState:r,reason:u,error:l,isReconnect:!!A,reconnectInstanceId:null!=C?C:void 0,pageMode:a})}},claimHostAuthToken:async()=>await eD({id:e,role:t,secondaryRoles:n,queryId:r,isHistoryQueryResultEnabled:er}),resetHostAuthToken:h.EI,setAllowedOriginsResp:h.EI,baseUriParts:T.baseUriParts,isHttps:T.isHttps,isLargeMessageCacheEnabled:en}),urlInfo:T,connectionId:g}})}),ex=(0,o.z)((e,t,n,r)=>{var o;let i=(0,z.E)(e,t,n),a=null==(o=eE.current[i])?void 0:o.connection;a&&(null==a||a.disconnect(r),eE.current[i]=void 0)}),eU=(0,o.z)(async(t,n)=>{var r,o,a;let{id:s,role:l,secondaryRoles:u,cellRunType:c,runCellId:d,cells:g,clientState:p,eventType:m,notebookRuntime:E,pageMode:h}=t,v=(0,z.E)(s,l,u);(1===c||7===c)&&et.markEventStart(j.bZ,(0,f.m)(s)),g.forEach(e=>{var t,n;et.markEventStart(j.QX,null!=(t=e.id)?t:""),et.markE2EEventStart(j.QX,null!=(n=e.id)?n:"")});let S=tv(s,l,u),_=eE.current[v];if(void 0===_||_.connection.isDisconnected()){try{await eM({id:s,role:l,secondaryRoles:u,pageMode:h}),_=eE.current[v]}catch(e){}if(em&&_){let{settingsUpdateTime:e,settings:t}=null!=(r=null==S?void 0:S.notebookSessionSettingsState)?r:{};e&&t&&_.connection.sendControlMessage({clientControlRequest:{executeConfigurationUpdateRequest:{runtime:t.runtimeName,runtimeEnvironmentVersion:t.runtimeEnvironmentVersion,queryWarehouse:t.queryWarehouse,codeWarehouse:t.codeWarehouse,computePool:t.computePool,externalIntegrations:t.externalAccessIntegrations,roleSelection:(0,k.h)(t.role,t.secondaryRoles),idleShutdownSecs:t.idleAutoShutdownTimeSeconds,...t.mainFilePath?{mainFile:t.mainFilePath}:{}}}})}}else try{await _.connection.waitForConnection()}catch(e){}if(void 0!==_&&_.connection.isConnected()){let e={cellRunType:c,cellUpdateSemantics:1,cellInteractionSemantics:+!ef,runCellId:d,userErrorHandlingSemantics:0};eg?_.sendMessage({runCells:{...e,cells:g,clientState:p}}):_.connection.sendMessage({runCells:{...e,cells:g,clientState:p}}),et.logRunRequested(s,{...e,connectionId:_.connectionId,notebookViewId:null==S||null==(a=S.sessionLifecycleState)?void 0:a.notebookViewId,notebookRuntime:E,runId:d,pageMode:h},null!=m?m:"ui_click")}else(0,i.w)({content:e({id:"Connection is not ready yet"}),type:"alert",autoDismiss:!1}),et.logRunRequestedError(s,{error:"Connection is not ready yet",connectionId:(null==_?void 0:_.connectionId)||"",notebookViewId:null==S||null==(o=S.sessionLifecycleState)?void 0:o.notebookViewId,notebookRuntime:E,pageMode:h,runId:d},null!=m?m:"ui_response_error"),n({type:"RUN_NOTEBOOK_FAILED",id:s,role:l,secondaryRoles:u,pageMode:h})}),eP=(0,ee.q)(eE.current,e=>{e.connection.isConnected()&&(eg?e.sendMessage({controlRequest:{cancelExecution:{cancelType:0}}}):e.connection.sendMessage({controlRequest:{cancelExecution:{cancelType:0}}}))}),e$=(0,ee.q)(eE.current,e=>{es&&e.connection.isConnected()&&(eg?e.sendMessage({controlRequest:{resourceUtilization:{resourceTypes:[0,1]}}}):e.connection.sendMessage({controlRequest:{resourceUtilization:{resourceTypes:[0,1]}}}))}),eF=(0,ee.q)(eE.current,(e,t,n)=>{var r,o,i;let{id:a,role:s,secondaryRoles:l,pageMode:u}=t,c=null==(r=tv(a,s,l))?void 0:r.notebookState,d=null==c||null==(i=c.data)||null==(o=i.cells)?void 0:o.filter(e=>"markdown"!==e.cell_type).map(e=>({cellId:e.id}));if(et.markEventStart(j.bZ,(0,f.m)(a)),null==d||d.forEach(e=>{et.markEventStart(j.QX,e.cellId)}),e.connection.isConnected()&&d&&d.length>0){let t=p.Z();n({type:"START_FETCHING_CACHE_RESULT",id:a,role:s,secondaryRoles:l,pageMode:u,cacheLoadId:t}),eg?e.sendMessage({previousResults:{warmStart:!1,cellIds:d}}):e.connection.sendMessage({previousResults:{warmStart:!1,cellIds:d}}),setTimeout(()=>{n({type:"FETCHING_CACHE_TIMED_OUT",id:a,role:s,secondaryRoles:l,pageMode:u,cacheLoadId:t})},1e3*ea)}}),eB=(0,c.useCallback)((e,t,n)=>{eU(t,n)},[eU]),eG=(0,c.useCallback)((t,n)=>{var r;n.silent||(0,i.w)({content:(0,K.h)(e,(0,Q.F)(n.error)),type:"alert",autoDismiss:!1}),(null==(r=n.logError)||r)&&(et.logError({notebookIdentifier:(0,f.m)(n.id),error:n.error,pageMode:n.pageMode}),a.cM.error(n.error))},[e,et]),eV=(0,c.useCallback)((e,t)=>{ec?l({type:"externalAccessIntegrationError",fullNotebookIdentifier:t.id}):n((0,r.jsx)(A.z,{fullNotebookIdentifier:t.id,hide:s})),et.logError({notebookIdentifier:(0,f.m)(t.id),error:t.error,pageMode:t.pageMode}),a.cM.warn(t.error)},[ec,et,l,n,s]),ej=(0,o.z)(e=>{n((0,r.jsx)(C.W,{urlData:{region:eb,org:eI},sourceFullNotebookIdentifier:e,hideLayer:s}))}),eH=(0,o.z)((e,t)=>{var o,i;let{id:a,role:u,secondaryRoles:c,saveEligibilityCheckStatus:d,editingUserName:g,editingUserEmail:p}=t,f=tv(a,u,c);ec?l({type:"concurrentEditAlert",saveEligibilityCheckStatus:d,editingUserName:g,editingUserEmail:p,notebookViewId:null==f||null==(o=f.sessionLifecycleState)?void 0:o.notebookViewId,fullNotebookIdentifier:a,role:u,region:eb,org:eI}):n((0,r.jsx)(Y.n,{hide:s,role:u,saveEligibilityCheckStatus:d,editingUserName:g,editingUserEmail:p,fullNotebookIdentifier:a,onDuplicateNotebook:ej,notebookViewId:null==f||null==(i=f.sessionLifecycleState)?void 0:i.notebookViewId,notebookRuntime:null==f?void 0:f.notebookRuntime}))}),eW=(0,ee.q)(eE.current,(e,t)=>{var n;e.connection.sendMessage({controlRequest:{restartKernelRequest:{restartKernel:!0}}});let{id:r,role:o,secondaryRoles:i,pageMode:a}=t,s=tv(r,o,i);et.logKernelRestartBegin(r,{connectionId:e.connectionId,notebookViewId:null==s||null==(n=s.sessionLifecycleState)?void 0:n.notebookViewId,notebookRuntime:null==s?void 0:s.notebookRuntime,pageMode:a})}),eK=(0,o.z)((e,t)=>{var n,r;let{id:o,role:i,secondaryRoles:a}=t,s=(0,z.E)(o,i,a),l=eE.current[s],u=null==l?void 0:l.connection,c=(null==u?void 0:u.getConnectionId())||"UNKNOWN",d=tv(o,i,a),g=null==d||null==(n=d.sessionLifecycleState)?void 0:n.latestUserInteractionTime;if(et.logWebsocketHeartbeat(o,{connectionId:c,notebookViewId:null==d||null==(r=d.sessionLifecycleState)?void 0:r.notebookViewId,isConnected:(null==u?void 0:u.isConnected())||!1,isEnableIdleHeartbeat:eo,idleHeartbeatTimeoutSeconds:ei,isNotebookRunning:(null==d?void 0:d.runStatus)==="running"},{event:j.wT,markers:[c]}),!(null==u?void 0:u.isConnected()))return!1;let p=Date.now();return eg?null==l||l.sendMessage({heartbeatRequest:{browserState:g&&p-g<=6e4?1:0}}):u.sendMessage({heartbeatRequest:{browserState:g&&p-g<=6e4?1:0}}),console.debug("[Notebook] Heartbeat sent with browser state: ",g&&p-g<=6e4?"ACTIVE":"IDLE"),!0}),eQ=(0,c.useMemo)(()=>u()(eK,eh/5||6e4,{leading:!0}),[eh,eK]),ez=(0,c.useRef)(-1),eq=(0,c.useRef)(null),eY=(0,c.useCallback)(e=>{var t;ez.current=e,null==(t=eq.current)||t.call(eq,e)},[]),eX=(0,c.useCallback)(async e=>{let{id:n,role:r,secondaryRoles:o}=e,i=await t(n,r,o);return(null==i?void 0:i.idleAutoShutdownTimeSeconds)||ei||eh/1e3||D.K7},[t,ei,eh]),eZ=(0,c.useCallback)(async e=>{let{unsetNull:t,effect:n}=e;if(null==ez.current&&!t)return;let r=await eX(n);el?eY(new Date().getTime()+1e3*r):eY(new Date().getTime()+Math.max(1e3*r-(eh||0),0))},[eX,el,eY,eh]),eJ=(0,o.z)((e,t)=>{eo?eZ({effect:t}):eQ(e,t)}),e0=(0,c.useCallback)(()=>{eY(null)},[eY]),e1=(0,c.useRef)(null),e8=(0,o.z)((e,t)=>{var n,r,o;if(eo&&(e0(),e1.current))return void e1.current.restart();let{id:i,role:a,secondaryRoles:s}=t,l=(0,z.E)(i,a,s),u=tv(i,a,s),c=null==(n=eE.current[l])?void 0:n.connection.getConnectionId();e1.current&&(et.logWebsocketHeartbeatEnd(i,{connectionId:c,notebookViewId:null==u||null==(o=u.sessionLifecycleState)?void 0:o.notebookViewId,isEnableIdleHeartbeat:eo,idleHeartbeatTimeoutSeconds:ei},{event:j.wT,markers:[c||"UNKNOWN"]}),e1.current.stop()),et.logWebsocketHeartbeatStart(i,{connectionId:c,notebookViewId:null==u||null==(r=u.sessionLifecycleState)?void 0:r.notebookViewId,isEnableIdleHeartbeat:eo,idleHeartbeatTimeoutSeconds:ei});let d=(0,m.zp)(()=>{let n=!0;console.debug("Running heartbeater loop ",ez.current),console.debug("Sending heartbeat"),console.debug("Received response from heartbeat: ",n=eK(e,{...t})),n||(el?console.debug("No heartbeat sent but continuing to keep the heartbeat active."):(console.debug("Stopping heartbeater because no heartbeat was sent ",{heartbeatPollEndTimeMs:null==ez?void 0:ez.current}),d.stop()))},{pollingIntervalInSec:60,shouldPauseOnInactive:!1});e1.current=d,d.start()}),e4=(0,c.useCallback)((e,t)=>{var n,r;let{id:o,role:i,secondaryRoles:a}=t,s=(0,z.E)(o,i,a),l=null==(n=eE.current[s])?void 0:n.connection.getConnectionId();eo?eZ({unsetNull:!0,effect:t}):(et.logWebsocketHeartbeatEnd(o,{connectionId:l,isEnableIdleHeartbeat:eo,idleHeartbeatTimeoutSeconds:ei},{event:j.wT,markers:[l||"UNKNOWN"]}),null==(r=e1.current)||r.stop())},[eo,ei,et,eZ]),e9=(0,J.Y)({websocketMapRef:eE}),e2=(0,o.z)(async e=>{var t,n,r;let{id:o,role:i,secondaryRoles:a,isContainerRuntime:s,reason:l,pageMode:u}=e,c=(0,z.E)(o,i,a),d=tv(o,i,a),g=null==(t=eE.current[c])?void 0:t.connection,p=(null==g?void 0:g.getConnectionId())||"";(0,I.H$)(j.Sc,(0,f.m)(o),p),ex(o,i,a,"USER_NOTEBOOK_SHUTDOWN"),await ew({id:o,role:i,secondaryRoles:a}),et.logSessionEnd(o,{connectionId:p,notebookViewId:null==d||null==(n=d.sessionLifecycleState)?void 0:n.notebookViewId,sessionStartId:null==d||null==(r=d.sessionLifecycleState)?void 0:r.sessionStartId,reason:l,notebookRuntime:s?"spcs":"wh",isReconnectEnabled:!0,pageMode:u})}),e3=(0,o.z)((e,t)=>{e2({...t,reason:"USER_NOTEBOOK_SESSION_SHUTDOWN"})}),e5=(0,o.z)(async(e,t)=>{let{id:n,role:r,secondaryRoles:o,isContainerRuntime:i,pageMode:a}=e;await e2({...e,type:"shutdownNotebook",isContainerRuntime:i,reason:"NOTEBOOK_SESSION_RESTART"}),t({id:n,role:r,secondaryRoles:o,type:"START_NOTEBOOK",userTriggered:!0,isReplayingMessagesAfterReconnect:!1,pageMode:a})}),e7=(0,o.z)((e,t,n)=>{e5(t,n)}),e6=(0,c.useCallback)((e,t)=>{let{notificationProps:n,notificationRefCallback:r}=t;if(n.content){let e=(0,i.w)(n);null==r||r(e)}},[]),te=(0,c.useRef)(""),tt=(0,c.useRef)(),tn=(0,ee.q)(eE.current,(e,t,n)=>{if(!e.connection.isConnected())return;let{id:r,role:o,secondaryRoles:i,data:a,isContainerRuntime:s,imports:l,pageMode:u}=t;if(a&&e.connection.sendControlMessage({clientControlRequest:{updateCondaEnvironment:{packageSpec:a.dependencies}}}),s&&void 0!==l){let t=p.Z();te.current=t,eg?e.sendMessage({controlRequest:{installPackage:{importUrls:l},requestId:t}}):e.connection.sendMessage({controlRequest:{installPackage:{importUrls:l},requestId:t}})}clearTimeout(tt.current),tt.current=setTimeout(()=>{n({type:"UPDATE_PACKAGE_FAILED",id:r,role:o,secondaryRoles:i,pageMode:u})},1e3*ep)}),tr=(0,ee.q)(eE.current,(e,t,n)=>{if(!e.connection.isConnected())return;let{id:r,role:o,secondaryRoles:i,executionConfiguration:a}=t,s=tv(r,o,i),{mainFilePath:l}=a;(null==s?void 0:s.udfConnectionStatus)!==H.Q.Connected?e.connection.sendControlMessage({clientControlRequest:{executeConfigurationUpdateRequest:{runtime:a.runtimeName,runtimeEnvironmentVersion:a.runtimeEnvironmentVersion,queryWarehouse:a.queryWarehouse,codeWarehouse:a.codeWarehouse,computePool:a.computePool,externalIntegrations:a.externalAccessIntegrations,roleSelection:(0,k.h)(a.role,a.secondaryRoles),idleShutdownSecs:a.idleAutoShutdownTimeSeconds,...l?{mainFile:l}:{}}}}):e.connection.sendControlMessage({clientControlRequest:{updateSessionSettingsRequest:{sessionSettings:{queryWarehouse:a.queryWarehouse,role:(0,k.h)(a.role,a.secondaryRoles),idleTimeoutSecs:a.idleAutoShutdownTimeSeconds}}}})}),to=(0,ee.q)(eE.current,(e,t,n)=>{if(!em||!e.connection.isConnected())return;let{id:r,role:o,secondaryRoles:i}=t,a=tv(r,o,i);(null==a?void 0:a.udfConnectionStatus)===H.Q.Connected&&e.connection.sendControlMessage({clientControlRequest:{getSessionSettingsRequest:{}}})}),ti=(0,o.z)((e,t,n)=>{let{id:r,role:o,secondaryRoles:i,requestId:s,status:l,pageMode:u}=t,c=te.current;te.current="",""!==c&&c===s&&(0===l?n({type:"UPDATE_PACKAGE_DONE",id:r,role:o,secondaryRoles:i,pageMode:u}):1===l?n({type:"UPDATE_PACKAGE_FAILED",id:r,role:o,secondaryRoles:i,pageMode:u}):a.cM.warn(`Unknown status response for package import update: ${l}`))}),ta=(0,c.useCallback)((e,t,n)=>{let{id:r,role:o,secondaryRoles:i,queryId:a,pageMode:s}=t,l=(0,z.E)(r,o,i),u=eE.current[l];(null==u?void 0:u.connection.isConnected())?n({type:"START_NOTEBOOK",id:r,role:o,secondaryRoles:i,userTriggered:!1,isReplayingMessagesAfterReconnect:!0,pageMode:s}):eM({id:r,role:o,secondaryRoles:i,urlInfo:void 0,queryId:a,pageMode:s})},[eM]),ts=(0,c.useCallback)((e,t,n)=>{let{id:r,role:o,secondaryRoles:i,queryId:a,connectExistingSession:s,loadCachedResultsAfterConnection:l,pageMode:u}=t,c=(0,z.E)(r,o,i),d=eE.current[c];(null==d?void 0:d.connection.isConnected())||eM({id:r,role:o,secondaryRoles:i,queryId:a,urlInfo:void 0,connectExistingSession:s,loadCachedResultsAfterConnection:l,pageMode:u})},[eM]),tl=(0,o.z)((e,t)=>{let{id:n,sessionSettings:r,pageMode:o}=t;eT({notebookId:n,sessionSettings:r,pageMode:o})}),tu=(0,c.useCallback)((t,n,r)=>{let{id:o,role:a,secondaryRoles:s,queryId:l,onlineToSnowflakeServer:u,pageMode:c}=n,d=(0,z.E)(o,a,s);if(u){var g;null==(g=eS.current)||g.hide(),eS.current=null;let e=eE.current[d];(null==e?void 0:e.connection.isConnected())||eM({id:o,role:a,secondaryRoles:s,urlInfo:null==e?void 0:e.urlInfo,queryId:l,pageMode:c});return}eS.current||(eS.current=(0,i.w)({content:e({id:"Notebook connection lost. Check your internet or wifi connection."}),type:"alert",autoDismiss:!1,onDismiss:()=>{eS.current=null}}),ex(o,a,s,"NETWORK_DOWN"))},[ex,e,eM]),tc=(0,c.useRef)([]),td=(0,c.useCallback)(e=>(tc.current.push(e),function(){let t=tc.current.indexOf(e);t<0||tc.current.splice(t,1)}),[]),tg=(0,N.S)(eE.current,10*ea),tp=(0,V.a)(),tf=(0,o.z)((e,t)=>{tp(t.notebookEditorState)}),tm=(0,o.z)((e,t,o)=>{ec?l({type:"packageUpdateAlert"}):n((0,r.jsx)(w.S,{hide:s,restart:()=>o({type:"RESTART_NOTEBOOK",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,isContainerRuntime:!1,pageMode:t.pageMode})}))}),[tE,th]=(0,g.M)((0,q.D)(tc.current,ed,ec),(0,X.G)(),{readFromStage:eC,writeToStage:eA,writeToStageThrottled:eL,runCells:eB,onNotebookError:eG,fetchCachedResults:eF,saveResultHeight:Z.z,triggerUserInteractionKeepalive:eJ,startRunningNotebookHeartbeat:e8,stopRunningNotebookHeartbeat:e4,shutdownNotebook:e3,restartNotebook:e7,cancelExecution:eP,fetchResourceUsage:e$,restartNotebookKernel:eW,pushNotification:e6,updatePackage:tn,controlResponseStatus:ti,onExternalAccessIntegrationError:eV,onNotebookConcurrentEditAlert:eH,reconnectSession:ta,connectWebsocket:ts,networkConditionChanged:tu,syncNotebookEditorState:tf,saveNotebookSessionSettings:tl,updateExecuteConfiguration:tr,openPackageUpdateAlert:tm,fetchLatestNotebookSessionSettings:to,...tg,...e9}),tv=(0,c.useCallback)((e,t,n)=>tE[(0,z.E)(e,t,n)],[tE]),tS=(0,c.useCallback)(e=>{eq.current=e},[]),t_=(0,c.useCallback)((e,t,n)=>{let r=(0,z.E)(e,t,n);return eE.current[r]},[]);return(0,c.useMemo)(()=>({getNotebookEditorState:tv,dispatchNotebookEditorStatesMap:th,connectToWebSocket:eM,disconnectWebsocket:ex,subscribe:td,setHeartbeatPollEndTimeUpdateCallback:tS,getWebsocketConnection:t_}),[eM,ex,th,tv,td,tS,t_])})()),er=en,eo=function({children:e}){return(0,r.jsx)(O.U,{children:(0,r.jsx)(et,{children:e})})};eo.displayName="NotebookEditorGlobalProvider";let ei=()=>({cellRunStatus:"neverRun",pushdownQueries:[],startedAt:void 0,endAt:void 0,cellRunStatusBeforeExecution:"neverRun"}),ea=()=>({status:ei(),message:[]})},978850:function(e,t,n){"use strict";n.d(t,{K:()=>c});var r=n(266046),o=n(989721),i=n(639090),a=n(543145),s=n(237911),l=n(53722);let u={UPDATE_RESULT:(e,t)=>{let n=t.cellId,o=e.notebookState;if(!o)return;let i=o.getCellResult(n);if(!i)return;let s=o,u=i.runId,c=i.tempRunId;if(!c||c!==u)if("running"===i.status.cellRunStatus)s=s.updateCellResult(n,{message:[t.result]});else{let e=i.message;s=s.updateCellResult(n,{message:[...e,t.result]})}let d=i.status.cellRunStatus;(0,a.be)(d)?(0,r.k)("Received forward message for a cell already done",{cellId:n}):s=s.updateCellStatus(n,{cellRunStatus:(0,l.G)(t.result)?"unfinishedError":"populatingResults"}),e.notebookState=s},CELL_RUN_STARTED:(e,t)=>{var n,r,o,i,a,s;let l=t.cellRunInfo.cellId,u=e.notebookState;u&&l&&(e.notebookState=u.updateCellResult(l,{tempSelfContentHash:null!=(r=t.cellRunInfo.selfContentHash)?r:void 0,tempFullContentHash:null!=(o=t.cellRunInfo.fullContentHash)?o:void 0,tempRunId:null!=(i=t.cellRunInfo.runId)?i:void 0,tempParentExecutionId:null!=(a=t.cellRunInfo.parentExecutionId)?a:void 0,tempExecutionId:null!=(s=t.cellRunInfo.executionId)?s:void 0}).updateCellStatus(l,{cellRunStatus:"running",startedAt:t.cellRunInfo.startedAt?"number"==typeof t.cellRunInfo.startedAt?t.cellRunInfo.startedAt:null==(n=t.cellRunInfo.startedAt)?void 0:n.toNumber():void 0,endAt:void 0,pushdownQueries:[]}))},CELL_RUN_FINISHED:(e,t)=>{var n;let r,{cellId:o}=t,i=e.notebookState;if(!i)return;let a=i.getCellResult(o);if(!a)return;let s=i;"error"!==t.state&&(s=(s=s.updateCellResult(o,{selfContentHash:a.tempSelfContentHash,fullContentHash:a.tempFullContentHash,runId:a.tempRunId,parentExecutionId:a.tempParentExecutionId,executionId:a.tempExecutionId,tempSelfContentHash:void 0,tempFullContentHash:void 0,tempRunId:void 0,tempParentExecutionId:void 0,tempExecutionId:void 0})).updatePredictExecutionId(o)),"running"===a.status.cellRunStatus&&(s=s.updateCellResult(o,{message:[]})),r="unfinishedError"===a.status.cellRunStatus?"idle"===t.state?"idle":"error":"errorStopRunning"===t.state?"error":t.state,s=s.updateCellStatus(o,{cellRunStatus:r}),(null==(n=e.intelligentEditorAgentState)?void 0:n.generatedCellIdForVisualization)===o&&(e.intelligentEditorAgentState.generatedCellRunStatus=r),0!==t.timestamp&&(s=s.updateCellStatus(o,{endAt:t.timestamp})),e.notebookState=s},NOTEBOOK_RUN_FINISHED:(e,t)=>{let n=e.notebookState;if(!n)return;let r=n;for(let e of n.data.cells)("running"===e.result.status.cellRunStatus||"populatingResults"===e.result.status.cellRunStatus)&&(r=r.updateCellStatus(e.id,{cellRunStatus:"error"})),"waiting"===e.result.status.cellRunStatus&&(3===t.state||4===t.state)&&(r=r.updateCellStatus(e.id,{cellRunStatus:e.result.status.cellRunStatusBeforeExecution}));e.notebookState=r,e.runStatus="idle"},NOTEBOOK_RUN_STARTED:(e,t)=>{e.runStatus="running",e.cacheStatus="loaded";let n=e.notebookState;if(!n)return;let r=n;for(let e of t.cellIdsToRun){var o,a;r=r.updateCellStatus(e,{cellRunStatus:"waiting",cellRunStatusBeforeExecution:null!=(a=null==(o=r.getCellById(e))?void 0:o.result.status.cellRunStatus)?a:"neverRun"})}e.notebookState=r,e.udfConnectionStatus!==i.Q.Connected&&(e.udfConnectionStatus=i.Q.Connected,e.sessionLifecycleState={...e.sessionLifecycleState,sessionEndReason:void 0}),e.bottomBarState=void 0},NOTEBOOK_CACHE_STARTED:e=>{e.cacheStatus="fetching"},NOTEBOOK_CACHE_DONE:e=>{e.cacheStatus="loaded"},NOTEBOOK_CELL_STATUS:(e,t)=>{let n=e.notebookState;if(!n)return;let r=t.cellStatus.cellId,o=n.getCellById(r);if(o){if((0,s.ro)(o))e.notebookState=n.updateCellStatus(t.cellStatus.cellId,{pushdownQueries:[]});else if((0,s.XN)(o)){var i,a;e.notebookState=n.updateCellStatus(t.cellStatus.cellId,{pushdownQueries:null!=(a=null==(i=t.cellStatus.sqlCellStatus)?void 0:i.pushdownQueries)?a:[]})}}},NOTEBOOK_UPDATE_RESOURCE_USAGE:(e,t)=>{var n;e.resourceStats=null==(n=t.resourceUtilization)?void 0:n.resourceStats},NOTEBOOK_SESSION_SETTINGS_UPDATED:(e,t,n)=>{let{id:r,role:i,secondaryRoles:a,sessionSettings:s,pageMode:l}=t,{queryWarehouse:u,role:c}=s,d={...e.notebookSessionSettingsState.settings};u&&(d.queryWarehouse=u),c&&(d.role=c.primaryRole||d.role,d.secondaryRoles=(0,o.Q)(c)||d.secondaryRoles),e.notebookSessionSettingsState.settings=d,e.notebookSessionSettingsState.settingsUpdateSource="RuntimeCodes",e.notebookSessionSettingsState.settingsUpdateTime=Date.now(),e.notebookSessionSettingsState.settingsCheckResponse={status:"success"},n({type:"saveNotebookSessionSettings",id:r,role:i,secondaryRoles:a,sessionSettings:d,pageMode:l})}},c=(e,t,n)=>{let r=u[t.type];void 0!==r&&r(e,t,n)}},456271:function(e,t,n){"use strict";n.d(t,{v:()=>p});var r=n(411733),o=n(399808),i=n(825725),a=n(237911),s=n(297871),l=n(483196),u=n(946723),c=n(432405),d=n(465507),g=n(780131);class p{swapCell(e,t){return new p((0,o.ZP)(this.data,n=>{let r=n.cells;return e>=0&&e<r.length&&t>=0&&t<r.length&&([r[e],r[t]]=[r[t],r[e]]),n}),this.options)}static fromJson(e,t){let{enableConvertRawToMarkdown:n=!1,enableSafeCellIdGeneration:r=!1,convertRawToMarkdown:o=!1}=t||{};try{let i=JSON.parse(e),a=(0,d.Jl)(i,{enableConvertRawToMarkdown:n,enableSafeCellIdGeneration:r,convertRawToMarkdown:o});for(let e of a.cells)e.result=(0,g.Hx)();let s=!1;return l.bW.pythonModule&&(a.globalVariableDefiningCellsCount=p.analyzeGlobalVars(a.cells),s=!0),new p(a,{...null!=t?t:{},globalVariablesAnalyzed:s})}catch(e){if(e instanceof d.m4||e instanceof d.hj)throw e;throw Error(`Failed to parse nbformat string. ${null==e?void 0:e.message}`)}}toJson(){let e=[];for(let t of this.data.cells){let{result:n,...r}=t;e.push(r)}return JSON.stringify({metadata:this.data.metadata,nbformat_minor:this.data.nbformat_minor,nbformat:this.data.nbformat,cells:e},null,1)}static analyzeGlobalVars(e){let t={};for(let n of e)(0,a.ro)(n)&&(0,l.a_)((0,c.V)(n)).forEach(e=>{t[e]=(t[e]||0)+1});return t}checkAndAnalyzeGlobalVars(e){l.bW.pythonModule&&!this.options.globalVariablesAnalyzed&&(e.globalVariableDefiningCellsCount=p.analyzeGlobalVars(e.cells),this.options.globalVariablesAnalyzed=!0)}addCell(e,t){return new p((0,o.ZP)(this.data,n=>{if(this.checkAndAnalyzeGlobalVars(n),n.cells.splice(e,0,t),(0,a.ro)(t)){let e=(0,l.a_)((0,c.V)(t));n.globalVariableDefiningCellsCount||(n.globalVariableDefiningCellsCount={}),e.forEach(e=>{n.globalVariableDefiningCellsCount[e]=(n.globalVariableDefiningCellsCount[e]||0)+1})}}),this.options)}removeCell(e){return new p((0,o.ZP)(this.data,t=>{this.checkAndAnalyzeGlobalVars(t);let n=t.cells[e];if(t.cells.splice(e,1),(0,a.ro)(n)){let e=(0,l.a_)((0,c.V)(n));t.globalVariableDefiningCellsCount||(t.globalVariableDefiningCellsCount={}),e.forEach(e=>{t.globalVariableDefiningCellsCount[e]&&(t.globalVariableDefiningCellsCount[e]-=1)})}}),this.options)}insertBefore(e,t){return new p((0,o.ZP)(this.data,n=>{if(e<0||e>=n.cells.length||t<0||t>=n.cells.length)return;let[r]=n.cells.splice(e,1);n.cells.splice(t,0,r)}),this.options)}moveCellUp(e){return this.swapCell(e,e-1)}moveCellDown(e){return this.swapCell(e,e+1)}modifyCell(e,t){return new p((0,o.ZP)(this.data,n=>{this.checkAndAnalyzeGlobalVars(n);let r=(0,c.V)(n.cells[e]);if(n.cells[e].source=t,(0,a.ro)(n.cells[e])){let e=(0,l.a_)(t),o=(0,l.a_)(r),i=[...e].filter(e=>!o.has(e)),a=[...o].filter(t=>!e.has(t));n.globalVariableDefiningCellsCount||(n.globalVariableDefiningCellsCount={}),i.forEach(e=>{n.globalVariableDefiningCellsCount[e]=(n.globalVariableDefiningCellsCount[e]||0)+1}),a.forEach(e=>{n.globalVariableDefiningCellsCount[e]&&(n.globalVariableDefiningCellsCount[e]-=1)})}}),this.options)}updateCellResult(e,t){let n=this.cellIndexById[e];if(void 0===n)return r.cM.warn("can not find cell corresponding to the cellId"),this;let i={...this.data.cells[n].result,...t};return new p((0,o.ZP)(this.data,e=>{e.cells[n].result=i}),this.options)}updateCellStatus(e,t){let n=this.cellIndexById[e];if(void 0===n)return r.cM.warn("can not find cell corresponding to the cellId"),this;let i={...this.data.cells[n].result.status,...t};return new p((0,o.ZP)(this.data,e=>{e.cells[n].result.status=i}),this.options)}updatePredictExecutionId(e){let t=this.cellIndexById[e];return void 0===t?(r.cM.warn("can not find cell corresponding to the cellId"),this):new p((0,o.ZP)(this.data,e=>{var n;let r=null!=(n=(0,o.Js)(e.cells))?n:[],i=t>0?r[t-1].result.executionId:void 0;for(let n=t;n<r.length;n++){let t=(0,u.b)(i,e.cells[n].result.selfContentHash,e.cells[n].result.runId);e.cells[n].result.predictedExecutionId=t,i=t}}),this.options)}setLanguage(e,t){return new p((0,o.ZP)(this.data,n=>{let r=n.cells[e],o=(0,a.ro)(r);if(this.checkAndAnalyzeGlobalVars(n),(0,a.NT)(r)&&"markdown"!==t?n.cells[e]=(0,s.f)(r,t):(0,a.M1)(r)&&"markdown"===t?n.cells[e]=(0,s.W)(r):(0,a.M1)(r)&&"markdown"!==t&&(r.metadata.language=t),n.globalVariableDefiningCellsCount||(n.globalVariableDefiningCellsCount={}),o||"python"!==t){if(o&&"python"!==t){let t=(0,c.V)(n.cells[e]);(0,l.a_)(t).forEach(e=>{n.globalVariableDefiningCellsCount[e]&&(n.globalVariableDefiningCellsCount[e]-=1)})}}else{let t=(0,c.V)(n.cells[e]);(0,l.a_)(t).forEach(e=>{n.globalVariableDefiningCellsCount[e]=(n.globalVariableDefiningCellsCount[e]||0)+1})}}),this.options)}setWarehouse(e,t){return new p((0,o.ZP)(this.data,n=>{let r=n.cells[e];if(!(0,a.XN)(r))throw Error("setting warehouse on non-SQL cell not yet supported");r.metadata.EXECUTION_WAREHOUSE=t}),this.options)}setContentState(e,t){return new p((0,o.ZP)(this.data,n=>{if(void 0!==e){let r=n.cells[e];void 0!==t.collapsed&&(r.metadata.collapsed=t.collapsed),(0,a.M1)(r)&&void 0!==t.codeCollapsed&&(r.metadata.codeCollapsed=t.codeCollapsed)}else{let e=this.data.cells;for(let r=0;r<e.length;r++){let e=n.cells[r];void 0!==t.collapsed&&(e.metadata.collapsed=t.collapsed),(0,a.M1)(e)&&void 0!==t.codeCollapsed&&(e.metadata.codeCollapsed=t.codeCollapsed)}}}),this.options)}updateLastEditStatus(e){return new p((0,o.ZP)(this.data,t=>{t.metadata.lastEditStatus=e}),this.options)}renameCell(e,t){return new p((0,o.ZP)(this.data,n=>{n.cells[e].metadata.name=t}),this.options)}getCellsProto(){let e=[];for(let n of this.data.cells){var t;let{id:r,metadata:o,cell_type:i,source:a}=n,s={};for(let e in o)("string"==typeof o[e]||o[e]instanceof String)&&(s[e]=o[e]);e.push({id:r,name:null!=(t=o.name)?t:"",metadata:s,type:"code"===i?o.language:i,code:"string"==typeof a?a:a.join(""),outputFormat:o.outputFormat})}return e}getCellIndexById(e){return this.cellIndexById[e]}getCellById(e){return this.data.cells[this.cellIndexById[e]]}getCellResult(e){var t;return null==(t=this.getCellById(e))?void 0:t.result}getCellResultSize(e){var t;return(0,i.Q)(null==(t=this.getCellResult(e))?void 0:t.message)}getCellResultMessageCount(e){var t,n;return null!=(n=null==(t=this.getCellResult(e))?void 0:t.message.length)?n:0}getCellResultQueryId(e){var t,n,r;let o=null==(t=this.getCellResult(e))?void 0:t.status,[i]=null!=(n=null==o?void 0:o.pushdownQueries)?n:[];return null!=(r=null==i?void 0:i.queryId)?r:void 0}getLastEditStatus(){var e,t;return null==(t=this.data)||null==(e=t.metadata)?void 0:e.lastEditStatus}getGlobalVariables(){var e;return null!=(e=this.data.globalVariableDefiningCellsCount)?e:{}}clearAllResults(){let e=this.data.cells;return new p((0,o.ZP)(this.data,t=>{for(let n=0;n<e.length;n++)t.cells[n].result=(0,g.Hx)()}),this.options)}clearAllExecutionStates(){let e=this.data.cells;return new p((0,o.ZP)(this.data,t=>{for(let n=0;n<e.length;n++)"neverRun"!==t.cells[n].result.status.cellRunStatus&&(t.cells[n].result.status.cellRunStatus="idle")}),this.options)}isAllCellsExpanded(){let e=!0;return this.data.cells.forEach(t=>{(0,a.M1)(t)&&t.metadata.codeCollapsed&&t.metadata.collapsed&&(e=!1),(0,a.NT)(t)&&t.metadata.collapsed&&(e=!1)}),e}isCellResultCollapsed(e){var t;let n=this.cellIndexById[e];return!!(null==(t=this.data.cells[n])?void 0:t.metadata.collapsed)}constructor(e,t={}){this.data=e,this.options=t,this.cellIndexById={};for(let t=0;t<e.cells.length;t++){let n=e.cells[t];this.cellIndexById[n.id]=t}}}},825818:function(e,t,n){"use strict";n.d(t,{Q:()=>o});var r=n(583853);function o(e,t,n){let{id:o,role:i,secondaryRoles:a,cacheLoadId:s,pageMode:l}=t;s===e.cacheLoadId&&(0,r.P)(e.cacheStatus)&&(e.cacheStatus="error",n({type:"onNotebookError",id:o,role:i,secondaryRoles:a,error:"Some cell results could not be loaded.",silent:!0,pageMode:l}))}},399215:function(e,t,n){"use strict";function r(e,t){let{cacheLoadId:n}=t;e.cacheStatus="pending",e.cacheLoadId=n}n.d(t,{X:()=>r})},440777:function(e,t,n){"use strict";n.d(t,{v:()=>a});var r=n(623368),o=n(620400),i=n(194838);function a(e,t,n){var a;let{id:s,role:l,secondaryRoles:u,pageMode:c}=t;(0,r.OY)(i.bZ,(0,o.m)(s)),null==(a=e.notebookState)||a.getCellsProto().forEach(e=>{var t;(0,r.OY)(i.QX,null!=(t=e.id)?t:"")}),n({type:"fetchCachedResults",id:s,role:l,secondaryRoles:u,pageMode:c})}},770354:function(e,t,n){"use strict";n.d(t,{p:()=>l});var r=n(468804),o=n(766120),i=n(187604),a=n(859106),s=n(250077);function l(e,t,n){var l,u,c,d,g,p;let{id:f,role:m,secondaryRoles:E,addAfterCell:h,newCellName:v,cellType:S,content:_,runCellAfterCreation:b,allowModifyWithoutSourceCodeEditingPrivilege:I,pageMode:y,source:R}=t,T=(0,a.o)(y);if(!I&&!T)return;let N=e.notebookState;if(!N)return;let C=h||e.selectedCell,A=N.data.cells.findIndex(e=>e.id===C),L=-1===A?N.data.cells.length:A+1,k=null==(l=e.notebookState)?void 0:l.data.cells,w=v||(0,i.i)(null!=k?k:[]),O=(0,o.B)(S,w,_),D=N.addCell(L,O);e.notebookState=D,e.selectedCell=O.id,T?(n({type:"writeToStage",id:f,role:m,secondaryRoles:E,content:D.toJson(),currentNotebookViewId:null!=(c=null==(u=e.sessionLifecycleState)?void 0:u.notebookViewId)?c:"",isSourceCodeChange:!0,lastestNotebookLoadTime:null!=(d=e.lastestNotebookLoadTime)?d:0,lastEditStatus:null!=(g=e.notebookState.getLastEditStatus())?g:null,pageMode:y}),n({type:"logNotebookCellUITelemetry",id:f,role:m,secondaryRoles:E,event:r.JW3,data:{cellId:O.id,cellIndex:L,cellType:S},pageMode:y})):e.cellContentMetadata[O.id].cellNotPersisted=!0,"cellVisualization"===R&&(e.notebookState=e.notebookState.setContentState(L,{collapsed:!1,codeCollapsed:!0}),e.intelligentEditorAgentState={...null!=(p=e.intelligentEditorAgentState)?p:{},generatedCellIdForVisualization:O.id}),b&&(0,s.m)(e,{...t,type:"RUN_NOTEBOOK",runCellId:O.id,cellRunType:0,userTriggered:!0},n)}},811668:function(e,t,n){"use strict";n.d(t,{i:()=>s});var r=n(468804),o=n(766120),i=n(187604),a=n(859106);function s(e,t,n){var s,l,u,c,d;if(!(0,a.o)(t.pageMode))return;let g=e.notebookState;if(!g)return;let p=null==(s=e.notebookState)?void 0:s.data.cells,f=(0,i.i)(null!=p?p:[]),m=(0,o.B)(t.cellType,f),E=g.addCell(t.index,m);return e.notebookState=E,e.selectedCell=m.id,n({type:"writeToStage",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,content:E.toJson(),currentNotebookViewId:null!=(u=null==(l=e.sessionLifecycleState)?void 0:l.notebookViewId)?u:"",isSourceCodeChange:!0,lastestNotebookLoadTime:null!=(c=e.lastestNotebookLoadTime)?c:0,lastEditStatus:null!=(d=e.notebookState.getLastEditStatus())?d:null,pageMode:t.pageMode}),n({type:"logNotebookCellUITelemetry",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,event:r.JW3,data:{cellId:m.id,cellIndex:t.index,cellType:t.cellType},pageMode:t.pageMode}),E}},454749:function(e,t,n){"use strict";n.d(t,{e:()=>i});var r=n(237911),o=n(811668);function i(e,t,n){let i=e.notebookState;if(!i)return;let a=i.data.cells,s=i.getCellById(t.runCellId),l=i.getCellIndexById(t.runCellId);if(s&&void 0!==l)if(l+1>=a.length){let i=(0,r.M1)(s)?s.metadata.language:"markdown";(0,o.i)(e,{type:"ADD_CELL",cellType:i,index:l+1,role:t.role,secondaryRoles:t.secondaryRoles,id:t.id,pageMode:t.pageMode},n)}else e.selectedCell=a[l+1].id||void 0}},791318:function(e,t,n){"use strict";n.d(t,{x:()=>r});let r=(e,t)=>{let n=e.notebookState;n&&(e.notebookState=n.setContentState(t.index,t.contentState))}},696751:function(e,t,n){"use strict";n.d(t,{S:()=>o});var r=n(859106);let o=(e,t,n)=>{var o,i,a,s;if(!(0,r.o)(t.pageMode))return;let l=e.notebookState;if(!l)return;let u=l.setLanguage(t.index,t.language);e.notebookState=u,n({type:"writeToStage",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,content:u.toJson(),currentNotebookViewId:null!=(i=null==(o=e.sessionLifecycleState)?void 0:o.notebookViewId)?i:"",isSourceCodeChange:!0,lastestNotebookLoadTime:null!=(a=e.lastestNotebookLoadTime)?a:0,lastEditStatus:null!=(s=e.notebookState.getLastEditStatus())?s:null,pageMode:t.pageMode})}},684158:function(e,t,n){"use strict";n.d(t,{e:()=>r});let r=(e,t,n)=>{e.resultHeightMap[t.cellId]=t.resultHeight,t.shouldSave&&n({type:"saveResultHeight",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,urlId:e.urlId,cellId:t.cellId,resultHeight:t.resultHeight,pageMode:t.pageMode})}},806435:function(e,t,n){"use strict";n.d(t,{B:()=>i});var r=n(468804),o=n(859106);let i=(e,t,n)=>{var i,a,s,l;if(!(0,o.o)(t.pageMode))return;let u=e.notebookState;if(!u)return;e.selectedCell=u.data.cells[t.from].id;let c=u.insertBefore(t.from,t.to);e.notebookState=c,n({type:"writeToStage",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,content:c.toJson(),currentNotebookViewId:null!=(a=null==(i=e.sessionLifecycleState)?void 0:i.notebookViewId)?a:"",isSourceCodeChange:!0,lastestNotebookLoadTime:null!=(s=e.lastestNotebookLoadTime)?s:0,lastEditStatus:null!=(l=e.notebookState.getLastEditStatus())?l:null,pageMode:t.pageMode}),n({type:"logNotebookCellUITelemetry",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,event:r.jSd,pageMode:t.pageMode})}},117111:function(e,t,n){"use strict";n.d(t,{d:()=>o});var r=n(859106);function o(e,t,n){if(!(0,r.o)(t.pageMode))return;let o=t.writeToStage,i=e.notebookState;if(!i)return;let a=i.modifyCell(t.index,t.content);if(t.language&&(a=a.setLanguage(t.index,t.language)),t.isProgrammaticContentUpdate){e.cellContentMetadata||(e.cellContentMetadata={});let n=a.data.cells[t.index].id;e.cellContentMetadata[n]||(e.cellContentMetadata[n]={}),e.cellContentMetadata[n].lastProgrammaticUpdateTime=Date.now()}if(e.notebookState=a,o){var s,l,u,c;n({type:"writeToStage",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,content:a.toJson(),currentNotebookViewId:null!=(l=null==(s=e.sessionLifecycleState)?void 0:s.notebookViewId)?l:"",isSourceCodeChange:!0,lastestNotebookLoadTime:null!=(u=e.lastestNotebookLoadTime)?u:0,lastEditStatus:null!=(c=e.notebookState.getLastEditStatus())?c:null,pageMode:t.pageMode})}return a}},852853:function(e,t,n){"use strict";n.d(t,{V:()=>s,a:()=>a});var r=n(468804),o=n(237911),i=n(859106);let a=(e,t,n)=>{var a,s,l,u;if(!(0,i.o)(t.pageMode))return;let c=e.notebookState;if(!c)return;let d=c.data.cells[t.index],g=d.id,p=(0,o.DA)(d),f=c.moveCellUp(t.index);e.notebookState=f;let m=c.getCellResult(g);n({type:"writeToStage",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,content:f.toJson(),currentNotebookViewId:null!=(s=null==(a=e.sessionLifecycleState)?void 0:a.notebookViewId)?s:"",isSourceCodeChange:!0,lastestNotebookLoadTime:null!=(l=e.lastestNotebookLoadTime)?l:0,lastEditStatus:null!=(u=e.notebookState.getLastEditStatus())?u:null,pageMode:t.pageMode}),n({type:"logNotebookCellUITelemetry",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,event:r.ETJ,data:{cellId:g,cellIndex:t.index,cellType:p,runId:null==m?void 0:m.runId},pageMode:t.pageMode})},s=(e,t,n)=>{var a,s,l,u;if(!(0,i.o)(t.pageMode))return;let c=e.notebookState;if(!c)return;let d=c.data.cells[t.index],g=d.id,p=(0,o.DA)(d),f=c.moveCellDown(t.index);e.notebookState=f;let m=c.getCellResult(g);n({type:"writeToStage",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,content:f.toJson(),currentNotebookViewId:null!=(s=null==(a=e.sessionLifecycleState)?void 0:a.notebookViewId)?s:"",isSourceCodeChange:!0,lastestNotebookLoadTime:null!=(l=e.lastestNotebookLoadTime)?l:0,lastEditStatus:null!=(u=e.notebookState.getLastEditStatus())?u:null,pageMode:t.pageMode}),n({type:"logNotebookCellUITelemetry",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,event:r.G1R,data:{cellId:g,cellIndex:t.index,cellType:p,runId:null==m?void 0:m.runId},pageMode:t.pageMode})}},366207:function(e,t,n){"use strict";n.d(t,{r:()=>a});var r=n(468804),o=n(237911),i=n(859106);let a=(e,t,n)=>{var a,s,l,u;if(!(0,i.o)(t.pageMode))return;let c=e.notebookState;if(!c)return;let d=c.data.cells[t.index],g=d.id,p=(0,o.DA)(d),f=c.removeCell(t.index);e.notebookState=f;let m=Math.min(f.data.cells.length-1,t.index);e.selectedCell=m>=0?f.data.cells[m].id:void 0,n({type:"writeToStage",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,content:f.toJson(),currentNotebookViewId:null!=(s=null==(a=e.sessionLifecycleState)?void 0:a.notebookViewId)?s:"",isSourceCodeChange:!0,lastestNotebookLoadTime:null!=(l=e.lastestNotebookLoadTime)?l:0,lastEditStatus:null!=(u=e.notebookState.getLastEditStatus())?u:null,pageMode:t.pageMode}),n({type:"logNotebookCellUITelemetry",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,event:r.Q_$,data:{cellId:g,cellIndex:t.index,cellType:p},pageMode:t.pageMode})}},993727:function(e,t,n){"use strict";n.d(t,{e:()=>i});var r=n(859106),o=n(550748);function i(e,t,n){if(!(0,r.o)(t.pageMode))return;let i=e.notebookState;if(!i)return;let{newCellName:a,index:s,id:l,role:u,secondaryRoles:c}=t;e.runStatus="idle";let{isValid:d}=(0,o.Ke)(a,i.getGlobalVariables()),g=(0,o.ae)(i.data.cells,a,s);if(d&&g){var p,f,m,E;let r=i.renameCell(s,a);n({type:"writeToStage",id:l,role:u,secondaryRoles:c,content:r.toJson(),currentNotebookViewId:null!=(f=null==(p=e.sessionLifecycleState)?void 0:p.notebookViewId)?f:"",isSourceCodeChange:!0,lastestNotebookLoadTime:null!=(m=e.lastestNotebookLoadTime)?m:0,lastEditStatus:null!=(E=r.getLastEditStatus())?E:null,pageMode:t.pageMode}),e.notebookState=r}g||n({type:"onNotebookError",id:l,role:u,secondaryRoles:c,error:o._y.DUPLICATE,logError:!1,pageMode:t.pageMode})}},34153:function(e,t,n){"use strict";function r(e,t){e.selectedCell=t.cellId}n.d(t,{n:()=>r})},530159:function(e,t,n){"use strict";function r(e){e.selectedCell=void 0}n.d(t,{X:()=>r})},902514:function(e,t,n){"use strict";function r(e,t){let n=e.notebookState;if(!n)return void console.error("Cannot update markdown result as Notebook state is not initialized yet");let{cellId:r,message:o}=t;e.notebookState=n.updateCellResult(r,{message:[o]}).updateCellStatus(r,{cellRunStatus:"idle"})}n.d(t,{c:()=>r})},858431:function(e,t,n){"use strict";function r(e,t,n){let{id:r,role:o,secondaryRoles:i}=t;"running"===e.runStatus&&(e.runStatus="cancelling",n({type:"cancelExecution",id:r,role:o,secondaryRoles:i,pageMode:t.pageMode}))}n.d(t,{q:()=>r})},963051:function(e,t,n){"use strict";n.d(t,{G:()=>o});var r=n(250077);let o=(e,t,n)=>{let o={...t,type:"RUN_NOTEBOOK",clearCodeResults:!0,userTriggered:!0};t.runCellId?(0,r.m)(e,{...o,cellRunType:0,runCellId:t.runCellId},n):(0,r.m)(e,{...o,cellRunType:1,runCellId:""},n)}},381556:function(e,t,n){"use strict";n.d(t,{E:()=>r});let r=e=>{e.runStatus="idle"}},250077:function(e,t,n){"use strict";n.d(t,{m:()=>c});var r=n(700577),o=n(781708),i=n(998447),a=n(664063),s=n(691352),l=n(639090),u=n(53760);function c(e,t,n){var c,d,g;let p=e.notebookState,f=e.udfConnectionStatus,m="spcs"===e.notebookRuntime,E=r.i.UI_ENABLE_NOTEBOOK_DISABLED_SPCS_EXPERIENCE_FOR_ADMINS(),h=(0,s.e)(t.role)&&E&&m;if(!p)return void console.debug("Notebook state is not yet loaded");if(h)return void n({type:"pushNotification",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode,notificationProps:{type:"alert",content:(0,i.c)(),autoDismiss:!1}});if(m){let e=(0,u.V)(t.id.name),r=(0,a.J)(e);if(r)return void n({type:"pushNotification",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode,notificationProps:{type:"alert",content:r,autoDismiss:!1}})}if((null==(c=e.sessionLifecycleState)?void 0:c.isReplayingMessagesAfterReconnect)||f!==l.Q.Connecting&&f!==l.Q.Reconnecting)f===l.Q.NotConnected&&(e.udfConnectionStatus=l.Q.Connecting,e.sessionLifecycleState={...null!=(g=e.sessionLifecycleState)?g:{},sessionStartTimeMs:Date.now(),sessionEndTimeMs:void 0,sessionEndReason:void 0,sessionStartId:o.Z()},n({type:"logNotebookStartingSessionTelemetry",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode}));else{(null==(d=e.sessionLifecycleState)?void 0:d.sessionEndReason)&&(e.sessionLifecycleState.sessionEndReason=void 0);return}"running"!==e.runStatus&&(e.runStatus="waiting");let v=p.getCellsProto().filter(e=>"markdown"!==e.type);t.clearCodeResults&&(v=0===t.cellRunType?v.map(e=>e.id===t.runCellId?{...e,code:""}:e):v.map(e=>({...e,code:""}))),n({id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,type:"runCells",cellRunType:t.cellRunType,runCellId:t.runCellId,clientState:t.clientState,cells:v,eventType:t.eventType,notebookRuntime:e.notebookRuntime,pageMode:t.pageMode})}},208412:function(e,t,n){"use strict";n.d(t,{$R:()=>R.$,$y:()=>x.$,Av:()=>O.A,B8:()=>g.B,BX:()=>j.B,B_:()=>Q.B,E7:()=>D.E,EY:()=>I.E,Gl:()=>b.G,JQ:()=>A.J,L6:()=>z.L,QM:()=>M.Q,Qy:()=>r.Q,Ru:()=>$.R,Rx:()=>W.R,S4:()=>c.S,U3:()=>L.U,Vd:()=>f.V,WS:()=>H.W,X0:()=>v.X,Xt:()=>o.X,_9:()=>w._,aF:()=>f.a,ch:()=>S.c,dG:()=>p.d,e7:()=>l.e,eQ:()=>d.e,em:()=>E.e,g3:()=>B.g,h1:()=>C.h,i6:()=>s.i,iD:()=>F.i,kB:()=>P.k,ke:()=>k.k,mW:()=>y.m,n5:()=>h.n,ov:()=>G.o,p9:()=>a.p,pT:()=>N.p,qg:()=>_.q,rM:()=>V.r,rZ:()=>m.r,rr:()=>K.r,v2:()=>i.v,vh:()=>T.v,xM:()=>u.x,y9:()=>U.y});var r=n(825818),o=n(399215),i=n(440777),a=n(770354),s=n(811668),l=n(454749),u=n(791318),c=n(696751),d=n(684158),g=n(806435),p=n(117111),f=n(852853),m=n(366207),E=n(993727),h=n(34153),v=n(530159),S=n(902514),_=n(858431),b=n(963051),I=n(381556),y=n(250077),R=n(516954),T=n(751650),N=n(645909),C=n(492342),A=n(319291),L=n(3259),k=n(856406),w=n(969678),O=n(689606),D=n(403890),M=n(461208),x=n(570875),U=n(737168),P=n(306735),$=n(919593),F=n(610893),B=n(253293),G=n(890816),V=n(601496),j=n(435739),H=n(205832),W=n(624870),K=n(155464),Q=n(356342),z=n(836489)},836489:function(e,t,n){"use strict";function r(e,t,n){var r;let{intelligentEditorAgentState:o}=t;o&&(e.intelligentEditorAgentState={...null!=(r=e.intelligentEditorAgentState)?r:{},...o})}n.d(t,{L:()=>r})},516954:function(e,t,n){"use strict";n.d(t,{$:()=>o});var r=n(639090);function o(e,t,n){let{id:o,role:i,secondaryRoles:a}=t;e.udfConnectionStatus===r.Q.Connected&&n({type:"fetchResourceUsage",id:o,role:i,secondaryRoles:a,pageMode:t.pageMode})}},751650:function(e,t,n){"use strict";n.d(t,{v:()=>o});var r=n(468804);let o=(e,t,n)=>{var o;e.error=t.error,e.loadStatus="error",n({type:"logNotebookIPYNBTelemetry",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode,event:r.vJg,eventType:"ui_response_error",data:{error:null==(o=t.error)?void 0:o.message}})}},645909:function(e,t,n){"use strict";n.d(t,{p:()=>i});var r=n(468804),o=n(456271);let i=(e,t,n)=>{try{var i;e.notebookState=o.v.fromJson(t.result,{enableSafeCellIdGeneration:null!=(i=t.enableSafeCellIdGeneration)&&i}),e.loadStatus="loaded",e.lastestNotebookLoadTime=Date.now(),n({type:"logNotebookIPYNBTelemetry",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode,event:r.j4e,eventType:"ui_response_success"})}catch(o){e.error=o,e.loadStatus="error",n({type:"logNotebookIPYNBTelemetry",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode,event:r.vJg,eventType:"ui_response_error",data:{error:null==o?void 0:o.message}})}}},334481:function(e,t,n){"use strict";function r(e,t){Object.assign(e,{},t.state)}n.d(t,{l:()=>r})},880441:function(e,t,n){"use strict";n.d(t,{o:()=>o});var r=n(868288);function o(e){var t;let n=(0,r.a)({notebookViewId:null==(t=e.sessionLifecycleState)?void 0:t.notebookViewId,notebookUrlInfo:e.notebookUrlInfo});Object.assign(e,{},n)}},492342:function(e,t,n){"use strict";n.d(t,{h:()=>o});var r=n(468804);function o(e,t,n){var o;e.error=t.error;let{editStatusToUpdate:i,saveEligibilityCheckStatus:a,editingUserId:s,editingUserName:l,editingUserEmail:u,lastEditTime:c,isSourceCodeChange:d}=t;(null==e?void 0:e.notebookState)&&i&&(e.notebookState=e.notebookState.updateLastEditStatus(i)),a&&"canSave"!==a&&n({type:"onNotebookConcurrentEditAlert",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode,saveEligibilityCheckStatus:a,editingUserName:null!=l?l:"",editingUserEmail:u}),n({type:"logNotebookEditTelemetry",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode,event:r.Ari,eventType:"ui_response_error",error:a&&"canSave"!==a?a:String(null!=(o=t.error)?o:""),data:{currentEditingUser:s,lastEditTime:c,saveEligibilityCheckStatus:a,isSourceCodeChange:d}})}},319291:function(e,t,n){"use strict";n.d(t,{J:()=>o});var r=n(468804);function o(e,t,n){let{editStatusToUpdate:o,saveDone:i,isSourceCodeChange:a}=t;i&&(e.lastestNotebookLoadTime=Date.now()),(null==e?void 0:e.notebookState)&&o&&(e.notebookState=e.notebookState.updateLastEditStatus(o)),n({type:"logNotebookEditTelemetry",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode,event:r.ZOT,eventType:"ui_response_success",data:{currentEditingUser:null==o?void 0:o.authorId,lastEditTime:null==o?void 0:o.lastEditTime,saveEligibilityCheckStatus:"canSave",saveDone:i,isSourceCodeChange:a}})}},3259:function(e,t,n){"use strict";function r(e,t){var n;t.expectedPrevType&&(null==(n=e.bottomBarState)?void 0:n.type)!==t.expectedPrevType||(e.bottomBarState=t.bottomBarState)}n.d(t,{U:()=>r})},856406:function(e,t,n){"use strict";function r(e){var t;e.sessionLifecycleState={...null!=(t=e.sessionLifecycleState)?t:{},isNonInteractiveSession:!0}}n.d(t,{k:()=>r})},50038:function(e,t,n){"use strict";function r(e,t){let{urlInfo:n}=t;e.notebookUrlInfo=n}n.d(t,{u:()=>r})},969678:function(e,t,n){"use strict";function r(e,t){e.urlId=t.urlId,e.resultHeightMap=t.resultHeightMap}n.d(t,{_:()=>r})},689606:function(e,t,n){"use strict";n.d(t,{A:()=>o});var r=n(468804);let o=(e,t,n)=>{n({type:"readFromStage",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,queryId:t.queryId,pageMode:t.pageMode}),e.loadStatus="loading",n({type:"logNotebookIPYNBTelemetry",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,event:r.weH,eventType:"ui_visit",pageMode:t.pageMode})}},76688:function(e,t,n){"use strict";n.d(t,{v:()=>r});let r=(e,t,n)=>{var r,o,i,a;let s=e.notebookState;"loaded"===e.loadStatus&&s&&n({type:"writeToStage",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,content:s.toJson(),currentNotebookViewId:null!=(o=null==(r=e.sessionLifecycleState)?void 0:r.notebookViewId)?o:"",isSourceCodeChange:!0,lastestNotebookLoadTime:null!=(i=e.lastestNotebookLoadTime)?i:0,lastEditStatus:null!=(a=s.getLastEditStatus())?a:null,pageMode:t.pageMode})}},727267:function(e,t,n){"use strict";function r(e,t){let{editStatusToUpdate:n}=t;(null==e?void 0:e.notebookState)&&n&&(e.notebookState=e.notebookState.updateLastEditStatus(n))}n.d(t,{V:()=>r})},929853:function(e,t,n){"use strict";function r(e,t){e.notebookRuntime=t.notebookRuntime}n.d(t,{O:()=>r})},403890:function(e,t,n){"use strict";n.d(t,{E:()=>c});var r=n(700577),o=n(184547),i=n(799787),a=n(420174),s=n(515562),l=n(222683),u=n(639090);let c=(e,t,n)=>{var c,d,g,p,f,m,E,h,v,S,_,b,I,y;let{message:R,updatePackageTimeoutId:T,isNotebookRestartKernelEnabled:N}=t,C=e.notebookState,A=r.i._DP_UI_NOTEBOOK_PACKAGE_UPDATE_ALERT(),L=t=>{(0,i.h)(0===t.level),e.bottomBarState={type:"ReceivedStreamlitLifecycleMsg",data:{level:0,topic:t.topic,payload:t.payload}}};switch(R.type){case"lifecycleMsg":{let o=(0,i.h)(R.lifecycleMsg);switch(o.level){case 0:switch(o.topic){case 2:{let t=o.payload?JSON.parse(o.payload):void 0;(null==t?void 0:t.serviceStatus)==="RUNNING"&&(e.serviceStatusInfo=t),L(o);break}case 3:case 4:N&&e.udfConnectionStatus===u.Q.RestartingKernel&&(e.notebookState=C.clearAllExecutionStates(),e.runStatus="notStarted"),L(o);break;case 5:N&&e.udfConnectionStatus===u.Q.RestartingKernel&&(e.udfConnectionStatus=u.Q.Connected,n({type:"pushNotification",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,notificationProps:{type:"success",content:(0,l.n)(),autoDismiss:!0},pageMode:t.pageMode}),n({type:"logNotebookKernelRestartEnd",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode})),L(o);break;case 1:case 8:L(o)}break;case 1:case 2:{let i=null==(c=(0,s.xe)(o,a.M.NOTEBOOK,t.getDocsUrl))?void 0:c(),l=`${o.topic}. ${o.payload}`;r.i.ENABLE_NOTEBOOK_UNIFIED_LIFECYCLE_ERROR_MSG()&&n({type:"logUnifiedLifecycleErrorTelemetry",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode,data:{level:o.level,error:l,udfConnectionStatus:e.udfConnectionStatus,errorReason:o.errorReason,errorCode:o.errorCode,isUserError:o.isUserError}}),e.udfConnectionStatus===u.Q.Connecting?(e.udfConnectionStatus=u.Q.NotConnected,n({type:"logNotebookSessionTelemetry",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode,data:{isSuccess:!1,error:l}})):e.udfConnectionStatus===u.Q.Reconnecting?(e.udfConnectionStatus=u.Q.NotConnected,e.sessionLifecycleState&&(e.sessionLifecycleState.reconnectResultInfo={error:l}),n({type:"logSessionReconnectCompleted",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode,data:{error:l}}),n({type:"logSessionReconnectDetails",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode})):n(e.udfConnectionStatus===u.Q.RestartingKernel&&N?{type:"logNotebookKernelRestartEnd",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode,data:{error:l}}:{type:"logNotebookSessionErrorMessage",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode,data:{error:l}}),n({type:"pushNotification",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode,notificationProps:{type:"alert",content:i,autoDismiss:!1}}),n({type:"onNotebookError",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode,error:(null==i?void 0:i.props.id)||l,silent:!0})}}break}case"clientControlResponse":{clearTimeout(T);let r=(0,i.h)(R.clientControlResponse);if(r.executeConfigurationUpdateResponse){let o=r.executeConfigurationUpdateResponse,i=!!(null==o||null==(d=o.resolutionErrors)?void 0:d.length);e.notebookSessionSettingsState.settingsCheckResponse={status:i?"error":"success",resolutionErrors:null!=(g=o.resolutionErrors)?g:void 0},i&&"UserActionOnPage"===e.notebookSessionSettingsState.settingsUpdateSource&&n({type:"pushNotification",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode,notificationProps:{type:"alert",content:(0,s.XJ)(null!=(p=o.resolutionErrors)?p:void 0),autoDismiss:!1}})}else if(r.updateSessionSettingsResponse){let o=r.updateSessionSettingsResponse;(null==o||null==(f=o.error)?void 0:f.length)&&"UserActionOnPage"===e.notebookSessionSettingsState.settingsUpdateSource&&n({type:"pushNotification",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode,notificationProps:{type:"alert",content:(0,s.C$)(null!=(m=o.error)?m:void 0),autoDismiss:!1}})}else if(r.getSessionSettingsResponse){let i=r.getSessionSettingsResponse.sessionSettings;if(!i)return;let a=e.notebookSessionSettingsState.settings,s={...a,queryWarehouse:i.queryWarehouse||a.queryWarehouse,role:(null==(E=i.role)?void 0:E.primaryRole)||a.role,secondaryRoles:(null==(h=i.role)?void 0:h.allSelected)?o.Bq:(null==(v=i.role)?void 0:v.noneSelected)?o.sM:a.secondaryRoles};(s.queryWarehouse!==a.queryWarehouse||s.role!==a.role||s.secondaryRoles!==a.secondaryRoles)&&(e.notebookSessionSettingsState.settings=s,e.notebookSessionSettingsState.settingsUpdateSource="RuntimeCodes",e.notebookSessionSettingsState.settingsUpdateTime=Date.now(),e.notebookSessionSettingsState.settingsCheckResponse={status:"success"},n({type:"saveNotebookSessionSettings",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode,sessionSettings:s}))}else if(A&&r.updateCondaEnvironment&&1===r.updateCondaEnvironment.environmentStatus){let e=r.updateCondaEnvironment.packageUpdates;(null==e?void 0:e.length)&&e.length>0&&(n({type:"openPackageUpdateAlert",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode}),n({type:"logNotebookPackageUpdateAlertTelemetry",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode}))}else{r.updateCondaEnvironment&&n({type:"logCondaPackageUpdateTelemetry",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode,controlResponse:r});let o=1===r.status||(null==(S=r.error)?void 0:S.errorMessage);e.runStatus=o?"updatingPackagesFailed":"idle",o||n({type:"pushNotification",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,notificationProps:{type:"success",content:(0,s.Oz)(),autoDismiss:!0},pageMode:t.pageMode})}break}case"notebookUserChannelStarted":{let r=(null==(_=t.message.notebookUserChannelStarted)?void 0:_.whReconnectMode)?({0:"FAST",1:"NEW_JOB"})[null==(b=t.message.notebookUserChannelStarted)?void 0:b.whReconnectMode]:void 0,o=(null==(I=t.message.notebookUserChannelStarted)?void 0:I.whReconnectInstance)?({0:"CONTROL",1:"USER"})[null==(y=t.message.notebookUserChannelStarted)?void 0:y.whReconnectInstance]:void 0;e.sessionLifecycleState&&(e.sessionLifecycleState.userChannelStartedInfo={...t.message.notebookUserChannelStarted,whReconnectMode:r,whReconnectInstance:o}),n({type:"logSessionReconnectDetails",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:t.pageMode})}}}},461208:function(e,t,n){"use strict";n.d(t,{Q:()=>p});var r=n(819260),o=n(399808),i=n(623368),a=n(468804),s=n(194838),l=n(639090),u=n(237911),c=n(53722),d=n(311582),g=n(978850);let p=(e,t,n)=>{var p,f,m,E,h,v,S,_,b,I,y,R,T,N,C,A,L,k;let{message:w,id:O,role:D,secondaryRoles:M,pageMode:x}=t;if(null==(p=w.notebookStart)?void 0:p.isCache)(0,g.K)(e,{type:"NOTEBOOK_CACHE_STARTED"},n),n({type:"logNotebookRunTelemetry",event:a.F1$,id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:x,data:{isCache:!0}});else if(null==(f=w.notebookStart)?void 0:f.cellIdsToRun){let r=e.udfConnectionStatus;(0,g.K)(e,{type:"NOTEBOOK_RUN_STARTED",cellIdsToRun:w.notebookStart.cellIdsToRun},n),r!==e.udfConnectionStatus&&e.udfConnectionStatus===l.Q.Connected&&(r===l.Q.Reconnecting?(e.sessionLifecycleState&&(e.sessionLifecycleState.reconnectResultInfo={}),n({type:"fetchLatestNotebookSessionSettings",id:O,role:D,secondaryRoles:M,pageMode:x}),n({type:"logSessionReconnectCompleted",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:x,data:{}}),n({type:"logSessionReconnectDetails",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:x})):r===l.Q.Connecting&&n({type:"logNotebookSessionTelemetry",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:x,data:{isSuccess:!0,previousUdfStatus:r}}));let i=(0,o.Js)(e),s=[];for(let e of w.notebookStart.cellIdsToRun){let t=null==i||null==(E=i.notebookState)?void 0:E.getCellById(e);t?s.push((0,u.DA)(t)):s.push("unknown")}n({type:"logNotebookRunTelemetry",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:x,event:a.dJY,data:{cellIdsToRun:w.notebookStart.cellIdsToRun,cellTypes:s}}),n({type:"startRunningNotebookHeartbeat",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:x})}else if(w.cellRunInfo&&w.cellRunInfo.cellId&&w.cellRunInfo.runId){let r=(0,o.Js)(e),l=w.cellRunInfo.cellId?null==r||null==(h=r.notebookState)?void 0:h.getCellById(w.cellRunInfo.cellId):void 0;(0,g.K)(e,{type:"CELL_RUN_STARTED",cellRunInfo:w.cellRunInfo},n);let c=w.cellRunInfo.cellId;(0,i.H$)(s.kk,c),n({type:"logNotebookCellRunTelemetry",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:x,event:a._KU,data:{cellId:c,runId:w.cellRunInfo.runId,cellType:l?(0,u.DA)(l):""},markerInfo:{event:s.QX,markers:[c]}})}else if(w.cellRunDone&&w.cellRunDone.cellId){let r=e.cacheStatus,o=1===w.cellRunDone.state,i=w.cellRunDone.cellId,l="success";"fetching"===r?l="idle":o||(l=4===w.cellRunDone.state?"errorStopRunning":"error"),(0,g.K)(e,{type:"CELL_RUN_FINISHED",cellId:i,state:l,timestamp:"number"==typeof w.cellRunDone.timestamp?w.cellRunDone.timestamp:w.cellRunDone.timestamp.toNumber(),role:D,secondaryRoles:M,id:O},n);let c=e.notebookState;if(!c)return;let d=c.getCellResult(i),p=c.getCellById(i),f=p?(0,u.DA)(p):"",m=c.getCellResultSize(i),E=c.getCellResultMessageCount(i),h=c.getCellResultQueryId(i);n({type:"logNotebookCellRunTelemetry",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:x,event:a.Hn4,data:{cellId:w.cellRunDone.cellId,isSuccess:o,error:o?void 0:null!=(v=w.cellRunDone.errorId)?v:void 0,cause:o?void 0:null!=(S=w.cellRunDone.additionalErrorMessage)?S:void 0,cellType:f,bytesLoaded:m,messages:E,queryId:h,runId:null==d?void 0:d.runId},markerInfo:{event:s.kk,markers:[w.cellRunDone.cellId]}})}else if(w.cellForwardMsg){let r=null==(_=w.cellForwardMsg)?void 0:_.forwardMsg,o=w.cellForwardMsg.cellId;if(!o&&r&&(0,c.G)(r)){let o=null==r||null==(R=r.delta)||null==(y=R.newElement)||null==(I=y.exception)?void 0:I.message,i=e.udfConnectionStatus===l.Q.Connecting,a=e.udfConnectionStatus===l.Q.Reconnecting;(i||a)&&(e.udfConnectionStatus=l.Q.NotConnected),i?n({type:"logNotebookSessionTelemetry",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:x,data:{isSuccess:!1,error:o}}):a?(e.sessionLifecycleState&&(e.sessionLifecycleState.reconnectResultInfo={error:o}),n({type:"logSessionReconnectCompleted",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:x,data:{error:o}}),n({type:"logSessionReconnectDetails",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:x})):n({type:"logNotebookSessionErrorMessage",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:x,data:{error:o}}),n(o&&(0,d.T)(o)?{type:"onExternalAccessIntegrationError",id:O,role:D,secondaryRoles:M,pageMode:x,error:o}:{type:"onNotebookError",id:O,role:D,secondaryRoles:M,pageMode:x,error:null!=o?o:""}),(0,g.K)(e,{type:"NOTEBOOK_RUN_FINISHED",state:2},n)}if(!o)return;let i=null==(b=e.notebookState)?void 0:b.getCellById(o);if(void 0===i)return;(null==r?void 0:r.delta)&&(0,g.K)(e,{type:"UPDATE_RESULT",cellId:i.id,result:r},n)}else if(null==(m=w.notebookDone)?void 0:m.isCache){(0,g.K)(e,{type:"NOTEBOOK_CACHE_DONE"},n);let r=e.udfConnectionStatus===l.Q.Reconnecting;n({type:"logNotebookRunTelemetry",event:a.AK5,id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:x,data:{isCache:!0,isReconnect:r}})}else if(w.controlResponse){if(w.controlResponse.resourceUtilization)(0,g.K)(e,{type:"NOTEBOOK_UPDATE_RESOURCE_USAGE",resourceUtilization:w.controlResponse.resourceUtilization},n);else if(w.controlResponse.requestId){let e=null!=(N=w.controlResponse.requestId)?N:"";r.log.warn(`Received controlResponse with id: ${e}`),n({type:"controlResponseStatus",id:O,role:D,secondaryRoles:M,requestId:w.controlResponse.requestId,status:null!=(C=null==(T=w.controlResponse)?void 0:T.status)?C:void 0,pageMode:x})}}else if(w.notebookDone&&w.notebookDone.state){let r=2===w.notebookDone.state,o=null==(A=e.sessionLifecycleState)?void 0:A.isReplayingMessagesAfterReconnect;e.sessionLifecycleState={...null!=(L=e.sessionLifecycleState)?L:{},isReplayingMessagesAfterReconnect:!1},r&&w.notebookDone.additionalErrorMessage&&n({type:"onNotebookError",id:O,role:D,secondaryRoles:M,error:w.notebookDone.additionalErrorMessage,pageMode:x}),(0,g.K)(e,{type:"NOTEBOOK_RUN_FINISHED",state:w.notebookDone.state},n),n({type:"logNotebookRunTelemetry",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:x,event:a.MKg,data:{isSuccess:!r,error:r&&null!=(k=w.notebookDone.additionalErrorMessage)?k:void 0,isReplayingMessagesAfterReconnect:o}}),n({type:"stopRunningNotebookHeartbeat",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,pageMode:x})}else w.cellStatus?(0,g.K)(e,{type:"NOTEBOOK_CELL_STATUS",cellStatus:w.cellStatus},n):w.sessionSettings&&(0,g.K)(e,{type:"NOTEBOOK_SESSION_SETTINGS_UPDATED",id:t.id,role:t.role,secondaryRoles:t.secondaryRoles,sessionSettings:w.sessionSettings,pageMode:x},n)}},570875:function(e,t,n){"use strict";n.d(t,{$:()=>o});var r=n(639090);let o=(e,t,n)=>{let{id:o,role:i,secondaryRoles:a,isContainerRuntime:s,pageMode:l}=t;if(e.udfConnectionStatus!==r.Q.Connected)return void console.warn(`UPDATE_PACKAGE is only applicable when UDF Connection Status is connected but got ${e.udfConnectionStatus}`);e.runStatus="updatingPackages",n(s?{type:"updatePackage",isContainerRuntime:s,imports:t.imports,id:o,role:i,secondaryRoles:a,pageMode:l}:{type:"updatePackage",data:t.data,isContainerRuntime:s,id:o,role:i,secondaryRoles:a,pageMode:l})}},737168:function(e,t,n){"use strict";n.d(t,{y:()=>r});let r=e=>{"updatingPackages"===e.runStatus&&(e.runStatus="idle")}},306735:function(e,t,n){"use strict";n.d(t,{k:()=>r});let r=e=>{"updatingPackages"===e.runStatus&&(e.runStatus="updatingPackagesFailed")}},919593:function(e,t,n){"use strict";function r(e){let t=e.sessionLifecycleState;t&&(t.sessionEndReason=void 0)}n.d(t,{R:()=>r})},610893:function(e,t,n){"use strict";function r(e,t,n){let{id:r,role:o,secondaryRoles:i,pageMode:a}=t;n({type:"reconnectSession",id:r,role:o,secondaryRoles:i,pageMode:a})}n.d(t,{i:()=>r})},253293:function(e,t,n){"use strict";function r(e,t,n){let{id:r,role:o,secondaryRoles:i,isContainerRuntime:a,pageMode:s}=t;n({type:"restartNotebook",id:r,role:o,secondaryRoles:i,isContainerRuntime:a,pageMode:s})}n.d(t,{g:()=>r})},610528:function(e,t,n){"use strict";n.d(t,{n:()=>o});var r=n(639090);function o(e,t,n){let{id:o,role:i,secondaryRoles:a,pageMode:s}=t;e.udfConnectionStatus=r.Q.RestartingKernel,n({type:"restartNotebookKernel",id:o,role:i,secondaryRoles:a,pageMode:s})}},726912:function(e,t,n){"use strict";n.d(t,{a:()=>r});let r=(e,t,n)=>{let{id:r,role:o,secondaryRoles:i,executionConfigurations:a,pageMode:s}=t;n({type:"updateExecuteConfiguration",id:r,role:o,secondaryRoles:i,executionConfiguration:a,pageMode:s})}},890816:function(e,t,n){"use strict";n.d(t,{o:()=>r});let r=(e,t,n)=>{let{id:r,role:o,secondaryRoles:i,isContainerRuntime:a,pageMode:s}=t;n({type:"shutdownNotebook",id:r,role:o,secondaryRoles:i,isContainerRuntime:a,pageMode:s})}},601496:function(e,t,n){"use strict";n.d(t,{r:()=>i});var r=n(781708),o=n(250077);let i=(e,t,n)=>{var i;if("loaded"!==e.loadStatus)return;let a=r.Z();e.sessionLifecycleState={...null!=(i=e.sessionLifecycleState)?i:{},sessionStartId:a,isReplayingMessagesAfterReconnect:t.isReplayingMessagesAfterReconnect},(0,o.m)(e,{...t,type:"RUN_NOTEBOOK",cellRunType:7,runCellId:"",userTriggered:t.userTriggered},n)}},878807:function(e,t,n){"use strict";n.d(t,{w:()=>r});let r=(e,t,n)=>{let{id:r,role:o,secondaryRoles:i,sessionSettings:a,updatedBy:s,pageMode:l,bypassDatabasePersist:u}=t,c={...e.notebookSessionSettingsState.settings,...a};e.notebookSessionSettingsState.settings=c,e.notebookSessionSettingsState.settingsUpdateSource=s,e.notebookSessionSettingsState.settingsUpdateTime=Date.now(),e.notebookSessionSettingsState.settingsCheckResponse=void 0,a.runtimeName&&(e.notebookRuntime=a.runtimeName&&"SYSTEM$WAREHOUSE_RUNTIME"!==a.runtimeName?"spcs":"wh"),!0!==u&&n({type:"saveNotebookSessionSettings",id:r,role:o,secondaryRoles:i,sessionSettings:c,pageMode:l})}},34286:function(e,t,n){"use strict";function r(e,t,n){var r;let{id:o,role:i,secondaryRoles:a,onlineToSnowflakeServer:s,pageMode:l}=t,u=null!=(r=e.sessionLifecycleState)?r:{},c=void 0===u.onlineToSnowflakeServer||u.onlineToSnowflakeServer,d=void 0!==s?s:c;e.sessionLifecycleState={...u,onlineToSnowflakeServer:d},d===c&&d||(console.debug("User's network condition changed.",{onlineToSnowflakeServer:d}),n({type:"networkConditionChanged",id:o,role:i,secondaryRoles:a,onlineToSnowflakeServer:d,pageMode:l}))}n.d(t,{n:()=>r})},435739:function(e,t,n){"use strict";n.d(t,{B:()=>o});var r=n(639090);function o(e,t){console.log("Websocket connected"),e.websocketStatus.status=r.Q.Connected,e.websocketStatus.idOfAlreadyRunningInstance=t.idOfAlreadyRunningInstance,e.websocketStatus.error=null,e.websocketStatus.streamlitVersionOfAlreadyRunningInstance=t.streamlitVersionOfAlreadyRunningInstance}},205832:function(e,t,n){"use strict";n.d(t,{W:()=>o});var r=n(639090);function o(e,t,n){let{id:o,role:i,secondaryRoles:a,pageMode:s}=t;e.udfConnectionStatus=r.Q.NotConnected,e.websocketStatus.status=r.Q.NotConnected,e.websocketStatus.idOfAlreadyRunningInstance=void 0,e.websocketStatus.error=t.error,e.bottomBarState=void 0,e.runStatus="updatingPackages"===e.runStatus?"updatingPackagesFailed":"notStarted"===e.runStatus?"notStarted":"idle";let l=e.sessionLifecycleState;l&&(l.sessionEndTimeMs=Date.now()),n({type:"onNotebookError",id:o,role:i,secondaryRoles:a,error:t.error||"Unknown error",pageMode:s})}},624870:function(e,t,n){"use strict";n.d(t,{R:()=>i});var r=n(639090),o=n(405776);function i(e,t,n){var i,a,s;let{id:l,role:u,secondaryRoles:c,reason:d,pageMode:g}=t;console.log("Websocket disconnected due to reason:",d);let p=e.notebookState;p&&(t.reason&&"string"==typeof t.reason&&(e.sessionLifecycleState={...null!=(a=e.sessionLifecycleState)?a:{},sessionEndReason:t.reason}),e.sessionLifecycleState&&(e.sessionLifecycleState={...e.sessionLifecycleState,reconnectResultInfo:void 0,userChannelStartedInfo:void 0}),!(0,o.vi)({udfConnectionStatus:e.udfConnectionStatus,disconnectReason:d})||(null==e||null==(i=e.sessionLifecycleState)?void 0:i.isNonInteractiveSession)?(e.websocketStatus.status=r.Q.NotConnected,e.runStatus="updatingPackages"===e.runStatus?"updatingPackagesFailed":"idle",e.notebookState=p.clearAllExecutionStates(),e.udfConnectionStatus=r.Q.NotConnected,e.bottomBarState=void 0,e.sessionLifecycleState={...null!=(s=e.sessionLifecycleState)?s:{},sessionEndTimeMs:Date.now()},(0,o.ne)(d)&&"loaded"!==e.cacheStatus&&(console.debug("[Notebook] Reconnect websocket to load cache results after reconnecting existing session failed"),e.cacheStatus="notLoaded",n({type:"connectWebsocket",id:l,role:u,secondaryRoles:c,connectExistingSession:!1,loadCachedResultsAfterConnection:!0,pageMode:g})),d===r.w.USER_NOTEBOOK_SHUTDOWN&&(e.runStatus="notStarted")):(e.websocketStatus.status=r.Q.Reconnecting,e.udfConnectionStatus=r.Q.Reconnecting,n({type:"reconnectSession",id:l,role:u,secondaryRoles:c,pageMode:g})))}},155464:function(e,t,n){"use strict";n.d(t,{r:()=>o});var r=n(639090);function o(e,t){let{numOfActiveSessions:n}=t;if(e.websocketStatus.status=n?r.Q.Reconnecting:r.Q.Connecting,void 0!==n){var o;n&&(e.udfConnectionStatus=r.Q.Reconnecting),e.sessionLifecycleState={...null!=(o=e.sessionLifecycleState)?o:{},numberOfRunningSessions:n}}}},356342:function(e,t,n){"use strict";function r(e){let t=e.notebookState;t&&(e.runStatus="notStarted",e.cacheStatus="notLoaded",e.notebookState=t.clearAllResults(),e.sessionLifecycleState={})}n.d(t,{B:()=>r})},574883:function(e,t,n){"use strict";n.d(t,{n:()=>y});var r=n(286204),o=n(463198),i=n(887463),a=n(60575),s=n(493076),l=n(173624),u=n(440993),c=n(70734),d=n(314040),g=n(90373),p=n(856631),f=n(357139),m=n(938687),E=n(847345),h=n(797325),v=n(645952),S=n(468804),_=n(691352),b=n(700577),I=n(216591);let y=({hide:e,saveEligibilityCheckStatus:t,editingUserName:n,editingUserEmail:y,fullNotebookIdentifier:R,onDuplicateNotebook:T,notebookViewId:N,role:C,causalElement:A,notebookRuntime:L})=>{let k=(0,o.z)(()=>{O(R,S.DsD,{notebookViewId:N,saveEligibilityCheckStatus:t,pageMode:"ownerMode"},"ui_click"),window.location.reload()}),{formatMessage:w}=(0,h.Z)(),{logNotebookEditEvent:O}=(0,I.N)(),D="spcs"===L,M=b.i.UI_ENABLE_NOTEBOOK_DISABLED_SPCS_EXPERIENCE_FOR_ADMINS(),x=(0,E.useMemo)(()=>(0,r.jsxs)(i.s,{width:"100%",rowGap:12,children:[(0,r.jsx)(a.n,{color:s.Q2.primaryTextColor,children:w({id:"{userName}{emailPart} is editing this notebook."},{userName:(0,r.jsx)(l.x,{fontWeight:600,children:n}),emailPart:y?` (${y}) `:""})}),(0,r.jsx)(a.n,{color:s.Q2.primaryTextColor,marginTop:24,children:w({id:"To prevent overwriting each other, wait until {userName} stops editing for 1 minute. You can also duplicate this notebook to make your own copy."},{userName:n})})]}),[n,y,w]),U=(0,E.useMemo)(()=>(0,r.jsxs)(i.s,{width:"100%",rowGap:16,children:[(0,r.jsx)(a.n,{color:s.Q2.primaryTextColor,children:w({id:"{userName}{emailPart} recently edited this notebook. Reload to see their latest changes."},{userName:(0,r.jsx)(l.x,{fontWeight:600,children:n}),emailPart:y?` (${y}) `:""})}),(0,r.jsx)(u.j,{marginTop:16,theme:"yellow",icon:"warning-triangle",title:(0,r.jsx)(l.x,{color:s.Q2.statusWarningColor,fontSize:14,weight:500,children:w({id:"Reloading will discard your unsaved changes."})})})]}),[n,y,w]),P=(0,E.useMemo)(()=>(0,r.jsx)(a.n,{color:s.Q2.primaryTextColor,children:w({id:"You recently edited this notebook in another browser tab. Reload to see your latest changes."})}),[w]),$=(0,E.useCallback)(()=>{e(),T(R),O(R,S.$aC,{notebookViewId:N,saveEligibilityCheckStatus:t,pageMode:"ownerMode"},"ui_click")},[e,T,R,N,t,O]),F=(0,E.useCallback)(()=>{O(R,S.mBO,{notebookViewId:N,saveEligibilityCheckStatus:t,pageMode:"ownerMode"},"ui_click"),e()},[e,R,N,t,O]),B=(0,E.useMemo)(()=>{if("cannotSaveDueToRecentChangeFromSameUser"===t)return(0,r.jsx)(c.cN,{marginTop:8,children:(0,r.jsxs)(d.g,{children:[(0,r.jsx)(g.zx,{onClick:F,children:(0,r.jsx)(v.Z,{id:"Close"})}),(0,r.jsx)(g.zx,{use:"primary",onClick:k,marginLeft:8,children:(0,r.jsx)(v.Z,{id:"Reload notebook"})})]})});let e=D&&(0,_.e)(C)&&M,n=(0,r.jsx)(p.h,{onClick:e?void 0:$,textDecorationLine:"none",color:e?s.Q2.textButtonDisabledColor:s.Q2.textButtonColor,disabled:e,children:w({id:"Duplicate notebook"})});return(0,r.jsxs)(c.cN,{align:"justify",verticalAlign:"middle",marginTop:8,children:[e?(0,r.jsx)(f.u,{text:w({id:"Can't duplicate container notebooks using the ACCOUNTADMIN, SECURITYADMIN, or ORGADMIN roles. Try a different role."}),children:n}):n,(0,r.jsxs)(d.g,{children:[(0,r.jsx)(g.zx,{onClick:F,children:(0,r.jsx)(v.Z,{id:"Close"})}),"cannotSaveDueToRecentChangeFromOtherUser"===t&&(0,r.jsx)(g.zx,{use:"primary",onClick:k,marginLeft:8,children:(0,r.jsx)(v.Z,{id:"Reload notebook"})})]})]})},[t,$,M,k,w,F,D,C]);return(0,r.jsxs)(c.Vq,{manuallyShown:!0,behaviors:[m.O],onHide:e,causalElement:A,width:500,children:[(0,r.jsx)(c.fK,{children:(0,r.jsx)(v.Z,{id:"Can't save changes"})}),(0,r.jsxs)(c.a7,{marginBottom:12,children:["cannotSaveDueToEditLocked"===t&&x,"cannotSaveDueToRecentChangeFromOtherUser"===t&&U,"cannotSaveDueToRecentChangeFromSameUser"===t&&P]}),B]})};y.displayName="NotebookConcurrentEditAlertDialog"},428263:function(e,t,n){"use strict";n.d(t,{d:()=>d});var r=n(700577),o=n(847345),i=n(988554),a=n(686762),s=n(134445),l=n(373516),u=n(316181),c=n(938157);let d=()=>{let{dataDiscoverRole:e,secondaryRoles:t}=(0,i.j)(),n=(0,s.m)(["user"]),d=r.i.UI_ENABLE_NOTEBOOK_FEATURE_38(),{localTimeToServerTime:p}=(0,c.h)(),f=(0,u.L)(),m=(0,o.useRef)(!1),E=(0,o.useCallback)(async n=>{var r;return null!=(r=JSON.parse(await f(n,e,t)).metadata.lastEditStatus)?r:null},[f,e,t]),h=(0,o.useCallback)(()=>{m.current=!0},[]);return(0,l.d)({observerEnabled:d,visibleCallback:h}),(0,o.useCallback)(async({id:e,urlId:t,currentNotebookViewId:r,lastEditStatusInMemory:o,lastestNotebookLoadTime:i})=>{let s=!1,l=o;if(!n.user.currentUserId)return{checkStatus:"cannotSaveDueToEditLocked",lastEditStatusRetrieved:null};let u=p();if(!(null==l?void 0:l.lastEditTime)||u-l.lastEditTime>6e4||d&&n.user.currentUserId===l.authorId&&l.sessionId!==r||m.current){if(l=await E(e),(0,a.IG)(a.cf.NOTEBOOK_EDIT_LOCK_CHECK)){var c;(null==o?void 0:o.lastEditTime)?u-(null!=(c=null==l?void 0:l.lastEditTime)?c:0)>6e4?console.debug("[\uD83D\uDD10 Notebook Concurrent Editing] Recent check expired, reload latest edit history from file: ",l):n.user.currentUserId===(null==l?void 0:l.authorId)&&l.sessionId!==r?console.debug("[\uD83D\uDD10 Notebook Concurrent Editing] Same user switched to a different session: ",l):m.current&&console.debug("[\uD83D\uDD10 Notebook Concurrent Editing] Notebook transit to focused state, reload latest edit history from file: ",l):console.debug("[\uD83D\uDD10 Notebook Concurrent Editing] No in memory last edit status, load latest edit history from file: ",l)}s=!0,m.current&&(m.current=!1)}l&&l.notebookId===t||(l={notebookId:t,authorId:"",authorName:"",sessionId:r,lastEditTime:0},s=!0);let f="canSave",h=i?p(i):0;return u=p(),l.authorId===n.user.currentUserId?d&&h&&l.sessionId!==r&&h<l.lastEditTime?((0,a.IG)(a.cf.NOTEBOOK_EDIT_LOCK_CHECK)&&console.debug("[\uD83D\uDD10 Notebook Concurrent Editing] Recent edit was from the same user with changes from other sessions. lastEditTime: ",g(l.lastEditTime)," current time: ",g(u)," lastestNotebookLoadServerTime: ",g(h)),f="cannotSaveDueToRecentChangeFromSameUser"):((0,a.IG)(a.cf.NOTEBOOK_EDIT_LOCK_CHECK)&&console.debug("[\uD83D\uDD10 Notebook Concurrent Editing] Recent edit was from the same user. lastEditTime: ",g(l.lastEditTime)," current time: ",g(u)," lastestNotebookLoadServerTime: ",g(h)),f="canSave"):u-l.lastEditTime<=6e4?((0,a.IG)(a.cf.NOTEBOOK_EDIT_LOCK_CHECK)&&console.debug("[\uD83D\uDD10 Notebook Concurrent Editing] Active lock from different user. lastEditTime: ",g(l.lastEditTime)," current time: ",g(u)),f="cannotSaveDueToEditLocked"):h&&h<l.lastEditTime?((0,a.IG)(a.cf.NOTEBOOK_EDIT_LOCK_CHECK)&&console.debug("[\uD83D\uDD10 Notebook Concurrent Editing] Inactive Lock but has recent changes after previous load. lastEditTime: ",g(l.lastEditTime)," lastestNotebookLoadServerTime ",g(h)),f="cannotSaveDueToRecentChangeFromOtherUser"):((0,a.IG)(a.cf.NOTEBOOK_EDIT_LOCK_CHECK)&&console.debug("[\uD83D\uDD10 Notebook Concurrent Editing] Inactive Lock and has no recent changes after previous load. lastEditTime: ",g(l.lastEditTime)," lastestNotebookLoadServerTime ",g(h)),f="canSave"),{checkStatus:f,lastEditStatusRetrieved:s?l:null}},[n.user.currentUserId,E,p,d])},g=e=>new Date(e).toISOString()},675134:function(e,t,n){"use strict";n.d(t,{Z:()=>a});var r=n(847345),o=n(852043),i=n(134445);let a=()=>{let{user:e}=(0,i.m)(["user"]);return(0,r.useCallback)(async({role:t,secondaryRoles:n})=>{let r=new o.L("SELECT SYSDATE()").toQuery();return new Date((await e.api.query(r,{isInternal:!0,role:t,secondaryRoles:n,desc:"get-system-utc-time"})).rows[0][0])},[e.api])}},938157:function(e,t,n){"use strict";n.d(t,{h:()=>s});var r=n(847345),o=n(988554),i=n(134445),a=n(931013);let s=()=>{let{user:e}=(0,i.m)(["user"]),{dataDiscoverRole:t,secondaryRoles:n}=(0,o.j)(),s=(0,a.Z)(),[l,u]=(0,r.useState)(0),c=!!e.currentUserId;(0,r.useEffect)(()=>{let e=async()=>{let e=await s({role:t,secondaryRoles:n}),r=Date.now();u(e.getTime()-r)};c&&e()},[t,n,c,e.api,s]);let d=(0,r.useCallback)(e=>(null!=e?e:Date.now())+l,[l]);return{localToServerTimeOffset:l,localTimeToServerTime:d}}},132901:function(e,t,n){"use strict";function r(){return{}}n.d(t,{G:()=>r})},868288:function(e,t,n){"use strict";n.d(t,{a:()=>i});var r=n(781708),o=n(639090);function i({notebookViewId:e,notebookUrlInfo:t}){return{loadStatus:"notLoaded",notebookState:null,runStatus:"notStarted",websocketStatus:{status:o.Q.NotConnected,error:null},selectedCell:void 0,cacheStatus:"notLoaded",cacheLoadId:void 0,udfConnectionStatus:o.Q.NotConnected,sessionLifecycleState:{notebookViewId:null!=e?e:r.Z(),onlineToSnowflakeServer:!0},urlId:"",resultHeightMap:{},cellContentMetadata:{},notebookUrlInfo:t,notebookSessionSettingsState:{settings:{}}}}},273908:function(e,t,n){"use strict";n.d(t,{z:()=>o});var r=n(275436);function o(e,t){let n=(0,r.mk)(),o=t.urlId,i=n.get(o)||{};i[t.cellId]=t.resultHeight,n.delete(o),n.set(o,i),n.size>=r.Dz&&(n=new Map(Array.from(n.entries()).slice(-r.Dz))),localStorage.setItem(r.Y7,JSON.stringify(Array.from(n.entries())))}},184078:function(e,t,n){"use strict";n.d(t,{Y:()=>p});var r=n(463198),o=n(928874),i=n(847345),a=n(620400),s=n(468804),l=n(65150),u=n(216591),c=n(194838),d=n(639090),g=n(795400);let p=({websocketMapRef:e})=>{let{logEvent:t}=(0,o.f1)(),n=(0,u.N)(),p=(0,r.z)((t,r)=>{var o,i;let{id:a,event:s,data:l={},role:u,secondaryRoles:d,pageMode:p}=r,f=(0,g.E)(a,u,d),m=e.current[f],E=t[f];n.logCellUITelemetry(a,s,{...l,connectionId:null!=(i=null==m?void 0:m.connectionId)?i:"",notebookViewId:null==E||null==(o=E.sessionLifecycleState)?void 0:o.notebookViewId,notebookRuntime:null==E?void 0:E.notebookRuntime,pageMode:p},{event:c.Xv,markers:[`${l.cellIndex}`]})}),f=(0,r.z)((t,r)=>{var o,i;let{id:a,event:s,data:l,role:u,secondaryRoles:c,markerInfo:d,pageMode:p}=r,f=(0,g.E)(a,u,c),m=e.current[f],E=t[f];n.logCellRunTelemetry(a,s,{...l,connectionId:null!=(i=null==m?void 0:m.connectionId)?i:"",notebookViewId:null==E||null==(o=E.sessionLifecycleState)?void 0:o.notebookViewId,notebookRuntime:null==E?void 0:E.notebookRuntime,pageMode:p},l.isSuccess,d)}),m=(0,r.z)((t,r)=>{var o,i,l;let{id:u,event:d,data:p,role:f,secondaryRoles:m,pageMode:E}=r,h=(0,g.E)(u,f,m),v=e.current[h],S=t[h];n.logRunEvent(u,d,{...p,connectionId:null!=(l=null==v?void 0:v.connectionId)?l:"",notebookViewId:null==S||null==(o=S.sessionLifecycleState)?void 0:o.notebookViewId,notebookRuntime:null==S?void 0:S.notebookRuntime,pageMode:E,isReplayingMessage:!!(d===s.MKg&&p&&p.isReplayingMessagesAfterReconnect),reconnectInstanceId:null==S||null==(i=S.websocketStatus)?void 0:i.idOfAlreadyRunningInstance},p?p.isSuccess:void 0,{event:c.bZ,markers:[(0,a.m)(u)],isUserE2E:!0})}),E=(0,r.z)((t,r)=>{var o,i;let{id:s,event:l,eventType:u,role:d,secondaryRoles:p,data:f={},pageMode:m}=r,E=(0,g.E)(s,d,p),h=e.current[E],v=t[E];n.logIPYNBEvent(s,l,{...f,connectionId:null!=(i=null==h?void 0:h.connectionId)?i:"",notebookViewId:null==v||null==(o=v.sessionLifecycleState)?void 0:o.notebookViewId,notebookRuntime:null==v?void 0:v.notebookRuntime,pageMode:m},u,{event:c.sW,markers:[(0,a.m)(s)]})}),h=(0,r.z)((t,r)=>{var o,i;let{id:a,role:s,secondaryRoles:l,pageMode:u}=r,c=(0,g.E)(a,s,l),d=e.current[c],p=t[c];n.logSessionStarting(a,{connectionId:null==d?void 0:d.connectionId,sessionStartId:null==p||null==(o=p.sessionLifecycleState)?void 0:o.sessionStartId,notebookViewId:null==p||null==(i=p.sessionLifecycleState)?void 0:i.notebookViewId,notebookRuntime:null==p?void 0:p.notebookRuntime,pageMode:u})}),v=(0,r.z)((t,r)=>{var o,i,u,p,f,m,E,h,v;let{id:S,role:_,secondaryRoles:b,data:I,pageMode:y}=r,R=(0,g.E)(S,_,b),T=e.current[R],N=t[R],C=2===I.level,A={connectionId:null==T?void 0:T.connectionId,notebookRuntime:null==N?void 0:N.notebookRuntime,notebookViewId:null==N||null==(o=N.sessionLifecycleState)?void 0:o.notebookViewId,udfConnectionStatus:I.udfConnectionStatus,error:I.error,errorReason:I.errorReason||"",sqlErrorCode:I.errorCode||"",isUserError:!!I.isUserError,isUnifiedLifecycleError:!0};if(C)switch(I.udfConnectionStatus){case d.Q.Connecting:n.logNotebookEvent({notebookId:S,event:s.NJ3,eventType:l.gK,eventData:{...A,sessionStartId:null==N||null==(i=N.sessionLifecycleState)?void 0:i.sessionStartId},pageMode:y,markerInfo:{event:c.Ti,markers:[(0,a.m)(S),null!=(u=A.connectionId)?u:""]}});break;case d.Q.Reconnecting:{let e={...A,reconnectInstanceId:null==N||null==(p=N.websocketStatus)?void 0:p.idOfAlreadyRunningInstance},t={event:c.Ff,markers:[(0,a.m)(S),null!=(E=A.connectionId)?E:""]};n.logNotebookEvent({notebookId:S,event:s.ru7,eventType:l.gK,eventData:e,markerInfo:t,pageMode:y});let r=null==(f=N.sessionLifecycleState)?void 0:f.reconnectResultInfo,o=null==(m=N.sessionLifecycleState)?void 0:m.userChannelStartedInfo;r&&o&&n.logNotebookEvent({notebookId:S,event:s.G0u,eventType:l.gK,eventData:{...e,...r,...o},markerInfo:t,pageMode:y})}break;case d.Q.RestartingKernel:n.logNotebookEvent({notebookId:S,event:s.w08,eventType:l.gK,eventData:A,markerInfo:{event:c.nL,markers:[(0,a.m)(S),null!=(h=A.connectionId)?h:""]},pageMode:y})}else n.logNotebookEvent({notebookId:S,event:s.kDJ,eventType:l.gK,eventData:{...A,sessionStartId:null==N||null==(v=N.sessionLifecycleState)?void 0:v.sessionStartId},pageMode:y})}),S=(0,r.z)((t,r)=>{var o,i;let{id:a,role:s,secondaryRoles:l,data:u,pageMode:c}=r,d=(0,g.E)(a,s,l),p=e.current[d],f=t[d],m={connectionId:null==p?void 0:p.connectionId,notebookRuntime:null==f?void 0:f.notebookRuntime,sessionStartId:null==f||null==(o=f.sessionLifecycleState)?void 0:o.sessionStartId,notebookViewId:null==f||null==(i=f.sessionLifecycleState)?void 0:i.notebookViewId,pageMode:c};u.isSuccess?n.logSessionStartSuccess(a,m):n.logSessionStartFailed(a,{...m,error:u.error})}),_=(0,r.z)((t,r)=>{var o,i;let{id:a,role:s,secondaryRoles:l,data:u,pageMode:c}=r,d=(0,g.E)(a,s,l),p=e.current[d],f=t[d];n.logSessionErrorMessage(a,{connectionId:null==p?void 0:p.connectionId,sessionStartId:null==f||null==(o=f.sessionLifecycleState)?void 0:o.sessionStartId,notebookViewId:null==f||null==(i=f.sessionLifecycleState)?void 0:i.notebookViewId,notebookRuntime:null==f?void 0:f.notebookRuntime,error:u.error,pageMode:c})}),b=(0,r.z)((t,r)=>{var o,i;let{id:a,role:s,secondaryRoles:l,data:u,pageMode:c}=r,d=(0,g.E)(a,s,l),p=e.current[d],f=t[d];n.logSessionReconnectCompleted(a,{connectionId:null==p?void 0:p.connectionId,notebookViewId:null==f||null==(o=f.sessionLifecycleState)?void 0:o.notebookViewId,notebookRuntime:null==f?void 0:f.notebookRuntime,error:u.error,reconnectInstanceId:null==f||null==(i=f.websocketStatus)?void 0:i.idOfAlreadyRunningInstance,pageMode:c})}),I=(0,r.z)((t,r)=>{var o,i,a,s;let{id:l,role:u,secondaryRoles:c,pageMode:d}=r,p=(0,g.E)(l,u,c),f=t[p],m=e.current[p],E=null==(o=f.sessionLifecycleState)?void 0:o.reconnectResultInfo,h=null==(i=f.sessionLifecycleState)?void 0:i.userChannelStartedInfo;E&&h&&n.logSessionReconnectDetails(l,{connectionId:null==m?void 0:m.connectionId,notebookViewId:null==f||null==(a=f.sessionLifecycleState)?void 0:a.notebookViewId,notebookRuntime:null==f?void 0:f.notebookRuntime,reconnectInstanceId:null==f||null==(s=f.websocketStatus)?void 0:s.idOfAlreadyRunningInstance,...E,...h,pageMode:d})}),y=(0,r.z)((e,n)=>{var r;let{id:o,role:i,secondaryRoles:s,event:l,eventType:u,data:c={},pageMode:d}=n,p=e[(0,g.E)(o,i,s)];t({data:{notebookIdentifier:(0,a.m)(o),...c,notebookViewId:null==p||null==(r=p.sessionLifecycleState)?void 0:r.notebookViewId,pageMode:d},event:l,type:u})}),R=(0,r.z)((e,t)=>{var r;let{id:o,event:i,eventType:s,role:l,secondaryRoles:u,error:d,data:p={},pageMode:f}=t,m=e[(0,g.E)(o,l,u)];n.logNotebookEditEvent(o,i,{...p,notebookViewId:null==m||null==(r=m.sessionLifecycleState)?void 0:r.notebookViewId,notebookRuntime:null==m?void 0:m.notebookRuntime,error:d,pageMode:f},s,{event:c.gr,markers:[(0,a.m)(o)]})}),T=(0,r.z)((t,r)=>{var o;let{id:i,role:a,secondaryRoles:s,data:l,pageMode:u}=r,c=(0,g.E)(i,a,s),d=e.current[c],p=t[c];n.logKernelRestartEnd(i,{connectionId:null==d?void 0:d.connectionId,notebookViewId:null==p||null==(o=p.sessionLifecycleState)?void 0:o.notebookViewId,notebookRuntime:null==p?void 0:p.notebookRuntime,error:null==l?void 0:l.error,pageMode:u})}),N=(0,r.z)((t,r)=>{var o;let{id:i,role:a,secondaryRoles:s,pageMode:l}=r,u=(0,g.E)(i,a,s),c=e.current[u],d=t[u];n.logNotebookPackageUpdateAlert(i,{connectionId:null==c?void 0:c.connectionId,notebookViewId:null==d||null==(o=d.sessionLifecycleState)?void 0:o.notebookViewId,notebookRuntime:null==d?void 0:d.notebookRuntime,pageMode:l})}),C=(0,r.z)((e,t)=>{let{id:r,controlResponse:o}=t;n.logCondaPackageUpdateTelemetry(r,o)});return(0,i.useMemo)(()=>({logNotebookTelemetry:y,logNotebookIPYNBTelemetry:E,logNotebookCellUITelemetry:p,logNotebookCellRunTelemetry:f,logNotebookRunTelemetry:m,logNotebookStartingSessionTelemetry:h,logNotebookSessionTelemetry:S,logNotebookSessionErrorMessage:_,logSessionReconnectCompleted:b,logSessionReconnectDetails:I,logNotebookKernelRestartEnd:T,logNotebookEditTelemetry:R,logNotebookPackageUpdateAlertTelemetry:N,logUnifiedLifecycleErrorTelemetry:v,logCondaPackageUpdateTelemetry:C}),[y,E,p,f,m,S,_,h,b,I,T,R,N,v,C])}},415422:function(e,t,n){"use strict";n.d(t,{q:()=>i});var r=n(847345),o=n(795400);let i=(e,t)=>(0,r.useCallback)((n,r,i)=>{let{id:a,role:s,secondaryRoles:l}=r,u=e[(0,o.E)(a,s,l)];u&&t(u,r,i)},[e,t])},194838:function(e,t,n){"use strict";n.d(t,{$M:()=>I,FG:()=>o,Ff:()=>p,IM:()=>S,P7:()=>_,QX:()=>u,Sc:()=>m,Ti:()=>f,Xv:()=>s,_n:()=>r,bZ:()=>E,g3:()=>v,gr:()=>a,kk:()=>l,lX:()=>i,nL:()=>h,sW:()=>c,wT:()=>d,x5:()=>g,xT:()=>b});let r="notebook-open-event",o="notebook-create-event",i="notebook-rename-event",a="notebook-edit-event",s="cell-ui-event",l="cell-run-event",u="submit-cell-run-event",c="ipynb-loading",d="mark-ws-heartbeat-start",g="websocket-connection",p="session-reconnect",f="notebook-session-start",m="notebook-session-end",E="notebook-run-event",h="notebook-kernel-restart-event",v="entity-duplicate-start",S="notebook-duration-new-cache-load",_="notebook-websocket-full-connecting-duration",b="notebook-share-page-load",I="notebook-share"},962644:function(e,t,n){"use strict";function r(e){return!(e.length<1)&&!(e.length>64)&&!!/^[a-zA-Z0-9-_]+$/u.test(e)}n.d(t,{A:()=>r})},639090:function(e,t,n){"use strict";n.d(t,{Q:()=>i,w:()=>a});var r,o,i=((r={}).NotConnected="notConnected",r.Connected="connected",r.Connecting="connecting",r.Reconnecting="reconnecting",r.RestartingKernel="restartingKernel",r.Error="error",r),a=((o={}).NOTEBOOK_RECONNECT="NOTEBOOK_RECONNECT",o.GS_XP_STREAM_CLOSED="1011: GS/XP stream closed",o.NOTEBOOK_IDLE_TIMEOUT="1011: Idle time reached",o.USER_NOTEBOOK_SHUTDOWN="USER_NOTEBOOK_SHUTDOWN",o.NEW_WEBSOCKET_CONNECTION="1011: New websocket started",o.CLOSE_NOTEBOOK_PAGE="CLOSE_NOTEBOOK_PAGE",o.NETWORK_DOWN="NETWORK_DOWN",o.SERVER_INTERNAL_ERROR="1011: Internal error in [Streamlit server]",o.NOTEBOOK_RECONNECT_FAILED="1008: RECONNECTION_FAILED",o.TIMEOUT_EXCEPTION="1001: java.util.concurrent.TimeoutException: Idle timeout expired",o)},911083:function(e,t,n){"use strict";n.d(t,{CS:()=>a});let r="ce110000-1111-2222-3333-ffffff",o=r+"{:06d}",i=r.length+6;class a{_markIfMatchingPattern(e){let t=null;if(e.length===i&&e.startsWith(r)){if(!Number.isInteger(t=Number(e.slice(r.length))))return null;this._seenIndexes[t]=t}return t}markIfMatchingPattern(e){let t=null;return null!==e&&(t=this._markIfMatchingPattern(e)),t}_doGeneratedId(){let e=o.replace("{:06d}",this._lastGeneratedIndex.toString().padStart(6,"0"));return this._lastGeneratedIndex+=1,e}_generateNextId(){let e=null;for(;null===e;){for(;this._lastGeneratedIndex in this._seenIndexes;)this._lastGeneratedIndex+=1;(e=this._doGeneratedId())in this._seenIds&&(e=null)}return e}generateAndMarkNextId(){let e=this._generateNextId();return this._seenIds[e]=e,e}ensureValidId(e){return null===e||""===e||e in this._seenIds?this.generateAndMarkNextId():(this._seenIds[e]=e,e)}constructor(){this._lastGeneratedIndex=0,this._seenIds={},this._seenIndexes={}}}},182699:function(e,t,n){"use strict";n.d(t,{W:()=>r});let r=(e,t)=>{if(e.length!==t.length)return!1;let n=new Set(e),r=new Set(t);return n.size===r.size&&Array.from(n).every(e=>r.has(e))}},275436:function(e,t,n){"use strict";n.d(t,{Dz:()=>o,Y7:()=>r,mk:()=>i});let r="notebooks-result-height-cache",o=50;function i(){let e;try{e=new Map(JSON.parse(localStorage.getItem(r)||"[]"))}catch(t){localStorage.setItem(r,"[]"),e=new Map}return e}},543145:function(e,t,n){"use strict";function r(e){return"running"===e||"populatingResults"===e}function o(e){return r(e)||"waiting"===e}function i(e){if("code"!==e.cell_type)return!1;let t="string"==typeof e.source?e.source:e.source.join("");return/^(?!\s*#)\s*[!%](?:pip|conda)\s+install/mu.test(t)}function a(e){return"success"===e||"error"===e}n.d(t,{WT:()=>r,YX:()=>o,be:()=>a,rv:()=>i})},237911:function(e,t,n){"use strict";function r(e){return"python"===e.metadata.language}function o(e){return"sql"===e.metadata.language}function i(e){return!!(r(e)||o(e))}function a(e){return"markdown"===e.cell_type}function s(e){let{metadata:t,cell_type:n}=e;return"markdown"===n?n:t.language}function l(e){return"code"===e.cell_type}n.d(t,{DA:()=>s,M1:()=>i,NT:()=>a,XN:()=>o,fM:()=>l,ro:()=>r})},721987:function(e,t,n){"use strict";async function r({getNotebookUrlInfo:e,getWebsocketProtoParams:t}){let[{ConnectionManager:r},o,i]=await Promise.all([Promise.all([n.e("94641"),n.e("13664"),n.e("7987"),n.e("67025"),n.e("73213")]).then(n.bind(n,698057)),t(),e()]);return{ConnectionManager:r,webSocketProtoParams:o,urlInfo:i}}n.d(t,{_:()=>r})},648647:function(e,t,n){"use strict";n.d(t,{h:()=>o});var r=n(550748);function o(e,t){return Object.keys(r._y).includes(t)?(0,r.Ex)(t,e):e({id:"Something went wrong. {message}"},{message:t})}},297871:function(e,t,n){"use strict";n.d(t,{W:()=>i,f:()=>o});var r=n(766120);function o(e,t){let n=(0,r.B)(t,e.metadata.name);return n.metadata.collapsed=e.metadata.collapsed,n.metadata.codeCollapsed=e.metadata.collapsed,n.source=e.source,n.id=e.id,n}function i(e){let t=(0,r.B)("markdown",e.metadata.name);return t.metadata.collapsed=e.metadata.collapsed&&e.metadata.codeCollapsed,t.source=e.source,t.id=e.id,t}},467975:function(e,t,n){"use strict";n.d(t,{n:()=>l});var r=n(266046),o=n(468804),i=n(65150),a=n(739921),s=n(913984);async function l({deleteAllRunningNotebookInstances:e,userStore:t,id:n,role:a,secondaryRoles:l,logNotebookEvent:c}){try{let r=await u({userStore:t,id:n,role:a,secondaryRoles:l,logNotebookEvent:c});e||(r=r.slice(0,1)),r.length>0&&(await Promise.all(r.map(e=>(0,s.Dy)(t,{fullNotebookIdentifier:n,role:a,secondaryRoles:l,serviceIdentifier:e}))),c({notebookId:n,event:o.fA1,eventType:i.fs,eventData:{},pageMode:"ownerMode"}))}catch(t){let e=`SPCS Notebooks: Failed to delete notebook instance. ${t}`;(0,r.k)(e,{fullNotebookIdentifier:n}),c({notebookId:n,event:o.XTd,eventType:i.gK,eventData:{error:e},pageMode:"ownerMode"})}}async function u({userStore:e,id:t,role:n,secondaryRoles:s,logNotebookEvent:l}){let u=(await (0,a.C)(e,{fullNotebookIdentifier:t,role:n,secondaryRoles:s})).filter(e=>e.isInteractive&&e.serviceId).map(e=>e.serviceId);return 0===u.length?((0,r.k)("SPCS Notebooks: No running service instance ID found",{fullNotebookIdentifier:t}),l({notebookId:t,event:o.phx,eventType:i.gK,eventData:{},pageMode:null}),[]):(u.length>1&&((0,r.k)("SPCS Notebooks: Found multiple running service instance IDs for interactive notebook.",{fullNotebookIdentifier:t}),l({notebookId:t,event:o.SKU,eventType:i.gK,eventData:{},pageMode:null})),u)}},483196:function(e,t,n){"use strict";n.d(t,{We:()=>o,a_:()=>i,bW:()=>r});let r={pythonModule:null},o=()=>{Promise.all([n.e("52734"),n.e("19294"),n.e("31505")]).then(n.bind(n,39377)).then(e=>{r.pythonModule=e})};function i(e){if(!r.pythonModule)return new Set;let{parser:t}=r.pythonModule.python().language,n=t.parse(e),o=new Set,i=n.cursor(),a=t=>{if(t.firstChild()){do"VariableName"===t.name?o.add(e.slice(t.from,t.to)):("TupleExpression"===t.name||"ExpressionList"===t.name)&&a(t);while(t.nextSibling());t.parent()}},s=(t,n=0)=>{if(!(n>2))do{let r=t.name;if("FunctionDefinition"!==r&&"ClassDefinition"!==r||n)if(("AssignStatement"===r||"ForStatement"===r||"WhileStatement"===r)&&0===n){if(t.firstChild()){let n=-1,r=0;do"AssignOp"===t.name&&(n=r),r++;while(t.nextSibling());for(;t.prevSibling(););r=0;do(r<n||-1===n)&&("VariableName"===t.name?o.add(e.slice(t.from,t.to)):("TupleExpression"===t.name||"ExpressionList"===t.name)&&a(t)),r++;while(t.nextSibling());t.parent()}t.firstChild()&&(s(t,n),t.parent())}else t.firstChild()&&(s(t,n),t.parent());else t.firstChild()&&t.nextSibling()&&(o.add(e.slice(t.from,t.to)),t.parent()),t.firstChild()&&(s(t,n+1),t.parent())}while(t.nextSibling())};return i.firstChild()&&s(i),o}},739921:function(e,t,n){"use strict";n.d(t,{C:()=>s});var r=n(852043),o=n(159771);let i=e=>new r.L().add("CALL SYSTEM$LIST_RUNNING_NOTEBOOK_INSTANCES(?)",(0,o.M)(e)).toQuery(),a=e=>{let[[t]]=e.rows;return JSON.parse(t)},s=async(e,t)=>{let{fullNotebookIdentifier:n,role:r,secondaryRoles:o}=t,s=i(n);return a(await e.api.query(s,{role:r,secondaryRoles:o,isInternal:!0,desc:"system-list-running-notebook-instance"}))}},946723:function(e,t,n){"use strict";n.d(t,{S:()=>i,b:()=>a});var r=n(925382),o=n(237911);function i(e,t){let n=r.sha256.create();if(n.update(e.id),!t){var i;n.update(null!=(i=e.metadata.name)?i:"")}return n.update((0,o.DA)(e).toUpperCase()),n.update("string"==typeof e.source?e.source:e.source.join("")),n.hex()}function a(e,t,n){let o=r.sha256.create();return o.update(null!=e?e:""),o.update(null!=t?t:""),o.update(null!=n?n:""),o.hex()}},766120:function(e,t,n){"use strict";n.d(t,{B:()=>i});var r=n(781708),o=n(780131);function i(e,t,n){let i;return"markdown"===e?{cell_type:"markdown",id:r.Z(),metadata:{name:t},source:null!=n?n:"",result:(0,o.Hx)()}:{cell_type:"code",id:r.Z(),metadata:{language:e,name:t},outputs:[],source:null!=n?n:"",execution_count:null,result:(0,o.Hx)()}}},432405:function(e,t,n){"use strict";n.d(t,{V:()=>r});let r=e=>"string"==typeof e.source?e.source:e.source.join("\n")},742935:function(e,t,n){"use strict";function r(e,t){switch(e){case"valid":case"empty":return null;case"tooLong":return t({id:"Exceeds maximum length of 255 characters"});case"invalidCharacters":return t({id:"Name can only include letters, numbers, spaces, underscores, -, $, and :"})}}n.d(t,{t:()=>r})},187604:function(e,t,n){"use strict";function r(e){let t=new Set(e.map(e=>{var t;return null==(t=e.metadata)?void 0:t.name})),n="";for(let r=1;r<=e.length+1;r++){let e=`cell${r}`;if(!t.has(e)){n=e;break}}return n}n.d(t,{i:()=>r})},310887:function(e,t,n){"use strict";n.d(t,{e:()=>o});var r=n(583700);function o(e){return e===r.U?"wh":"spcs"}},583853:function(e,t,n){"use strict";function r(e){return"pending"===e||"fetching"===e}function o(e){return"loaded"===e||"error"===e}n.d(t,{P:()=>r,f:()=>o})},53722:function(e,t,n){"use strict";function r(e){var t,n;return null!=(n=e.delta)&&null!=(t=n.newElement)&&!!t.exception}n.d(t,{G:()=>r})},859106:function(e,t,n){"use strict";n.d(t,{o:()=>r});let r=e=>!e||"ownerMode"===e},311582:function(e,t,n){"use strict";function r(e){return!!e.match(/integration '.+'/imu)}n.d(t,{T:()=>r,p:()=>i});let o=["`np.float_` was removed in the NumPy 2.0 release. Use `np.float64` instead."];function i(e){return o.some(t=>e.includes(t))}},465507:function(e,t,n){"use strict";n.d(t,{Jl:()=>m,hj:()=>f,m4:()=>p});var r=n(411733),o=n(379092),i=n.n(o),a=n(781708),s=n(896909),l=n(962644),u=n(911083),c=n(237911),d=n(187604),g=n(907833);class p extends Error{constructor(...e){super(...e),this.name="RawCellDetectedError",this.message="RawCellDetectedError"}}class f extends Error{constructor(...e){super(...e),this.name="DuplicatedCellNameError",this.message="DuplicatedCellNameError"}}function m(e,t){let{enableConvertRawToMarkdown:n=!1,enableSafeCellIdGeneration:o=!1,convertRawToMarkdown:m=!1}=t||{},h=i()(e);if(!Array.isArray(h.cells))throw Error("Can not find cell arrays.");let v=new u.CS;for(let e of h.cells){if(!e||!E(e))throw Error("Format of a cell is incorrect.");if(n&&"raw"===e.cell_type){if(!m)throw new p;e.cell_type="markdown"}if("code"!==e.cell_type&&"markdown"!==e.cell_type)throw Error("Cell type is incorrect.");if(o){let t=null==e.id?null:e.id.toString();e.id=v.ensureValidId(t),e.id!==t&&r.cM.info("parseIpynb",`New notebook cell ID is generated: ${e.id}. Original ID: ${t}.`)}else e.id||(e.id=a.Z());if("string"!=typeof e.id||!(0,l.A)(e.id))throw Error("Cell id is not valid.");(0,g.n)(e.id)||(e.id=a.Z()),"code"!==e.cell_type||e.outputs||(e.outputs=[]),"code"===e.cell_type&&void 0===e.execution_count&&(e.execution_count=null),e.source||(e.source=""),E(e.metadata)||(e.metadata={}),e.metadata.name||(e.metadata.name=(0,d.i)(h.cells)),(0,c.fM)(e)&&!e.metadata.language&&(e.metadata.language="python")}let S=new Set(h.cells.map(e=>E(e)&&E(e.metadata)?String(e.metadata.name):""));if(h.cells.length!==S.size)throw new f;return e.nbformat!==s.$&&(h.nbformat=s.$),h}function E(e){return"object"==typeof e}},796522:function(e,t,n){"use strict";function r(e){return e.replace(/Stack trace[\s\S]*/iu,"").trim()}n.d(t,{F:()=>r})},795400:function(e,t,n){"use strict";n.d(t,{E:()=>o});var r=n(217386);function o(e,t,n){let o=(0,r.P)(e.database),i=(0,r.P)(e.schema),a=(0,r.P)(e.name);return`${t}.${n}.${o}.${i}.${a}`}},405776:function(e,t,n){"use strict";n.d(t,{ne:()=>s,qq:()=>o,vi:()=>a});var r=n(639090);let o=[r.w.NOTEBOOK_RECONNECT,r.w.NOTEBOOK_IDLE_TIMEOUT,r.w.USER_NOTEBOOK_SHUTDOWN,r.w.NEW_WEBSOCKET_CONNECTION,r.w.CLOSE_NOTEBOOK_PAGE,r.w.GS_XP_STREAM_CLOSED,r.w.NETWORK_DOWN],i=[r.w.NOTEBOOK_RECONNECT_FAILED,r.w.SERVER_INTERNAL_ERROR,r.w.TIMEOUT_EXCEPTION],a=({udfConnectionStatus:e,disconnectReason:t})=>e===r.Q.Connected&&!o.includes(null!=t?t:"")&&!i.some(e=>null==t?void 0:t.startsWith(e)),s=e=>!!(null==e?void 0:e.startsWith(r.w.NOTEBOOK_RECONNECT_FAILED))},488601:function(e,t,n){"use strict";n.d(t,{X:()=>o});let r=["SAVE_SUCCEEDED","SAVE_FAILED","START_NOTEBOOK","RUN_NOTEBOOK","CANCEL_EXECUTION","UPDATE_PACKAGE"],o=e=>!!r.includes(e.type)&&("RUN_NOTEBOOK"!==e.type&&"START_NOTEBOOK"!==e.type||!1!==e.userTriggered)},913984:function(e,t,n){"use strict";n.d(t,{Dy:()=>l,PJ:()=>d,jX:()=>u,k$:()=>c});var r=n(700577),o=n(852043),i=n(620400),a=n(159771),s=n(36534);function l(e,t){let{role:n,secondaryRoles:r,fullNotebookIdentifier:a,serviceIdentifier:l}=t;return e.api.query(new o.L("CALL SYSTEM$DELETE_RUNNING_NOTEBOOK_INSTANCES({}, {})",(0,s.i)((0,i.m)(a)),(0,s.i)(l)).toQuery(),{role:n,secondaryRoles:r,isInternal:!0,desc:"delete-notebook-instances"})}async function u({userStore:e,fullNotebookIdentifier:t,role:n,secondaryRoles:r}){let i=new o.L().add("CALL SYSTEM$LIST_RUNNING_NOTEBOOK_INSTANCES(?)",(0,a.M)(t)).toQuery(),[[s]]=(await e.api.query(i,{role:n,secondaryRoles:r,isInternal:!0,desc:"system-list-running-notebook-instances"})).rows;return JSON.parse(s).filter(e=>e.serviceId.length>0)}async function c({userStore:e,uniqueId:t,role:n,secondaryRoles:r}){let i=new o.L().add("CALL SYSTEM$GENERATE_NOTEBOOK_FQN_FROM_ID(?)",(0,s.i)(t)).toQuery(),[[a]]=(await e.api.query(i,{role:n,secondaryRoles:r,isInternal:!0,desc:"system-get-notebook-full-identifier-from-unique-id"})).rows;return a}async function d({userStore:e,role:t,secondaryRoles:n}){if(!r.i.ENABLE_UI_FEATURE_NOTEBOOKS_ACTIVE_STATUS())return[];let i=new o.L().add("CALL SYSTEM$LIST_USER_RUNNING_NOTEBOOKS()").toQuery(),a=await e.api.query(i,{role:t,secondaryRoles:n,isInternal:!0,desc:"system-list-user-running-notebooks"});if(!a||0===a.rows.length)return[];let[[s]]=a.rows;return s?JSON.parse(s):[]}},550748:function(e,t,n){"use strict";n.d(t,{Ex:()=>c,Ke:()=>s,_Z:()=>u,_y:()=>a,ae:()=>l});let r=/^[_a-zA-Z]/u,o=/^[_a-zA-Z][_a-zA-Z0-9]*$/u;var i,a=((i={}).DUPLICATE="DUPLICATE",i.RESERVED_WORDS="RESERVED_WORDS",i.INVALID_START="INVALID_START",i.INVALID_CHAR="INVALID_CHAR",i.VARIABLE_CONFLICT="VARIABLE_CONFLICT",i.NONE="NONE",i);function s(e,t){return new Set(["and","as","assert","break","class","continue","def","del","elif","else","except","false","finally","for","from","global","if","import","in","is","lambda","none","nonlocal","not","or","pass","raise","return","true","try","while","with","yield"]).has(e.toLowerCase())?{isValid:!1,reason:"RESERVED_WORDS"}:r.test(e)?o.test(e)?t[e]?{isValid:!1,reason:"VARIABLE_CONFLICT"}:{isValid:!0,reason:"NONE"}:{isValid:!1,reason:"INVALID_CHAR"}:{isValid:!1,reason:"INVALID_START"}}function l(e,t,n){for(let r=0;r<e.length;r++)if(e[r].metadata.name===t&&r!==n)return!1;return!0}function u(e,t){switch(e){case"RESERVED_WORDS":return t({id:"Reserved word in Python cannot be used as a cell name."});case"INVALID_START":return t({id:"Cell names must start with a letter or an underscore."});case"INVALID_CHAR":return t({id:"Cell names can only contain alphanumeric characters and underscores."});case"DUPLICATE":return t({id:"Cell name must be unique."});case"VARIABLE_CONFLICT":return t({id:"Can’t use the same name as a Python variable."});default:return""}}function c(e,t){return t({id:"Failed to rename cell. {message}"},{message:u(e,t)})}},53760:function(e,t,n){"use strict";n.d(t,{V:()=>o});var r=n(76954);let o=e=>{let t=e.trim();return t?t.length>r.g0?"tooLong":/^[a-zA-Z0-9_$\- :]+$/u.test(t)?"valid":"invalidCharacters":"empty"}},907833:function(e,t,n){"use strict";function r(e){return/^[0-9a-fA-F]{8}-([0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}$/u.test(e)}n.d(t,{n:()=>r})},650905:function(e,t,n){"use strict";n.d(t,{K:()=>s});var r=n(847345),o=n(797325),i=n(377053),a=n(992143);function s(){let{read:e}=(0,a.l)(),{formatMessage:t}=(0,o.Z)();return(0,r.useCallback)(async({rootLocation:n,mainFile:r,throwRawError:o})=>{let{stage:a,path:s}=(0,i.T)(n),l=await e(a,s,r);if(!l.success){if(o)throw l.error;throw Error(t({id:"An unexpected error occurred. Try refreshing the page or contact Support if the error persists."}))}return l.content},[t,e])}},746449:function(e,t,n){"use strict";n.d(t,{E:()=>s});var r=n(847345),o=n(452603),i=n(735929),a=n(981053);function s(e){let t=(0,a.k)();return(0,r.useCallback)(async n=>{await (0,i.J)((0,i.R)(e),(0,o.mJ)(n),t)},[e,t])}},197843:function(e,t,n){"use strict";n.d(t,{p:()=>a});var r=n(928874),o=n(847345),i=n(468804);function a(){let{logNavigation:e}=(0,r.f1)();(0,o.useEffect)(()=>{e(i.Hku)},[e])}},401417:function(e,t,n){"use strict";n.d(t,{N:()=>a});var r=n(928874),o=n(847345),i=n(468804);function a(){let e=(0,o.useRef)(),{logEvent:t}=(0,r.f1)(),n=(0,o.useCallback)(()=>{if(!e.current)return;let t=Math.round(performance.now()-e.current);return e.current=void 0,t},[]),a=(0,o.useCallback)(n=>{e.current=performance.now(),t({event:i.fmT,type:"ui_performance",component:"useStageFilesUploader",data:{filesCount:n}})},[t]);return{logUploadStarted:a,logUploadSucceeded:(0,o.useCallback)(e=>{t({event:i.rlY,type:"ui_performance",component:"useStageFilesUploader",data:{uploadedFilesCount:e,uploadingTimeInMs:n()}})},[t,n]),logUploadFailed:(0,o.useCallback)(e=>{t({event:i.U3e,type:"ui_response_error",component:"useStageFilesUploader",data:{error:e,uploadingTimeInMs:n()}})},[t,n])}}},979916:function(e,t,n){"use strict";n.d(t,{N:()=>h});var r=n(17009),o=n(541832),i=n(847345),a=n(797325),s=n(443547),l=n(377053),u=n(126020),c=n(799787),d=n(800840),g=n(545163),p=n(360688),f=n(91559),m=n(992143),E=n(134445);function h(){let{write:e}=(0,m.l)(),t=(0,i.useContext)(d.V1),{formatMessage:n}=(0,a.Z)(),h=(0,u.iA)(),v=(0,E.m)(["globalError"]).untracked;return(0,i.useCallback)(async(i,a,u,d,m)=>{var E,S,_,b;if((null==(S=v.globalError)||null==(E=S.accessError)?void 0:E.code)===r.ox.NetPolicyFailed)throw Error("Unable to save. Check your VPN or network connection and reload the page.");let I=await (0,g.W)(t.get(a,i,p.Y.describe,{secondaryRoles:u}));if((0,f.D)(I))throw Error(n({id:"Could not get details for {type} object. Error: {message}"},{type:i.type.toLowerCase(),message:null==(_=I.error)?void 0:_.message}));if(!I.result)throw Error(n({id:"Could not get details for {type} object."},{type:i.type.toLowerCase()}));let{rootLocation:y,kind:R,isLive:T}=(0,s.R)(I.result.columns[0]),N=y;if("versioned"===R&&!T){let{liveVersionLocationUri:e}=await h({id:i,role:a,secondaryRoles:u});N=(0,c.h)(e,n({id:"Expected a valid live version location"}))}let{stage:C,path:A}=(0,l.T)(N),L=await e(C,o.join(A,o.dirname(I.result.columns[0].mainFile)),o.basename(I.result.columns[0].mainFile),d);if(!L.success){if(m)throw L.error;throw Error(n({id:"Could not save {type} content to stage. Error: {message}"},{type:i.type.toLowerCase(),message:null==(b=L.error)?void 0:b.message}))}},[h,n,t,e,v])}},679239:function(e,t,n){"use strict";n.d(t,{EX:()=>o.E,KP:()=>r.K,NT:()=>a.N,Nk:()=>s.N,p5:()=>i.p});var r=n(650905),o=n(746449),i=n(197843),a=n(401417),s=n(979916)},625361:function(e,t,n){"use strict";n.d(t,{B:()=>E,Q:()=>m});var r=n(286204),o=n(847345),i=n(664983),a=n(928853),s=n(620400),l=n(216300),u=n(799990),c=n(331638),d=n(332287),g=n(309876),p=n(835447);let f=(0,o.createContext)({appStateMachine:{},appPreviewStatus:d.I.loading,setAppPreviewStatus:()=>{},iframeBaseUrl:void 0,iframeRef:(0,o.createRef)(),iframeFetchId:"",setNeedImmediateIframeReload:()=>{},needImmediateIframeReload:"",reloadApp:()=>{},terminateWebsocketConnection:()=>{},initialResponseCacheState:{stateName:"NONE",reset:()=>{}},loadAppTelemetry:{getLoadAppData:()=>({isReload:!1,retryCount:0,firstLoadStartedAt:0,currentLoadStartedAt:0}),onAppLoadStep:()=>void 0,onShowIframe:()=>void 0,incrementRetryCount:()=>void 0,reset:()=>void 0},websocketTelemetry:{getWebsocketData:()=>({firstConnectedAt:void 0,lastConnectedAt:void 0,lastDisconnectedAt:void 0,attemptingToReconnect:!1}),onConnected:()=>void 0,onDisconnected:()=>void 0,onTerminateWebsocketConnection:()=>void 0,onRestartWebsocketConnection:()=>void 0},interactiveStartedTelemetry:{reset:()=>void 0,onWarehouseSelectedAt:()=>void 0},runtimeComputeStatus:void 0,shouldShowIframe:!1,isNativeApp:!1,isInEditMode:!1,setIsInEditMode:()=>{}}),m=(0,o.memo)(({fullStreamlitIdentifier:e,bootstrapResult:t,historyQueryData:n,iframeBaseUrl:m,iframeRef:E,appPreviewStatus:h,setAppPreviewStatus:v,setNeedImmediateIframeReload:S,needImmediateIframeReload:_,initialResponseCacheState:b,loadAppTelemetry:I,websocketTelemetry:y,interactiveStartedTelemetry:R,runtimeComputeStatus:T,shouldShowIframe:N,isNativeApp:C,isInEditMode:A,setIsInEditMode:L,fatalError:k,clearFatalError:w,terminateWebsocketConnection:O,children:D})=>{let{fetchId:M,updateFetchId:x}=(0,i.m)("streamlit-preview-pane"),U=(0,p.D)(e);(0,o.useEffect)(()=>()=>{U.stop()},[U]),(0,o.useEffect)(()=>{h===d.I.suspended&&U.send("SUSPEND")},[h,U]),(0,o.useEffect)(()=>{t.error&&U.send("FATAL",{error:t.error})},[t.error,U]),(0,o.useEffect)(()=>{k&&U.send("FATAL",{error:k})},[k,U]);let P=(0,c.A)(m),{reloadApp:$}=(0,g.k)({fullStreamlitIdentifier:e,clearFatalError:w,appStateMachine:U,appPreviewStatus:h,setAppPreviewStatus:v,updateIframeFetchId:x,loadAppTelemetry:I,websocketTelemetry:y,interactiveStartedTelemetry:R,initialResponseCacheState:b,iframeRef:E,iframeOrigin:P}),F=(0,o.useMemo)(()=>({fullStreamlitIdentifier:e,appStateMachine:U,appPreviewStatus:h,setAppPreviewStatus:v,iframeBaseUrl:m,iframeRef:E,iframeFetchId:M,setNeedImmediateIframeReload:S,needImmediateIframeReload:_,reloadApp:$,terminateWebsocketConnection:O,initialResponseCacheState:b,loadAppTelemetry:I,websocketTelemetry:y,interactiveStartedTelemetry:R,shouldShowIframe:N,runtimeComputeStatus:T,isNativeApp:C,isInEditMode:A,setIsInEditMode:L,fatalError:k}),[e,U,h,v,m,E,M,S,_,$,O,b,I,y,R,N,T,C,A,L,k]);return(0,r.jsx)(u.h,{value:(0,s.m)(e),children:(0,r.jsx)(f.Provider,{value:F,children:(0,r.jsx)(a.X,{value:n||null,children:(0,r.jsx)(l.t,{bootstrapResult:t,children:D})})})})});m.displayName="StreamlitAppProvider";let E=()=>(0,o.useContext)(f)},221874:function(e,t,n){"use strict";n.d(t,{h:()=>E});var r=n(928874),o=n(847345),i=n(209268),a=n(403771),s=n(381366),l=n(620400),u=n(75065),c=n(216300),d=n(812859),g=n(92766),p=n(878085),f=n(468804),m=n(625361);let E=()=>{let e=(0,g.Qh)(),{logEvent:t}=(0,r.f1)(),{logEventToSnowflakeAndDatadog:n}=(0,a.z)(),E=sessionStorage.getItem(i.VE),{debugLog:h}=(0,p.Z)(),{appViewRequestId:v}=(0,c.E)(),{isNativeApp:S,isInEditMode:_}=(0,m.B)();return(0,o.useCallback)(r=>{var o,i,a,c,g;let p=r.fullStreamlitIdentifier?(0,l.m)(r.fullStreamlitIdentifier):void 0,m=null!=(i=r.appViewRequestId)?i:v,b=null!=(a=r.isNativeApp)?a:S,I=null!=(c=r.isInEditMode)?c:_,y={...r.additionalTelemetryParams,...(0,d.T)({error:r.error,isUserError:(null==(o=r.additionalTelemetryParams)?void 0:o.isUserError)===!0}),windowId:E,appViewRequestId:m,isNativeApp:b,isInEditMode:I,runtimeName:r.runtimeName,runMode:null!=(g=r.runMode)?g:(0,s.Y)(r.runtimeName)};e({fullStreamlitIdentifier:r.fullStreamlitIdentifier,componentName:r.componentName,eventName:r.eventName,additionalParams:y});let R={component:r.componentName,event:r.eventName,type:r.eventType,data:{...y,area:f.Y$F,streamlitIdentifier:p}};u.A.disallowedDatadogEventTypes.includes(R.type)?n({...R,type:R.type}):t(R),h("TELEMETRY",r.eventName,R)},[v,S,_,E,t,e,n,h])}},309876:function(e,t,n){"use strict";n.d(t,{k:()=>d});var r=n(403694),o=n(601990),i=n(847345),a=n(750512),s=n(332287),l=n(468804),u=n(331686),c=n(221874);let d=({fullStreamlitIdentifier:e,clearFatalError:t,appStateMachine:n,appPreviewStatus:d,setAppPreviewStatus:g,updateIframeFetchId:p,loadAppTelemetry:f,websocketTelemetry:m,interactiveStartedTelemetry:E,initialResponseCacheState:h,iframeRef:v,iframeOrigin:S})=>{let _=(0,a.EX)(),b=(0,c.h)(),I=(0,o.v)(n,u.pO),y=_?I:d===s.I.suspended;return{reloadApp:(0,i.useCallback)(({isReconnect:o,resetLoadAppTelemetry:i,source:a})=>{if(b({fullStreamlitIdentifier:e,componentName:l.uD0,eventName:l.igR,eventType:"ui_impression",additionalTelemetryParams:{source:a}}),t("fatalErrorPage"===a),y&&!_&&g(s.I.loaded),o&&S){var u;_&&n.send("RESTART"),(0,r.h)(null==(u=v.current)?void 0:u.contentWindow,S),m.onRestartWebsocketConnection()}else _&&("fatalErrorPage"===a?n.send("FORCE_RESTART"):n.send("RESTART")),p();"retry"===a&&(_&&n.send("FAIL"),f.incrementRetryCount()),i&&(f.reset(),E.reset(),h.reset())},[t,y,S,g,_,n,v,b,e,p,f,m,E,h])}}},232938:function(e,t,n){"use strict";n.d(t,{u:()=>i});var r=n(998991),o=n(950343);let i=(0,r.C)({predictableActionArguments:!0,tsTypes:{},schema:{context:{},events:{}},context:{iframeLoadRetryCount:0},id:"streamlitApp",initial:"loading",on:{FATAL:{target:"#streamlitApp.failed"}},states:{loading:{on:{LOADED:{target:"loaded"},FAIL:[{cond:"canIframeLoadRetry",actions:"incrementIframeLoadRetry",target:"loading"},{target:"failed"}]},after:{DEFAULT_DELAY:{target:"failed"}},description:"The app is currently loading. In this state, the app is initializing and preparing to be displayed."},loaded:{on:{SUSPEND:{target:"suspended"},RESTART:{target:"restarting"}},description:"The app has successfully loaded. In this state, the app is fully operational and ready for user interaction."},failed:{on:{FORCE_RESTART:{target:"restarting"}},description:"The app failed to load after reaching the maximum number of retries, encountered a fatal exception, or timed out while loading."},suspended:{on:{LOADED:{target:"loaded"},RESTART:{target:"restarting"}},description:"The app is suspended. In this state, the app is temporarily inactive and not available for user interaction."},restarting:{always:{target:"loading"},entry:{type:"resetIframeLoadRetryCount"},description:"The app is restarting. In this state, the app is resetting and will transition back to the loading state."}}},{delays:{DEFAULT_DELAY:3e4},actions:{incrementIframeLoadRetry:(0,o.f0)({iframeLoadRetryCount:e=>e.iframeLoadRetryCount++}),resetIframeLoadRetryCount:(0,o.f0)({iframeLoadRetryCount:()=>0})},guards:{canIframeLoadRetry:e=>e.iframeLoadRetryCount<3}})},331686:function(e,t,n){"use strict";n.d(t,{E2:()=>o,EV:()=>a,fL:()=>i,pO:()=>r});let r=e=>e.matches("suspended"),o=e=>e.matches("loading")||e.matches("restarting"),i=e=>e.matches("loaded")&&!e.matches("suspended"),a=e=>e.matches("failed")},835447:function(e,t,n){"use strict";n.d(t,{D:()=>c});var r=n(333549),o=n(847345),i=n(781708),a=n(750512),s=n(468804),l=n(221874),u=n(232938);function c(e){let t=(0,a.EX)(),n=(0,l.h)(),c=(0,r.k)(u.u,{id:i.Z()});return(0,o.useEffect)(()=>{if(!t)return;let r=c.subscribe(t=>{var r;(t.changed||!t.historyValue)&&n({fullStreamlitIdentifier:e,componentName:s.uD0,eventName:s.UG5,eventType:"ui_impression",error:t.event.error||void 0,additionalTelemetryParams:{from:null==(r=t.history)?void 0:r.value,to:t.value}})});return()=>{r.unsubscribe()}},[e,t,n,c]),c}},819147:function(e,t,n){"use strict";n.d(t,{F:()=>o});var r=n(286204);let o=()=>(0,r.jsxs)("svg",{width:42,height:36,role:"presentation",viewBox:"0 0 42 36",children:[(0,r.jsx)("path",{d:"M2.5 8H0.5L0 0H3L2.5 8Z",transform:"translate(19.5 14)",fill:"currentcolor"}),(0,r.jsx)("path",{d:"M19.3127 2.65151L1.95602 29.9262C1.10874 31.2577 2.06517 33 3.64335 33H38.3567C39.9348 33 40.8913 31.2577 40.044 29.9263L22.6873 2.65151C21.9014 1.41651 20.0986 1.41651 19.3127 2.65151Z",fill:"none",stroke:"currentcolor",strokeWidth:"2"}),(0,r.jsx)("circle",{cx:"1.5",cy:"1.5",r:"1.5",transform:"translate(19.5 24)",fill:"currentcolor"})]});o.displayName="AlertAsset"},874437:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r={NoopStagger:function(){return a},NoopStaggerProvider:function(){return s},SFDBErrorCode:function(){return l},SnowflakeQueryError:function(){return u},hasCode:function(){return c},hasMessage:function(){return d}};for(var o in r)Object.defineProperty(t,o,{enumerable:!0,get:r[o]});function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let a=class{upsertTags(e){}withTags(e){return this}trace(e,t){10>=this.getLogLevel()&&console.log(e,t)}debug(e,t={}){20>=this.getLogLevel()&&console.log(e,t)}info(e,t={}){30>=this.getLogLevel()&&(console.log(this.getLogLevel()),console.log(e,t))}warn(e,t={},n){40>=this.getLogLevel()&&console.log(e,t)}error(e,t={},n){console.log(e,t)}fatal(e,t={},n){console.log(e,t)}gauge(e,t,n={}){}timing(e,t,n={}){}increment(e,t,n={}){}incrementMulti(e,t,n){}getLogLevel(){if(this.overrideLevel)return this.overrideLevel;if(!process.env.LOG_LEVEL)return 30;switch(process.env.LOG_LEVEL.toLowerCase()){case"trace":return 10;case"debug":return 20;case"info":default:return 30;case"warn":return 40}}constructor(e){i(this,"overrideLevel",void 0),this.overrideLevel=e}},s=class{get(){return this.stagger}constructor(){i(this,"stagger",void 0),this.stagger=new a}};var l=((n={}).ACCOUNT_ALREADY_EXISTS_003723="003723",n.ALREADY_EXISTS_002002="002002",n.NOT_FOUND_002043="002043",n.BROKEN_SHARE_003030="003030",n.NOT_FOUND_001999="001999",n.NOT_FOUND_002003="002003",n.UNKNOWN_IDENTIFIER="002004",n.INSUF_PRIV_003001="003001",n.ACCOUNT_CANNOT_BE_ADDED_003516="003516",n.LISTING_ALREADY_REQUESTED_090532="090532",n.DX_ALREADY_HAS_ACCOUNT_090542="090542",n.DX_DOES_NOT_HAVE_ACCOUNT_090543="090543",n.LISTING_CANNOT_DROP_PUBLISHED_090553="090553",n.LISTING_CANNOT_EDIT_PUBLISHED_090554="090554",n.SHARE_LISTING_ALREADY_SET_090557="090557",n.LISTING_NO_REQUEST_090561="090561",n.LISTING_ALREADY_FULFILLED_090566="090566",n.SHARE_ALREADY_ATTACHED_TO_LISTING_090567="090567",n.TOKEN_EXPIRED_ERROR="390114",n.WAREHOUSE_ALREADY_RESUMED_ERROR="090063",n.WAREHOUSE_ALREADY_SUSPENDED_ERROR="090064",n.WAREHOUSE_SUSPENDED_WHILE_QUEUED_ERROR="090109",n.WAREHOUSE_CANNOT_BE_RESUMED_BECAUSE_RESOURCE_MONITOR_EXCEEDED_QUOTA_ERROR="090073",n.WAREHOUSE_SUSPENDED_ERROR="000608",n.WAREHOUSE_DO_NOT_EXIST_OR_HAVE_ROLE_ACCESS_ERROR="092803",n.STAGE_DOES_NOT_EXIST_OR_HAVE_ROLE_ACCESS_ERROR_092804="092804",n.EXTERNAL_STAGES_NOT_SUPPORTED_092805="092805",n.STREAMLIT_NOT_FOUND_092806="092806",n.NO_WAREHOUSE_FOUND_092807="092807",n.WAREHOUSE_NOT_AVAILBLE_092808="092808",n.UNSUPPORTED_FEATURE="000002",n.NO_FEATURED_SECTIONS="000603",n.NO_ACTIVE_WAREHOUSE="000606",n.INVALID_PROFILE_STATE_090622="090622",n.INVALID_IP_ADDRESS_090302="090302",n.RESULT_NOT_FOUND_000612="000612",n.NO_IMPORT_SHARE_PRIV_090594="090594",n.SHARING_NOT_ENABLED_003027="003027",n.TRIAL_ACCOUNT_SUSPENDED_000666="000666",n.CANNOT_RUN_COMMAND_391833="391833",n.UNKNOWN_FUNCTION_REQUEST_002140="002140",n.CANNOT_AUTO_FULFILL_LISTING_090685="090685",n.CANNOT_AUTO_FULFILL_APP_PACKAGE_090824="090824",n.SHARE_HAS_NON_CONSUMER_TARGETS_090602="090602",n.CANNOT_REPLICATE_TAGS_391810="391810",n.PYTHON_UDF_ERROR="100357",n.CONTAINS_PYTHON_UDF_003948="003948",n.CONTAINS_EXTERNAL_TABLE_003906="003906",n.INVALID_PROPERTY_001420="001420",n.CANNOT_DROP_LISTING_DIRECTLY="090673",n.CANNOT_DROP_LISTING_AUTOFULFILLMENT_ENABLED_090684="090684",n.CANNOT_MODIFY_RETIRED_LISTING_090674="090674",n.SQL_EXECUTION_TIMED_OUT_AND_WAS_CANCELED="000630",n.EMAIL_RECIPIENT_NOT_ALLOWED_394209="394209",n.MONETIZATION_NOT_ENABLED_FOR_ACCOUNT_090659="090659",n.NO_SUITABLE_BILLING_ENTITY_FOR_TARGET_CLOUD_042119="042119",n.NATIVE_APPS_CREATION_FEATURE_NOT_ENABLED_092521="092521",n.NATIVE_APPS_APPLICATION_NO_LONGER_INSTALLED="093079",n.NATIVE_APPS_INSTALLATION_SCRIPT_ERROR_093082="093082",n.ACCOUNT_BUDGET_NOT_ACTIVATE_ERROR_20000="-20000",n.ACCOUNT_BUDGET_SNOWFLAKE_DB_NOT_SETUP_ERROR_002141="002141",n.USER_TASK_RETRY_TARGET_RUN_HAD_NO_FAILURES="091456",n.REVOKE_PARTIALLY_EXECUTED_DEPENDENT_GRANTS_NO_CASCADE_SPECIFIED="003935",n.DMX_BUY_NOT_ENABLED_042105="042105",n.CIRCULAR_ROLE_GRANT_ERROR="003010",n.LISTING_NAME_CANNOT_CONTAIN_DOLLAR_SIGN="092755",n.DRAFT_LISTINGS_PER_ACCOUNT_LIMIT_REACHED="091972",n.EMPTY_SQL_STATEMENT="000900",n.REMOTE_FILE_NOT_FOUND="091016",n.INTERNAL_DISTRIBUTION_FLAG="093085",n.NONE_APPROVED_VERSION="093086",n.NO_DEFAULT_RELEASE_DIRECTIVE="090720",n.USER_ERROR_REPORT_100315="100315",n.SNOWGIT_INTERNAL_ERROR="000600",n.GIT_REPOSITORY_NOT_AUTHORIZED="093550",n.GIT_REPOSITORY_CONNECTION_FAILED="093555",n.GIT_REPOSITORY_UNEXPECTED_BRANCH_HEAD="093560",n.GIT_REPOSITORY_FILE_OR_DIRECTORY_CONFLICT="093561",n.GIT_REPOSITORY_REMOTE_UPDATE_FAILED="093562",n.VSTAGE_LIVE_VERSION_EXISTS="099106",n.VSTAGE_LIVE_VERSION_NOT_FOUND="099108",n.VSTAGE_INVALID_READ_LOCATION="099112",n.VSTAGE_GIT_PUSH_FAILED="099120",n.VSTAGE_GIT_PULL_SUCCESS="099125",n.VSTAGE_GIT_PULL_ALREADY_LATEST="099126",n.VSTAGE_GIT_PULL_FAILED_WITH_MERGE_CONFLICT="099127",n.INSUF_PRIV_391882="391882",n.DYNAMIC_TABLE_MANUAL_REFRESH_FAILED="002742",n.PROPERTY_VALUE_IS_INVALID="001481",n.NOT_ALLOWED_RESHARE_VIEW_AND_FUNCTION="099525",n);let u=class extends Error{toString(){return`${this.code}: ${this.message}, queryId=${this.queryId}`}constructor(e,t){super(null==e?void 0:e.message),i(this,"queryName",void 0),i(this,"code",void 0),i(this,"queryId",void 0),i(this,"sdkName",void 0),i(this,"data",void 0),this.queryName=t,Object.setPrototypeOf(this,new.target.prototype),e.name&&e.code&&e.message&&(this.code=e.code,this.data=e.data,this.sdkName=e.name)}};function c(e){return!!e&&!!e.code}function d(e){return!!e&&!!e.message}}}]);
//# sourceMappingURL=13218-89407d4158e9e644.js.map